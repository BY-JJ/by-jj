import{e as n}from"./app.f5f78651.js";import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";var a="/by-jj/C++/wps4D78.tmp.jpg",p="/by-jj/C++/wps8830.tmp.jpg",t="/by-jj/C++/wpsC1FE.tmp.png",e="/by-jj/C++/wps561.tmp.jpg",o="/by-jj/C++/wps2CB0.tmp.jpg",c="/by-jj/C++/wps6CB8.tmp.jpg",l="/by-jj/C++/wpsA57C.tmp.jpg",u="/by-jj/C++/wpsEDF0.tmp.jpg",r="/by-jj/C++/wps2666.tmp.png",i="/by-jj/C++/wps7F55.tmp.jpg",k="/by-jj/C++/wpsAFCC.tmp.jpg",b="/by-jj/C++/wpsD93E.tmp.jpg",m="/by-jj/C++/wps4E04.tmp.jpg",d="/by-jj/C++/wpsFE7B.tmp.jpg",g="/by-jj/C++/wps7CF5.tmp.jpg",h="/by-jj/C++/wps24B1.tmp.jpg",f="/by-jj/C++/wpsA667.tmp.jpg",y="/by-jj/C++/wps21C2.tmp.png",w="/by-jj/C++/wps83C9.tmp.jpg",v="/by-jj/C++/wpsC2D7.tmp.png",q="/by-jj/C++/wpsFBF9.tmp.jpg",_="/by-jj/C++/wps4A39.tmp.jpg",B="/by-jj/C++/wps6A.tmp.jpg",A="/by-jj/C++/wps4A21.tmp.jpg",P="/by-jj/C++/wpsD01B.tmp.jpg",C="/by-jj/C++/wps1B2F.tmp.jpg",x="/by-jj/C++/wps5B94.tmp.jpg",T="/by-jj/C++/wps96BA.tmp.jpg",j="/by-jj/C++/wpsE392.tmp.jpg",N="/by-jj/C++/wps1487.tmp.jpg",D="/by-jj/C++/wps888F.tmp.jpg",S="/by-jj/C++/wpsEAE4.tmp.jpg",E="/by-jj/C++/wps2221.tmp.jpg";const M={},I=n('<h3 id="_4-7-\u7EE7\u627F\u548C\u6D3E\u751F" tabindex="-1"><a class="header-anchor" href="#_4-7-\u7EE7\u627F\u548C\u6D3E\u751F" aria-hidden="true">#</a> 4.7 \u7EE7\u627F\u548C\u6D3E\u751F</h3><h4 id="_4-7-1-\u7EE7\u627F\u6982\u8FF0" tabindex="-1"><a class="header-anchor" href="#_4-7-1-\u7EE7\u627F\u6982\u8FF0" aria-hidden="true">#</a> 4.7.1 \u7EE7\u627F\u6982\u8FF0</h4><h5 id="_4-7-1-1-\u4E3A\u4EC0\u4E48\u9700\u8981\u7EE7\u627F" tabindex="-1"><a class="header-anchor" href="#_4-7-1-1-\u4E3A\u4EC0\u4E48\u9700\u8981\u7EE7\u627F" aria-hidden="true">#</a> 4.7.1.1 \u4E3A\u4EC0\u4E48\u9700\u8981\u7EE7\u627F</h5><p><img src="'+a+'" alt="wps4D78.tmp.jpg"></p><p><img src="'+p+`" alt="wps8830.tmp.jpg"></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u7F51\u9875\u7C7B</span>
class IndexPage<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token comment">//\u7F51\u9875\u5934\u90E8</span>
	<span class="token keyword">void</span> <span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u7F51\u9875\u5934\u90E8!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u7F51\u9875\u5DE6\u4FA7\u83DC\u5355</span>
	<span class="token keyword">void</span> <span class="token function">LeftNavigation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u5DE6\u4FA7\u5BFC\u822A\u83DC\u5355!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u7F51\u9875\u4E3B\u4F53\u90E8\u5206</span>
	<span class="token keyword">void</span> <span class="token function">MainBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u9996\u9875\u7F51\u9875\u4E3B\u9898\u5185\u5BB9!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u7F51\u9875\u5E95\u90E8</span>
	<span class="token keyword">void</span> <span class="token function">Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u7F51\u9875\u5E95\u90E8!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
private<span class="token operator">:</span>
	string mTitle<span class="token punctuation">;</span> <span class="token comment">//\u7F51\u9875\u6807\u9898</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token number">0</span></span></span>
<span class="token comment">//\u5982\u679C\u4E0D\u4F7F\u7528\u7EE7\u627F\uFF0C\u90A3\u4E48\u5B9A\u4E49\u65B0\u95FB\u9875\u7C7B\uFF0C\u9700\u8981\u91CD\u65B0\u5199\u4E00\u904D\u5DF2\u7ECF\u6709\u7684\u4EE3\u7801</span>
class NewsPage<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token comment">//\u7F51\u9875\u5934\u90E8</span>
	<span class="token keyword">void</span> <span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u7F51\u9875\u5934\u90E8!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u7F51\u9875\u5DE6\u4FA7\u83DC\u5355</span>
	<span class="token keyword">void</span> <span class="token function">LeftNavigation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u5DE6\u4FA7\u5BFC\u822A\u83DC\u5355!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u7F51\u9875\u4E3B\u4F53\u90E8\u5206</span>
	<span class="token keyword">void</span> <span class="token function">MainBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u65B0\u95FB\u7F51\u9875\u4E3B\u4F53\u5185\u5BB9!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u7F51\u9875\u5E95\u90E8</span>
	<span class="token keyword">void</span> <span class="token function">Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u7F51\u9875\u5E95\u90E8!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
private<span class="token operator">:</span>
	string mTitle<span class="token punctuation">;</span> <span class="token comment">//\u7F51\u9875\u6807\u9898</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	NewsPage<span class="token operator">*</span> newspage <span class="token operator">=</span> new NewsPage<span class="token punctuation">;</span>
	newspage<span class="token operator">-&gt;</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	newspage<span class="token operator">-&gt;</span><span class="token function">MainBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	newspage<span class="token operator">-&gt;</span><span class="token function">LeftNavigation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	newspage<span class="token operator">-&gt;</span><span class="token function">Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span></span>
<span class="token comment">//\u4F7F\u7528\u7EE7\u627F\uFF0C\u53EF\u4EE5\u590D\u7528\u5DF2\u6709\u7684\u4EE3\u7801\uFF0C\u65B0\u95FB\u4E1A\u9664\u4E86\u4E3B\u4F53\u90E8\u5206\u4E0D\u4E00\u6837\uFF0C\u5176\u4ED6\u90FD\u662F\u4E00\u6837\u7684</span>
class NewsPage <span class="token operator">:</span> public IndexPage<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token comment">//\u7F51\u9875\u4E3B\u4F53\u90E8\u5206</span>
	<span class="token keyword">void</span> <span class="token function">MainBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u65B0\u95FB\u7F51\u9875\u4E3B\u4E3B\u4F53\u5185\u5BB9!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	NewsPage<span class="token operator">*</span> newspage <span class="token operator">=</span> new NewsPage<span class="token punctuation">;</span>
	newspage<span class="token operator">-&gt;</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	newspage<span class="token operator">-&gt;</span><span class="token function">MainBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	newspage<span class="token operator">-&gt;</span><span class="token function">LeftNavigation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	newspage<span class="token operator">-&gt;</span><span class="token function">Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br></div></div><h5 id="_4-7-1-2-\u7EE7\u627F\u57FA\u672C\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#_4-7-1-2-\u7EE7\u627F\u57FA\u672C\u6982\u5FF5" aria-hidden="true">#</a> 4.7.1.2 \u7EE7\u627F\u57FA\u672C\u6982\u5FF5</h5><p>c++\u6700\u91CD\u8981\u7684\u7279\u5F81\u662F\u4EE3\u7801\u91CD\u7528\uFF0C\u901A\u8FC7\u7EE7\u627F\u673A\u5236\u53EF\u4EE5\u5229\u7528\u5DF2\u6709\u7684\u6570\u636E\u7C7B\u578B\u6765\u5B9A\u4E49\u65B0\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u65B0\u7684\u7C7B\u4E0D\u4EC5\u62E5\u6709\u65E7\u7C7B\u7684\u6210\u5458\uFF0C\u8FD8\u62E5\u6709\u65B0\u5B9A\u4E49\u7684\u6210\u5458\u3002</p><p>\u4E00\u4E2AB\u7C7B\u7EE7\u627F\u4E8EA\u7C7B\uFF0C\u6216\u79F0\u4ECE\u7C7BA\u6D3E\u751F\u7C7BB\u3002\u8FD9\u6837\u7684\u8BDD\uFF0C\u7C7BA\u6210\u4E3A\u57FA\u7C7B\uFF08\u7236\u7C7B\uFF09\uFF0C \u7C7BB\u6210\u4E3A\u6D3E\u751F\u7C7B\uFF08\u5B50\u7C7B\uFF09\u3002</p><p>\u6D3E\u751F\u7C7B\u4E2D\u7684\u6210\u5458\uFF0C\u5305\u542B\u4E24\u5927\u90E8\u5206\uFF1A</p><ul><li><p>\u4E00\u7C7B\u662F\u4ECE\u57FA\u7C7B\u7EE7\u627F\u8FC7\u6765\u7684\uFF0C\u4E00\u7C7B\u662F\u81EA\u5DF1\u589E\u52A0\u7684\u6210\u5458\u3002</p></li><li><p>\u4ECE\u57FA\u7C7B\u7EE7\u627F\u8FC7\u8FC7\u6765\u7684\u8868\u73B0\u5176\u5171\u6027\uFF0C\u800C\u65B0\u589E\u7684\u6210\u5458\u4F53\u73B0\u4E86\u5176\u4E2A\u6027\u3002</p></li></ul><p><img src="`+t+`" alt="wpsC1FE.tmp.png"></p><h5 id="_4-7-1-3-\u6D3E\u751F\u7C7B\u7684\u5B9A\u4E49" tabindex="-1"><a class="header-anchor" href="#_4-7-1-3-\u6D3E\u751F\u7C7B\u7684\u5B9A\u4E49" aria-hidden="true">#</a> 4.7.1.3 \u6D3E\u751F\u7C7B\u7684\u5B9A\u4E49</h5><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code> Class \u6D3E\u751F\u7C7B\u540D <span class="token operator">:</span>  \u7EE7\u627F\u65B9\u5F0F \u57FA\u7C7B\u540D<span class="token punctuation">{</span>
         <span class="token comment">//\u6D3E\u751F\u7C7B\u65B0\u589E\u7684\u6570\u636E\u6210\u5458\u548C\u6210\u5458\u51FD\u6570</span>
   <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u4E09\u79CD\u7EE7\u627F\u65B9\u5F0F\uFF1A</p><ul><li><p>public \uFF1A \u516C\u6709\u7EE7\u627F</p></li><li><p>private \uFF1A \u79C1\u6709\u7EE7\u627F</p></li><li><p>protected \uFF1A \u4FDD\u62A4\u7EE7\u627F</p></li></ul><p>\u4ECE\u7EE7\u627F\u6E90\u4E0A\u5206\uFF1A</p><ul><li><p>\u5355\u7EE7\u627F\uFF1A\u6307\u6BCF\u4E2A\u6D3E\u751F\u7C7B\u53EA\u76F4\u63A5\u7EE7\u627F\u4E86\u4E00\u4E2A\u57FA\u7C7B\u7684\u7279\u5F81</p></li><li><p>\u591A\u7EE7\u627F\uFF1A\u6307\u591A\u4E2A\u57FA\u7C7B\u6D3E\u751F\u51FA\u4E00\u4E2A\u6D3E\u751F\u7C7B\u7684\u7EE7\u627F\u5173\u7CFB,\u591A\u7EE7\u627F\u7684\u6D3E\u751F\u7C7B\u76F4\u63A5\u7EE7\u627F\u4E86\u4E0D\u6B62\u4E00\u4E2A\u57FA\u7C7B\u7684\u7279\u5F81</p></li></ul><h4 id="_4-7-2-\u6D3E\u751F\u7C7B\u8BBF\u95EE\u63A7\u5236" tabindex="-1"><a class="header-anchor" href="#_4-7-2-\u6D3E\u751F\u7C7B\u8BBF\u95EE\u63A7\u5236" aria-hidden="true">#</a> 4.7.2 \u6D3E\u751F\u7C7B\u8BBF\u95EE\u63A7\u5236</h4><p>\u6D3E\u751F\u7C7B\u7EE7\u627F\u57FA\u7C7B\uFF0C\u6D3E\u751F\u7C7B\u62E5\u6709\u57FA\u7C7B\u4E2D\u5168\u90E8\u6210\u5458\u53D8\u91CF\u548C\u6210\u5458\u65B9\u6CD5\uFF08\u9664\u4E86\u6784\u9020\u548C\u6790\u6784\u4E4B\u5916\u7684\u6210\u5458\u65B9\u6CD5\uFF09\uFF0C\u4F46\u662F\u5728\u6D3E\u751F\u7C7B\u4E2D\uFF0C\u7EE7\u627F\u7684\u6210\u5458\u5E76\u4E0D\u4E00\u5B9A\u80FD\u76F4\u63A5\u8BBF\u95EE\uFF0C\u4E0D\u540C\u7684\u7EE7\u627F\u65B9\u5F0F\u4F1A\u5BFC\u81F4\u4E0D\u540C\u7684\u8BBF\u95EE\u6743\u9650\u3002</p><p>\u6D3E\u751F\u7C7B\u7684\u8BBF\u95EE\u6743\u9650\u89C4\u5219\u5982\u4E0B\uFF1A</p><p><img src="`+e+'" alt="wps561.tmp.jpg"></p><p><img src="'+o+`" alt="wps2CB0.tmp.jpg"></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u57FA\u7C7B</span>
class A<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">int</span> mA<span class="token punctuation">;</span>
protected<span class="token operator">:</span>
	<span class="token keyword">int</span> mB<span class="token punctuation">;</span>
private<span class="token operator">:</span>
	<span class="token keyword">int</span> mC<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//1. \u516C\u6709(public)\u7EE7\u627F</span>
class B <span class="token operator">:</span> public A<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">PrintB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> mA <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//\u53EF\u8BBF\u95EE\u57FA\u7C7Bpublic\u5C5E\u6027</span>
		cout <span class="token operator">&lt;&lt;</span> mB <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//\u53EF\u8BBF\u95EE\u57FA\u7C7Bprotected\u5C5E\u6027</span>
		<span class="token comment">//cout &lt;&lt; mC &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bprivate\u5C5E\u6027</span>
	<span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class SubB <span class="token operator">:</span> public B<span class="token punctuation">{</span>
	<span class="token keyword">void</span> <span class="token function">PrintSubB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> mA <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//\u53EF\u8BBF\u95EE\u57FA\u7C7Bpublic\u5C5E\u6027</span>
		cout <span class="token operator">&lt;&lt;</span> mB <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//\u53EF\u8BBF\u95EE\u57FA\u7C7Bprotected\u5C5E\u6027</span>
		<span class="token comment">//cout &lt;&lt; mC &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bprivate\u5C5E\u6027</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	B b<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>mA <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//\u53EF\u8BBF\u95EE\u57FA\u7C7Bpublic\u5C5E\u6027</span>
	<span class="token comment">//cout &lt;&lt; b.mB &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bprotected\u5C5E\u6027</span>
	<span class="token comment">//cout &lt;&lt; b.mC &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bprivate\u5C5E\u6027</span>
<span class="token punctuation">}</span>

<span class="token comment">//2. \u79C1\u6709(private)\u7EE7\u627F</span>
class C <span class="token operator">:</span> private A<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">PrintC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> mA <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//\u53EF\u8BBF\u95EE\u57FA\u7C7Bpublic\u5C5E\u6027</span>
		cout <span class="token operator">&lt;&lt;</span> mB <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//\u53EF\u8BBF\u95EE\u57FA\u7C7Bprotected\u5C5E\u6027</span>
		<span class="token comment">//cout &lt;&lt; mC &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bprivate\u5C5E\u6027</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class SubC <span class="token operator">:</span> public C<span class="token punctuation">{</span>
	<span class="token keyword">void</span> <span class="token function">PrintSubC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token comment">//cout &lt;&lt; mA &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bpublic\u5C5E\u6027</span>
		<span class="token comment">//cout &lt;&lt; mB &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bprotected\u5C5E\u6027</span>
		<span class="token comment">//cout &lt;&lt; mC &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bprivate\u5C5E\u6027</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	C c<span class="token punctuation">;</span>
	<span class="token comment">//cout &lt;&lt; c.mA &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bpublic\u5C5E\u6027</span>
	<span class="token comment">//cout &lt;&lt; c.mB &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bprotected\u5C5E\u6027</span>
	<span class="token comment">//cout &lt;&lt; c.mC &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bprivate\u5C5E\u6027</span>
<span class="token punctuation">}</span>
<span class="token comment">//3. \u4FDD\u62A4(protected)\u7EE7\u627F</span>
class D <span class="token operator">:</span> protected A<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">PrintD</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> mA <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//\u53EF\u8BBF\u95EE\u57FA\u7C7Bpublic\u5C5E\u6027</span>
		cout <span class="token operator">&lt;&lt;</span> mB <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//\u53EF\u8BBF\u95EE\u57FA\u7C7Bprotected\u5C5E\u6027</span>
		<span class="token comment">//cout &lt;&lt; mC &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bprivate\u5C5E\u6027</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class SubD <span class="token operator">:</span> public D<span class="token punctuation">{</span>
	<span class="token keyword">void</span> <span class="token function">PrintD</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> mA <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//\u53EF\u8BBF\u95EE\u57FA\u7C7Bpublic\u5C5E\u6027</span>
		cout <span class="token operator">&lt;&lt;</span> mB <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//\u53EF\u8BBF\u95EE\u57FA\u7C7Bprotected\u5C5E\u6027</span>
		<span class="token comment">//cout &lt;&lt; mC &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bprivate\u5C5E\u6027</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	D d<span class="token punctuation">;</span>
	<span class="token comment">//cout &lt;&lt; d.mA &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bpublic\u5C5E\u6027</span>
	<span class="token comment">//cout &lt;&lt; d.mB &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bprotected\u5C5E\u6027</span>
	<span class="token comment">//cout &lt;&lt; d.mC &lt;&lt; endl; //\u4E0D\u53EF\u8BBF\u95EE\u57FA\u7C7Bprivate\u5C5E\u6027</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br></div></div><h4 id="_4-7-3-\u7EE7\u627F\u4E2D\u7684\u6784\u9020\u548C\u6790\u6784" tabindex="-1"><a class="header-anchor" href="#_4-7-3-\u7EE7\u627F\u4E2D\u7684\u6784\u9020\u548C\u6790\u6784" aria-hidden="true">#</a> 4.7.3 \u7EE7\u627F\u4E2D\u7684\u6784\u9020\u548C\u6790\u6784</h4><h5 id="_4-7-3-1-\u7EE7\u627F\u4E2D\u7684\u5BF9\u8C61\u6A21\u578B" tabindex="-1"><a class="header-anchor" href="#_4-7-3-1-\u7EE7\u627F\u4E2D\u7684\u5BF9\u8C61\u6A21\u578B" aria-hidden="true">#</a> 4.7.3.1 \u7EE7\u627F\u4E2D\u7684\u5BF9\u8C61\u6A21\u578B</h5><p>\u5728C++\u7F16\u8BD1\u5668\u7684\u5185\u90E8\u53EF\u4EE5\u7406\u89E3\u4E3A\u7ED3\u6784\u4F53\uFF0C\u5B50\u7C7B\u662F\u7531\u7236\u7C7B\u6210\u5458\u53E0\u52A0\u5B50\u7C7B\u65B0\u6210\u5458\u800C\u6210\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class Aclass<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">int</span> mA<span class="token punctuation">;</span>
	<span class="token keyword">int</span> mB<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class Bclass <span class="token operator">:</span> public Aclass<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">int</span> mC<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class Cclass <span class="token operator">:</span> public Bclass<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">int</span> mD<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;A size:&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Aclass<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;B size:&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Bclass<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;C size:&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Cclass<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h5 id="_4-7-3-2-\u5BF9\u8C61\u6784\u9020\u548C\u6790\u6784\u7684\u8C03\u7528\u539F\u5219" tabindex="-1"><a class="header-anchor" href="#_4-7-3-2-\u5BF9\u8C61\u6784\u9020\u548C\u6790\u6784\u7684\u8C03\u7528\u539F\u5219" aria-hidden="true">#</a> 4.7.3.2 \u5BF9\u8C61\u6784\u9020\u548C\u6790\u6784\u7684\u8C03\u7528\u539F\u5219</h5><p><strong>\u7EE7\u627F\u4E2D\u7684\u6784\u9020\u548C\u6790\u6784</strong></p><ul><li><p>\u5B50\u7C7B\u5BF9\u8C61\u5728\u521B\u5EFA\u65F6\u4F1A\u9996\u5148\u8C03\u7528\u7236\u7C7B\u7684\u6784\u9020\u51FD\u6570</p></li><li><p>\u7236\u7C7B\u6784\u9020\u51FD\u6570\u6267\u884C\u5B8C\u6BD5\u540E\uFF0C\u624D\u4F1A\u8C03\u7528\u5B50\u7C7B\u7684\u6784\u9020\u51FD\u6570</p></li><li><p>\u5F53\u7236\u7C7B\u6784\u9020\u51FD\u6570\u6709\u53C2\u6570\u65F6\uFF0C\u9700\u8981\u5728\u5B50\u7C7B\u521D\u59CB\u5316\u5217\u8868(\u53C2\u6570\u5217\u8868)\u4E2D\u663E\u793A\u8C03\u7528\u7236\u7C7B\u6784\u9020\u51FD\u6570</p></li><li><p>\u6790\u6784\u51FD\u6570\u8C03\u7528\u987A\u5E8F\u548C\u6784\u9020\u51FD\u6570\u76F8\u53CD</p></li></ul><p><img src="`+c+`" alt="wps6CB8.tmp.jpg"></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class A<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;A\u7C7B\u6784\u9020\u51FD\u6570!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;A\u7C7B\u6790\u6784\u51FD\u6570!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

class B <span class="token operator">:</span> public A<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;B\u7C7B\u6784\u9020\u51FD\u6570!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;B\u7C7B\u6790\u6784\u51FD\u6570!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

class C <span class="token operator">:</span> public B<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;C\u7C7B\u6784\u9020\u51FD\u6570!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;C\u7C7B\u6790\u6784\u51FD\u6570!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	C c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p><strong>\u7EE7\u627F\u4E0E\u7EC4\u5408\u6DF7\u642D\u7684\u6784\u9020\u548C\u6790\u6784</strong></p><p><img src="`+l+`" alt="wpsA57C.tmp.jpg"></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class D<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">D</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;D\u7C7B\u6784\u9020\u51FD\u6570!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">D</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;D\u7C7B\u6790\u6784\u51FD\u6570!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class A<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;A\u7C7B\u6784\u9020\u51FD\u6570!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;A\u7C7B\u6790\u6784\u51FD\u6570!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class B <span class="token operator">:</span> public A<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;B\u7C7B\u6784\u9020\u51FD\u6570!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;B\u7C7B\u6790\u6784\u51FD\u6570!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class C <span class="token operator">:</span> public B<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;C\u7C7B\u6784\u9020\u51FD\u6570!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;C\u7C7B\u6790\u6784\u51FD\u6570!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
public<span class="token operator">:</span>
	D c<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	C c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h4 id="_4-7-3-\u7EE7\u627F\u4E2D\u540C\u540D\u6210\u5458\u7684\u5904\u7406\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#_4-7-3-\u7EE7\u627F\u4E2D\u540C\u540D\u6210\u5458\u7684\u5904\u7406\u65B9\u6CD5" aria-hidden="true">#</a> 4.7.3 \u7EE7\u627F\u4E2D\u540C\u540D\u6210\u5458\u7684\u5904\u7406\u65B9\u6CD5</h4><ul><li><p>\u5F53\u5B50\u7C7B\u6210\u5458\u548C\u7236\u7C7B\u6210\u5458\u540C\u540D\u65F6\uFF0C\u5B50\u7C7B\u4F9D\u7136\u4ECE\u7236\u7C7B\u7EE7\u627F\u540C\u540D\u6210\u5458</p></li><li><p>\u5982\u679C\u5B50\u7C7B\u6709\u6210\u5458\u548C\u7236\u7C7B\u540C\u540D\uFF0C\u5B50\u7C7B\u8BBF\u95EE\u5176\u6210\u5458\u9ED8\u8BA4\u8BBF\u95EE\u5B50\u7C7B\u7684\u6210\u5458(\u672C\u4F5C\u7528\u57DF\uFF0C\u5C31\u8FD1\u539F\u5219)</p></li><li><p>\u5728\u5B50\u7C7B\u901A\u8FC7\u4F5C\u7528\u57DF::\u8FDB\u884C\u540C\u540D\u6210\u5458\u533A\u5206(\u5728\u6D3E\u751F\u7C7B\u4E2D\u4F7F\u7528\u57FA\u7C7B\u7684\u540C\u540D\u6210\u5458\uFF0C\u663E\u793A\u4F7F\u7528\u7C7B\u540D\u9650\u5B9A\u7B26)</p></li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class Base<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Base</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">mParam</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> mParam <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
public<span class="token operator">:</span>
	<span class="token keyword">int</span> mParam<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

class Derived <span class="token operator">:</span> public Base<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Derived</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">mParam</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token comment">//\u5728\u6D3E\u751F\u7C7B\u4E2D\u4F7F\u7528\u548C\u57FA\u7C7B\u7684\u540C\u540D\u6210\u5458,\u663E\u793A\u4F7F\u7528\u7C7B\u540D\u9650\u5B9A\u7B26</span>
		cout <span class="token operator">&lt;&lt;</span> Base<span class="token operator">::</span>mParam <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> mParam <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u8FD4\u56DE\u57FA\u7C7B\u91CD\u540D\u6210\u5458</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> <span class="token function">getBaseParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span>  Base<span class="token operator">::</span>mParam<span class="token punctuation">;</span> <span class="token punctuation">}</span>
public<span class="token operator">:</span>
	<span class="token keyword">int</span> mParam<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	Derived derived<span class="token punctuation">;</span>
	<span class="token comment">//\u6D3E\u751F\u7C7B\u548C\u57FA\u7C7B\u6210\u5458\u5C5E\u6027\u91CD\u540D\uFF0C\u5B50\u7C7B\u8BBF\u95EE\u6210\u5458\u9ED8\u8BA4\u662F\u5B50\u7C7B\u6210\u5458</span>
	cout <span class="token operator">&lt;&lt;</span> derived<span class="token punctuation">.</span>mParam <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//10</span>
	derived<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//\u7C7B\u5916\u5982\u4F55\u83B7\u5F97\u57FA\u7C7B\u91CD\u540D\u6210\u5458\u5C5E\u6027</span>
	derived<span class="token punctuation">.</span><span class="token function">getBaseParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Base:mParam:&quot;</span> <span class="token operator">&lt;&lt;</span> derived<span class="token punctuation">.</span><span class="token function">getBaseParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p><strong>\u6CE8\u610F: \u5982\u679C\u91CD\u65B0\u5B9A\u4E49\u4E86\u57FA\u7C7B\u4E2D\u7684\u91CD\u8F7D\u51FD\u6570\uFF0C\u5C06\u4F1A\u53D1\u751F\u4EC0\u4E48\uFF1F</strong></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class Base<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Base::void func1()&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> param<span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Base::void func1(int param)&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">myfunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Base::void myfunc()&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class Derived1 <span class="token operator">:</span> public Base<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">myfunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Derived1::void myfunc()&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class Derived2 <span class="token operator">:</span> public Base<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token comment">//\u6539\u53D8\u6210\u5458\u51FD\u6570\u7684\u53C2\u6570\u5217\u8868</span>
	<span class="token keyword">void</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> param1<span class="token punctuation">,</span> <span class="token keyword">int</span> param2<span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Derived2::void func1(int param1,int param2)&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class Derived3 <span class="token operator">:</span> public Base<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token comment">//\u6539\u53D8\u6210\u5458\u51FD\u6570\u7684\u8FD4\u56DE\u503C</span>
	<span class="token keyword">int</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> param<span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Derived3::int func1(int param)&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	Derived1 derived1<span class="token punctuation">;</span>
	derived1<span class="token punctuation">.</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	derived1<span class="token punctuation">.</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	derived1<span class="token punctuation">.</span><span class="token function">myfunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;-------------&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	Derived2 derived2<span class="token punctuation">;</span>
	<span class="token comment">//derived2.func1();  //func1\u88AB\u9690\u85CF</span>
	<span class="token comment">//derived2.func1(20); //func2\u88AB\u9690\u85CF</span>
	derived2<span class="token punctuation">.</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u91CD\u8F7Dfunc1\u4E4B\u540E\uFF0C\u57FA\u7C7B\u7684\u51FD\u6570\u88AB\u9690\u85CF</span>
	derived2<span class="token punctuation">.</span><span class="token function">myfunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;-------------&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	Derived3 derived3<span class="token punctuation">;</span>
	<span class="token comment">//derived3.func1();  \u6CA1\u6709\u91CD\u65B0\u5B9A\u4E49\u7684\u91CD\u8F7D\u7248\u672C\u88AB\u9690\u85CF</span>
	derived3<span class="token punctuation">.</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	derived3<span class="token punctuation">.</span><span class="token function">myfunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><ul><li><p>Derive1 \u91CD\u5B9A\u4E49\u4E86Base\u7C7B\u7684myfunc\u51FD\u6570\uFF0Cderive1\u53EF\u8BBF\u95EEfunc1\u53CA\u5176\u91CD\u8F7D\u7248\u672C\u7684\u51FD\u6570\u3002</p></li><li><p>Derive2\u901A\u8FC7\u6539\u53D8\u51FD\u6570\u53C2\u6570\u5217\u8868\u7684\u65B9\u5F0F\u91CD\u65B0\u5B9A\u4E49\u4E86\u57FA\u7C7B\u7684func1\u51FD\u6570\uFF0C\u5219\u4ECE\u57FA\u7C7B\u4E2D\u7EE7\u627F\u6765\u7684\u5176\u4ED6\u91CD\u8F7D\u7248\u672C\u88AB\u9690\u85CF\uFF0C\u4E0D\u53EF\u8BBF\u95EE</p></li><li><p>Derive3\u901A\u8FC7\u6539\u53D8\u51FD\u6570\u8FD4\u56DE\u7C7B\u578B\u7684\u65B9\u5F0F\u91CD\u65B0\u5B9A\u4E49\u4E86\u57FA\u7C7B\u7684func1\u51FD\u6570\uFF0C\u5219\u4ECE\u57FA\u7C7B\u7EE7\u627F\u6765\u7684\u6CA1\u6709\u91CD\u65B0\u5B9A\u4E49\u7684\u91CD\u8F7D\u7248\u672C\u7684\u51FD\u6570\u5C06\u88AB\u9690\u85CF\u3002</p></li></ul><p><strong>\u4EFB\u4F55\u65F6\u5019\u91CD\u65B0\u5B9A\u4E49\u57FA\u7C7B\u4E2D\u7684\u4E00\u4E2A\u91CD\u8F7D\u51FD\u6570\uFF0C\u5728\u65B0\u7C7B\u4E2D\u6240\u6709\u7684\u5176\u4ED6\u7248\u672C\u5C06\u88AB\u81EA\u52A8\u9690\u85CF.</strong></p><h4 id="_4-7-4-\u975E\u81EA\u52A8\u7EE7\u627F\u7684\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#_4-7-4-\u975E\u81EA\u52A8\u7EE7\u627F\u7684\u51FD\u6570" aria-hidden="true">#</a> 4.7.4 \u975E\u81EA\u52A8\u7EE7\u627F\u7684\u51FD\u6570</h4><p>\u4E0D\u662F\u6240\u6709\u7684\u51FD\u6570\u90FD\u80FD\u81EA\u52A8\u4ECE\u57FA\u7C7B\u7EE7\u627F\u5230\u6D3E\u751F\u7C7B\u4E2D\u3002\u6784\u9020\u51FD\u6570\u548C\u6790\u6784\u51FD\u6570\u7528\u6765\u5904\u7406\u5BF9\u8C61\u7684\u521B\u5EFA\u548C\u6790\u6784\u64CD\u4F5C\uFF0C\u6784\u9020\u548C\u6790\u6784\u51FD\u6570\u53EA\u77E5\u9053\u5BF9\u5B83\u4EEC\u7684\u7279\u5B9A\u5C42\u6B21\u7684\u5BF9\u8C61\u505A\u4EC0\u4E48\uFF0C\u4E5F\u5C31\u662F\u8BF4\u6784\u9020\u51FD\u6570\u548C\u6790\u6784\u51FD\u6570\u4E0D\u80FD\u88AB\u7EE7\u627F\uFF0C\u5FC5\u987B\u4E3A\u6BCF\u4E00\u4E2A\u7279\u5B9A\u7684\u6D3E\u751F\u7C7B\u5206\u522B\u521B\u5EFA\u3002</p><p>\u53E6\u5916operator=\u4E5F\u4E0D\u80FD\u88AB\u7EE7\u627F\uFF0C\u56E0\u4E3A\u5B83\u5B8C\u6210\u7C7B\u4F3C\u6784\u9020\u51FD\u6570\u7684\u884C\u4E3A\u3002\u4E5F\u5C31\u662F\u8BF4\u5C3D\u7BA1\u6211\u4EEC\u77E5\u9053\u5982\u4F55\u7531=\u53F3\u8FB9\u7684\u5BF9\u8C61\u5982\u4F55\u521D\u59CB\u5316=\u5DE6\u8FB9\u7684\u5BF9\u8C61\u7684\u6240\u6709\u6210\u5458\uFF0C\u4F46\u662F\u8FD9\u4E2A\u5E76\u4E0D\u610F\u5473\u7740\u5BF9\u5176\u6D3E\u751F\u7C7B\u4F9D\u7136\u6709\u6548\u3002</p><p>\u5728\u7EE7\u627F\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u5982\u679C\u6CA1\u6709\u521B\u5EFA\u8FD9\u4E9B\u51FD\u6570\uFF0C\u7F16\u8BD1\u5668\u4F1A\u81EA\u52A8\u751F\u6210\u5B83\u4EEC\u3002</p><h4 id="_4-7-5-\u7EE7\u627F\u4E2D\u7684\u9759\u6001\u6210\u5458\u7279\u6027" tabindex="-1"><a class="header-anchor" href="#_4-7-5-\u7EE7\u627F\u4E2D\u7684\u9759\u6001\u6210\u5458\u7279\u6027" aria-hidden="true">#</a> 4.7.5 \u7EE7\u627F\u4E2D\u7684\u9759\u6001\u6210\u5458\u7279\u6027</h4><p>\u9759\u6001\u6210\u5458\u51FD\u6570\u548C\u975E\u9759\u6001\u6210\u5458\u51FD\u6570\u7684\u5171\u540C\u70B9:</p><ol><li><p>\u4ED6\u4EEC\u90FD\u53EF\u4EE5\u88AB\u7EE7\u627F\u5230\u6D3E\u751F\u7C7B\u4E2D\u3002</p></li><li><p>\u5982\u679C\u91CD\u65B0\u5B9A\u4E49\u4E00\u4E2A\u9759\u6001\u6210\u5458\u51FD\u6570\uFF0C\u6240\u6709\u5728\u57FA\u7C7B\u4E2D\u7684\u5176\u4ED6\u91CD\u8F7D\u51FD\u6570\u4F1A\u88AB\u9690\u85CF\u3002</p></li><li><p>\u5982\u679C\u6211\u4EEC\u6539\u53D8\u57FA\u7C7B\u4E2D\u4E00\u4E2A\u51FD\u6570\u7684\u7279\u5F81\uFF0C\u6240\u6709\u4F7F\u7528\u8BE5\u51FD\u6570\u540D\u7684\u57FA\u7C7B\u7248\u672C\u90FD\u4F1A\u88AB\u9690\u85CF\u3002</p></li></ol><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class Base<span class="token punctuation">{</span>
public<span class="token operator">:</span>
   <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> sNum<span class="token punctuation">;</span> <span class="token punctuation">}</span>
   <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token keyword">int</span> param<span class="token punctuation">)</span><span class="token punctuation">{</span>
   	<span class="token keyword">return</span> sNum <span class="token operator">+</span> param<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
public<span class="token operator">:</span>
   <span class="token keyword">static</span> <span class="token keyword">int</span> sNum<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> Base<span class="token operator">::</span>sNum <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

class Derived <span class="token operator">:</span> public Base<span class="token punctuation">{</span>
public<span class="token operator">:</span>
   <span class="token keyword">static</span> <span class="token keyword">int</span> sNum<span class="token punctuation">;</span> <span class="token comment">//\u57FA\u7C7B\u9759\u6001\u6210\u5458\u5C5E\u6027\u5C06\u88AB\u9690\u85CF</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token number">0</span></span></span>
   <span class="token comment">//\u91CD\u5B9A\u4E49\u4E00\u4E2A\u51FD\u6570\uFF0C\u57FA\u7C7B\u4E2D\u91CD\u8F7D\u7684\u51FD\u6570\u88AB\u9690\u85CF</span>
   <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token keyword">int</span> param1<span class="token punctuation">,</span> <span class="token keyword">int</span> param2<span class="token punctuation">)</span><span class="token punctuation">{</span>
   	<span class="token keyword">return</span> sNum <span class="token operator">+</span> param1 <span class="token operator">+</span> param2<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span></span>
   <span class="token comment">//\u6539\u53D8\u57FA\u7C7B\u51FD\u6570\u7684\u67D0\u4E2A\u7279\u5F81\uFF0C\u8FD4\u56DE\u503C\u6216\u8005\u53C2\u6570\u4E2A\u6570\uFF0C\u5C06\u4F1A\u9690\u85CF\u57FA\u7C7B\u91CD\u8F7D\u7684\u51FD\u6570</span>
   <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token keyword">int</span> param1<span class="token punctuation">,</span> <span class="token keyword">int</span> param2<span class="token punctuation">)</span><span class="token punctuation">{</span>
   	cout <span class="token operator">&lt;&lt;</span>  sNum <span class="token operator">+</span> param1 <span class="token operator">+</span> param2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> Derived<span class="token operator">::</span>sNum <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h4 id="_4-7-6-\u591A\u7EE7\u627F" tabindex="-1"><a class="header-anchor" href="#_4-7-6-\u591A\u7EE7\u627F" aria-hidden="true">#</a> 4.7.6 \u591A\u7EE7\u627F</h4><h5 id="_4-7-6-1-\u591A\u7EE7\u627F\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#_4-7-6-1-\u591A\u7EE7\u627F\u6982\u5FF5" aria-hidden="true">#</a> 4.7.6.1 \u591A\u7EE7\u627F\u6982\u5FF5</h5><p>\u6211\u4EEC\u53EF\u4EE5\u4ECE\u4E00\u4E2A\u7C7B\u7EE7\u627F\uFF0C\u6211\u4EEC\u4E5F\u53EF\u4EE5\u80FD\u540C\u65F6\u4ECE\u591A\u4E2A\u7C7B\u7EE7\u627F\uFF0C\u8FD9\u5C31\u662F\u591A\u7EE7\u627F\u3002\u4F46\u662F\u7531\u4E8E\u591A\u7EE7\u627F\u662F\u975E\u5E38\u53D7\u4E89\u8BAE\u7684\uFF0C\u4ECE\u591A\u4E2A\u7C7B\u7EE7\u627F\u53EF\u80FD\u4F1A\u5BFC\u81F4\u51FD\u6570\u3001\u53D8\u91CF\u7B49\u540C\u540D\u5BFC\u81F4\u8F83\u591A\u7684\u6B67\u4E49\u3002</p><p><img src="`+u+`" alt="wpsEDF0.tmp.jpg"></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class Base1<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Base1::func1&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class Base2<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Base2::func1&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Base2::func2&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//\u6D3E\u751F\u7C7B\u7EE7\u627FBase1\u3001Base2</span>
class Derived <span class="token operator">:</span> public Base1<span class="token punctuation">,</span> public Base2<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	Derived derived<span class="token punctuation">;</span>
	<span class="token comment">//func1\u662F\u4ECEBase1\u7EE7\u627F\u6765\u7684\u8FD8\u662F\u4ECEBase2\u7EE7\u627F\u6765\u7684\uFF1F</span>
	<span class="token comment">//derived.func1(); </span>
	derived<span class="token punctuation">.</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//\u89E3\u51B3\u6B67\u4E49:\u663E\u793A\u6307\u5B9A\u8C03\u7528\u90A3\u4E2A\u57FA\u7C7B\u7684func1</span>
	derived<span class="token punctuation">.</span>Base1<span class="token operator">::</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	derived<span class="token punctuation">.</span>Base2<span class="token operator">::</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>\u591A\u7EE7\u627F\u4F1A\u5E26\u6765\u4E00\u4E9B\u4E8C\u4E49\u6027\u7684\u95EE\u9898\uFF0C \u5982\u679C\u4E24\u4E2A\u57FA\u7C7B\u4E2D\u6709\u540C\u540D\u7684\u51FD\u6570\u6216\u8005\u53D8\u91CF\uFF0C\u90A3\u4E48\u901A\u8FC7\u6D3E\u751F\u7C7B\u5BF9\u8C61\u53BB\u8BBF\u95EE\u8FD9\u4E2A\u51FD\u6570\u6216\u53D8\u91CF\u65F6\u5C31\u4E0D\u80FD\u660E\u786E\u5230\u5E95\u8C03\u7528\u4ECE\u57FA\u7C7B1\u7EE7\u627F\u7684\u7248\u672C\u8FD8\u662F\u4ECE\u57FA\u7C7B2\u7EE7\u627F\u7684\u7248\u672C\uFF1F</p><p>\u89E3\u51B3\u65B9\u6CD5\u5C31\u662F\u663E\u793A\u6307\u5B9A\u8C03\u7528\u90A3\u4E2A\u57FA\u7C7B\u7684\u7248\u672C\u3002</p><h5 id="_4-7-6-2-\u83F1\u5F62\u7EE7\u627F\u548C\u865A\u7EE7\u627F" tabindex="-1"><a class="header-anchor" href="#_4-7-6-2-\u83F1\u5F62\u7EE7\u627F\u548C\u865A\u7EE7\u627F" aria-hidden="true">#</a> 4.7.6.2 \u83F1\u5F62\u7EE7\u627F\u548C\u865A\u7EE7\u627F</h5><p>\u4E24\u4E2A\u6D3E\u751F\u7C7B\u7EE7\u627F\u540C\u4E00\u4E2A\u57FA\u7C7B\u800C\u53C8\u6709\u67D0\u4E2A\u7C7B\u540C\u65F6\u7EE7\u627F\u8005\u4E24\u4E2A\u6D3E\u751F\u7C7B\uFF0C\u8FD9\u79CD\u7EE7\u627F\u88AB\u79F0\u4E3A\u83F1\u5F62\u7EE7\u627F\uFF0C\u6216\u8005\u94BB\u77F3\u578B\u7EE7\u627F\u3002</p><p><img src="`+r+`" alt="wps2666.tmp.png"></p><p>\u8FD9\u79CD\u7EE7\u627F\u6240\u5E26\u6765\u7684\u95EE\u9898\uFF1A</p><ol><li><p>\u7F8A\u7EE7\u627F\u4E86\u52A8\u7269\u7684\u6570\u636E\u548C\u51FD\u6570\uFF0C\u9E35\u540C\u6837\u7EE7\u627F\u4E86\u52A8\u7269\u7684\u6570\u636E\u548C\u51FD\u6570\uFF0C\u5F53\u8349\u6CE5\u9A6C\u8C03\u7528\u51FD\u6570\u6216\u8005\u6570\u636E\u65F6\uFF0C\u5C31\u4F1A\u4EA7\u751F\u4E8C\u4E49\u6027\u3002</p></li><li><p>\u8349\u6CE5\u9A6C\u7EE7\u627F\u81EA\u52A8\u7269\u7684\u51FD\u6570\u548C\u6570\u636E\u7EE7\u627F\u4E86\u4E24\u4EFD\uFF0C\u5176\u5B9E\u6211\u4EEC\u5E94\u8BE5\u6E05\u695A\uFF0C\u8FD9\u4EFD\u6570\u636E\u6211\u4EEC\u53EA\u9700\u8981\u4E00\u4EFD\u5C31\u53EF\u4EE5\u3002</p></li></ol><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class BigBase<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">BigBase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> mParam <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;BigBase::func&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
public<span class="token operator">:</span>
	<span class="token keyword">int</span> mParam<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

class Base1 <span class="token operator">:</span> public BigBase<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
class Base2 <span class="token operator">:</span> public BigBase<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
class Derived <span class="token operator">:</span> public Base1<span class="token punctuation">,</span> public Base2<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	Derived derived<span class="token punctuation">;</span>
	<span class="token comment">//1. \u5BF9\u201Cfunc\u201D\u7684\u8BBF\u95EE\u4E0D\u660E\u786E</span>
	<span class="token comment">//derived.func();</span>
	<span class="token comment">//cout &lt;&lt; derived.mParam &lt;&lt; endl;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;derived.Base1::mParam:&quot;</span> <span class="token operator">&lt;&lt;</span> derived<span class="token punctuation">.</span>Base1<span class="token operator">::</span>mParam <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;derived.Base2::mParam:&quot;</span> <span class="token operator">&lt;&lt;</span> derived<span class="token punctuation">.</span>Base2<span class="token operator">::</span>mParam <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">//2. \u91CD\u590D\u7EE7\u627F</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Derived size:&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Derived<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//8</span>

	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>\u4E0A\u8FF0\u95EE\u9898\u5982\u4F55\u89E3\u51B3\uFF1F\u5BF9\u4E8E\u8C03\u7528\u4E8C\u4E49\u6027\uFF0C\u90A3\u4E48\u53EF\u901A\u8FC7\u6307\u5B9A\u8C03\u7528\u90A3\u4E2A\u57FA\u7C7B\u7684\u65B9\u5F0F\u6765\u89E3\u51B3\uFF0C\u90A3\u4E48\u91CD\u590D\u7EE7\u627F\u600E\u4E48\u89E3\u51B3\uFF1F</p><p>\u5BF9\u4E8E\u8FD9\u79CD\u83F1\u5F62\u7EE7\u627F\u6240\u5E26\u6765\u7684\u4E24\u4E2A\u95EE\u9898\uFF0Cc++\u4E3A\u6211\u4EEC\u63D0\u4F9B\u4E86\u4E00\u79CD\u65B9\u5F0F\uFF0C\u91C7\u7528\u865A\u57FA\u7C7B\u3002\u90A3\u4E48\u6211\u4EEC\u91C7\u7528\u865A\u57FA\u7C7B\u65B9\u5F0F\u5C06\u4EE3\u7801\u4FEE\u6539\u5982\u4E0B\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class BigBase<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">BigBase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> mParam <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;BigBase::func&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
public<span class="token operator">:</span>
	<span class="token keyword">int</span> mParam<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

class Base1 <span class="token operator">:</span> virtual public BigBase<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
class Base2 <span class="token operator">:</span> virtual public BigBase<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
class Derived <span class="token operator">:</span> public Base1<span class="token punctuation">,</span> public Base2<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	Derived derived<span class="token punctuation">;</span>
	<span class="token comment">//\u4E8C\u4E49\u6027\u95EE\u9898\u89E3\u51B3</span>
	derived<span class="token punctuation">.</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> derived<span class="token punctuation">.</span>mParam <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//\u8F93\u51FA\u7ED3\u679C:12</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Derived size:&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Derived<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>\u4EE5\u4E0A\u7A0B\u5E8FBase1 \uFF0CBase2\u91C7\u7528\u865A\u7EE7\u627F\u65B9\u5F0F\u7EE7\u627FBigBase,\u90A3\u4E48BigBase\u88AB\u79F0\u4E3A\u865A\u57FA\u7C7B\u3002</p><p>\u901A\u8FC7\u865A\u7EE7\u627F\u89E3\u51B3\u4E86\u83F1\u5F62\u7EE7\u627F\u6240\u5E26\u6765\u7684\u4E8C\u4E49\u6027\u95EE\u9898\u3002</p><p><strong>\u4F46\u662F\u865A\u57FA\u7C7B\u662F\u5982\u4F55\u89E3\u51B3\u4E8C\u4E49\u6027\u7684\u5462\uFF1F\u5E76\u4E14derived\u5927\u5C0F\u4E3A12\u5B57\u8282\uFF0C\u8FD9\u662F\u600E\u4E48\u56DE\u4E8B\uFF1F</strong></p><h5 id="_4-7-6-3-\u865A\u7EE7\u627F\u5B9E\u73B0\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_4-7-6-3-\u865A\u7EE7\u627F\u5B9E\u73B0\u539F\u7406" aria-hidden="true">#</a> 4.7.6.3 \u865A\u7EE7\u627F\u5B9E\u73B0\u539F\u7406</h5><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class BigBase<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">BigBase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> mParam <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;BigBase::func&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span>
public<span class="token operator">:</span> <span class="token keyword">int</span> mParam<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token number">0</span> </span><span class="token comment">//\u865A\u7EE7\u627F</span></span>
class Base1 <span class="token operator">:</span> virtual public BigBase<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
class Base2 <span class="token operator">:</span> virtual public BigBase<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span> <span class="token comment">//\u666E\u901A\u7EE7\u627F</span></span>
class Base1 <span class="token operator">:</span>  public BigBase<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
class Base2 <span class="token operator">:</span>  public BigBase<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
class Derived <span class="token operator">:</span> public Base1<span class="token punctuation">,</span> public Base2<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><table><thead><tr><th></th><th>\u666E\u901A\u7EE7\u627F</th><th>\u865A\u7EE7\u627F</th></tr></thead><tbody><tr><td>BigBase\uFF1A</td><td><img src="`+i+'" alt="wps7F55.tmp.jpg"></td><td><img src="'+k+'" alt="wpsAFCC.tmp.jpg"></td></tr><tr><td>Base1\uFF1A</td><td><img src="'+b+'" alt="wpsD93E.tmp.jpg"></td><td><img src="'+m+'" alt="wps4E04.tmp.jpg"></td></tr><tr><td>Base2\uFF1A</td><td><img src="'+d+'" alt="wpsFE7B.tmp.jpg"></td><td><img src="'+g+'" alt="wps7CF5.tmp.jpg"></td></tr><tr><td>Derived\uFF1A</td><td><img src="'+h+'" alt="wps24B1.tmp.jpg"></td><td><img src="'+f+`" alt="wpsA667.tmp.jpg"></td></tr></tbody></table><p>\u901A\u8FC7\u5185\u5B58\u56FE\uFF0C\u6211\u4EEC\u53D1\u73B0\u666E\u901A\u7EE7\u627F\u548C\u865A\u7EE7\u627F\u7684\u5BF9\u8C61\u5185\u5B58\u56FE\u662F\u4E0D\u4E00\u6837\u7684\u3002\u6211\u4EEC\u4E5F\u53EF\u4EE5\u731C\u6D4B\u5230\u7F16\u8BD1\u5668\u80AF\u5B9A\u5BF9\u6211\u4EEC\u7F16\u5199\u7684\u7A0B\u5E8F\u505A\u4E86\u4E00\u4E9B\u624B\u811A\u3002</p><ul><li><p>BigBase \u83F1\u5F62\u6700\u9876\u5C42\u7684\u7C7B\uFF0C\u5185\u5B58\u5E03\u5C40\u56FE\u6CA1\u6709\u53D1\u751F\u6539\u53D8\u3002</p></li><li><p>Base1\u548CBase2\u901A\u8FC7\u865A\u7EE7\u627F\u7684\u65B9\u5F0F\u6D3E\u751F\u81EABigBase,\u8FD9\u4E24\u4E2A\u5BF9\u8C61\u7684\u5E03\u5C40\u56FE\u4E2D\u53EF\u4EE5\u770B\u51FA\u7F16\u8BD1\u5668\u4E3A\u6211\u4EEC\u7684\u5BF9\u8C61\u4E2D\u589E\u52A0\u4E86\u4E00\u4E2Avbptr (virtual base pointer),vbptr\u6307\u5411\u4E86\u4E00\u5F20\u8868\uFF0C\u8FD9\u5F20\u8868\u4FDD\u5B58\u4E86\u5F53\u524D\u7684\u865A\u6307\u9488\u76F8\u5BF9\u4E8E\u865A\u57FA\u7C7B\u7684\u9996\u5730\u5740\u7684\u504F\u79FB\u91CF\u3002</p></li><li><p>Derived\u6D3E\u751F\u4E8EBase1\u548CBase2,\u7EE7\u627F\u4E86\u4E24\u4E2A\u57FA\u7C7B\u7684vbptr\u6307\u9488\uFF0C\u5E76\u8C03\u6574\u4E86vbptr\u4E0E\u865A\u57FA\u7C7B\u7684\u9996\u5730\u5740\u7684\u504F\u79FB\u91CF\u3002</p></li></ul><p>\u7531\u6B64\u53EF\u77E5\u7F16\u8BD1\u5668\u5E2E\u6211\u4EEC\u505A\u4E86\u4E00\u4E9B\u5E55\u540E\u5DE5\u4F5C\uFF0C\u4F7F\u5F97\u8FD9\u79CD\u83F1\u5F62\u95EE\u9898\u5728\u7EE7\u627F\u65F6\u5019\u80FD\u53EA\u7EE7\u627F\u4E00\u4EFD\u6570\u636E\uFF0C\u5E76\u4E14\u4E5F\u89E3\u51B3\u4E86\u4E8C\u4E49\u6027\u7684\u95EE\u9898\u3002\u73B0\u5728\u6A21\u578B\u5C31\u53D8\u6210\u4E86Base1\u548C Base2 Derived\u4E09\u4E2A\u7C7B\u5BF9\u8C61\u5171\u4EAB\u4E86\u4E00\u4EFDBigBase\u6570\u636E\u3002</p><p>\u5F53\u4F7F\u7528\u865A\u7EE7\u627F\u65F6\uFF0C\u865A\u57FA\u7C7B\u662F\u88AB\u5171\u4EAB\u7684\uFF0C\u4E5F\u5C31\u662F\u5728\u7EE7\u627F\u4F53\u7CFB\u4E2D\u65E0\u8BBA\u88AB\u7EE7\u627F\u591A\u5C11\u6B21\uFF0C\u5BF9\u8C61\u5185\u5B58\u6A21\u578B\u4E2D\u5747\u53EA\u4F1A\u51FA\u73B0\u4E00\u4E2A\u865A\u57FA\u7C7B\u7684\u5B50\u5BF9\u8C61\uFF08\u8FD9\u548C\u591A\u7EE7\u627F\u662F\u5B8C\u5168\u4E0D\u540C\u7684\uFF09\u3002\u5373\u4F7F\u5171\u4EAB\u865A\u57FA\u7C7B\uFF0C\u4F46\u662F\u5FC5\u987B\u8981\u6709\u4E00\u4E2A\u7C7B\u6765\u5B8C\u6210\u57FA\u7C7B\u7684\u521D\u59CB\u5316\uFF08\u56E0\u4E3A\u6240\u6709\u7684\u5BF9\u8C61\u90FD\u5FC5\u987B\u88AB\u521D\u59CB\u5316\uFF0C\u54EA\u6015\u662F\u9ED8\u8BA4\u7684\uFF09\uFF0C\u540C\u65F6\u8FD8\u4E0D\u80FD\u591F\u91CD\u590D\u8FDB\u884C\u521D\u59CB\u5316\uFF0C\u90A3\u5230\u5E95\u8C01\u5E94\u8BE5\u8D1F\u8D23\u5B8C\u6210\u521D\u59CB\u5316\u5462\uFF1F<strong>C++\u6807\u51C6\u4E2D\u9009\u62E9\u5728\u6BCF\u4E00\u6B21\u7EE7\u627F\u5B50\u7C7B\u4E2D\u90FD\u5FC5\u987B\u4E66\u5199\u521D\u59CB\u5316\u8BED\u53E5\uFF08\u56E0\u4E3A\u6BCF\u4E00\u6B21\u7EE7\u627F\u5B50\u7C7B\u53EF\u80FD\u90FD\u4F1A\u7528\u6765\u5B9A\u4E49\u5BF9\u8C61\uFF09\uFF0C\u4F46\u662F\u865A\u57FA\u7C7B\u7684\u521D\u59CB\u5316\u662F\u7531\u6700\u540E\u7684\u5B50\u7C7B\u5B8C\u6210\uFF0C\u5176\u4ED6\u7684\u521D\u59CB\u5316\u8BED\u53E5\u90FD\u4E0D\u4F1A\u8C03\u7528\u3002</strong></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class BigBase<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">BigBase</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>mParam <span class="token operator">=</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;BigBase::func&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">}</span>
public<span class="token operator">:</span>
	<span class="token keyword">int</span> mParam<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class Base1 <span class="token operator">:</span> virtual public BigBase<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Base1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">BigBase</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//\u4E0D\u8C03\u7528BigBase\u6784\u9020</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class Base2 <span class="token operator">:</span> virtual public BigBase<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Base2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">BigBase</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//\u4E0D\u8C03\u7528BigBase\u6784\u9020</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

class Derived <span class="token operator">:</span> public Base1<span class="token punctuation">,</span> public Base2<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Derived</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">BigBase</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//\u8C03\u7528BigBase\u6784\u9020</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//\u6BCF\u4E00\u6B21\u7EE7\u627F\u5B50\u7C7B\u4E2D\u90FD\u5FC5\u987B\u4E66\u5199\u521D\u59CB\u5316\u8BED\u53E5</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	Derived derived<span class="token punctuation">;</span>
	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><strong>\u6CE8\u610F\uFF1A</strong></p><p><strong>\u865A\u7EE7\u627F\u53EA\u80FD\u89E3\u51B3\u5177\u5907\u516C\u5171\u7956\u5148\u7684\u591A\u7EE7\u627F\u6240\u5E26\u6765\u7684\u4E8C\u4E49\u6027\u95EE\u9898\uFF0C\u4E0D\u80FD\u89E3\u51B3\u6CA1\u6709\u516C\u5171\u7956\u5148\u7684\u591A\u7EE7\u627F\u7684.</strong></p><p>\u5DE5\u7A0B\u5F00\u53D1\u4E2D\u771F\u6B63\u610F\u4E49\u4E0A\u7684\u591A\u7EE7\u627F\u662F\u51E0\u4E4E\u4E0D\u88AB\u4F7F\u7528\uFF0C\u56E0\u4E3A\u591A\u91CD\u7EE7\u627F\u5E26\u6765\u7684\u4EE3\u7801\u590D\u6742\u6027\u8FDC\u591A\u4E8E\u5176\u5E26\u6765\u7684\u4FBF\u5229\uFF0C\u591A\u91CD\u7EE7\u627F\u5BF9\u4EE3\u7801\u7EF4\u62A4\u6027\u4E0A\u7684\u5F71\u54CD\u662F\u707E\u96BE\u6027\u7684\uFF0C\u5728\u8BBE\u8BA1\u65B9\u6CD5\u4E0A\uFF0C\u4EFB\u4F55\u591A\u7EE7\u627F\u90FD\u53EF\u4EE5\u7528\u5355\u7EE7\u627F\u4EE3\u66FF\u3002</p><h3 id="_4-8\u591A\u6001" tabindex="-1"><a class="header-anchor" href="#_4-8\u591A\u6001" aria-hidden="true">#</a> 4.8\u591A\u6001</h3><h4 id="_4-8-1-\u591A\u6001\u7684\u57FA\u672C\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#_4-8-1-\u591A\u6001\u7684\u57FA\u672C\u6982\u5FF5" aria-hidden="true">#</a> 4.8.1 \u591A\u6001\u7684\u57FA\u672C\u6982\u5FF5</h4><p>\u591A\u6001\u662F\u9762\u5411\u5BF9\u8C61\u7A0B\u5E8F\u8BBE\u8BA1\u8BED\u8A00\u4E2D\u6570\u636E\u62BD\u8C61\u548C\u7EE7\u627F\u4E4B\u5916\u7684\u7B2C\u4E09\u4E2A\u57FA\u672C\u7279\u5F81\u3002</p><p>\u591A\u6001\u6027(polymorphism)\u63D0\u4F9B\u63A5\u53E3\u4E0E\u5177\u4F53\u5B9E\u73B0\u4E4B\u95F4\u7684\u53E6\u4E00\u5C42\u9694\u79BB\uFF0C\u4ECE\u800C\u5C06\u201Dwhat\u201D\u548C\u201Dhow\u201D\u5206\u79BB\u5F00\u6765\u3002\u591A\u6001\u6027\u6539\u5584\u4E86\u4EE3\u7801\u7684\u53EF\u8BFB\u6027\u548C\u7EC4\u7EC7\u6027\uFF0C\u540C\u65F6\u4E5F\u4F7F\u521B\u5EFA\u7684\u7A0B\u5E8F\u5177\u6709\u53EF\u6269\u5C55\u6027\uFF0C\u9879\u76EE\u4E0D\u4EC5\u5728\u6700\u521D\u521B\u5EFA\u65F6\u671F\u53EF\u4EE5\u6269\u5C55\uFF0C\u800C\u4E14\u5F53\u9879\u76EE\u5728\u9700\u8981\u6709\u65B0\u7684\u529F\u80FD\u65F6\u4E5F\u80FD\u6269\u5C55\u3002</p><p>c++\u652F\u6301\u7F16\u8BD1\u65F6\u591A\u6001(\u9759\u6001\u591A\u6001)\u548C\u8FD0\u884C\u65F6\u591A\u6001(\u52A8\u6001\u591A\u6001)\uFF0C\u8FD0\u7B97\u7B26\u91CD\u8F7D\u548C\u51FD\u6570\u91CD\u8F7D\u5C31\u662F\u7F16\u8BD1\u65F6\u591A\u6001\uFF0C\u800C\u6D3E\u751F\u7C7B\u548C\u865A\u51FD\u6570\u5B9E\u73B0\u8FD0\u884C\u65F6\u591A\u6001\u3002</p><p>\u9759\u6001\u591A\u6001\u548C\u52A8\u6001\u591A\u6001\u7684\u533A\u522B\u5C31\u662F\u51FD\u6570\u5730\u5740\u662F\u65E9\u7ED1\u5B9A(\u9759\u6001\u8054\u7F16)\u8FD8\u662F\u665A\u7ED1\u5B9A(\u52A8\u6001\u8054\u7F16)\u3002\u5982\u679C\u51FD\u6570\u7684\u8C03\u7528\uFF0C\u5728\u7F16\u8BD1\u9636\u6BB5\u5C31\u53EF\u4EE5\u786E\u5B9A\u51FD\u6570\u7684\u8C03\u7528\u5730\u5740\uFF0C\u5E76\u4EA7\u751F\u4EE3\u7801\uFF0C\u5C31\u662F\u9759\u6001\u591A\u6001(\u7F16\u8BD1\u65F6\u591A\u6001)\uFF0C\u5C31\u662F\u8BF4\u5730\u5740\u662F\u65E9\u7ED1\u5B9A\u7684\u3002\u800C\u5982\u679C\u51FD\u6570\u7684\u8C03\u7528\u5730\u5740\u4E0D\u80FD\u7F16\u8BD1\u4E0D\u80FD\u5728\u7F16\u8BD1\u671F\u95F4\u786E\u5B9A\uFF0C\u800C\u9700\u8981\u5728\u8FD0\u884C\u65F6\u624D\u80FD\u51B3\u5B9A\uFF0C\u8FD9\u8FD9\u5C31\u5C5E\u4E8E\u665A\u7ED1\u5B9A(\u52A8\u6001\u591A\u6001,\u8FD0\u884C\u65F6\u591A\u6001)\u3002</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u8BA1\u7B97\u5668</span>
class Caculator<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">setA</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>mA <span class="token operator">=</span> a<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">setB</span><span class="token punctuation">(</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>mB <span class="token operator">=</span> b<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">setOperator</span><span class="token punctuation">(</span>string oper<span class="token punctuation">)</span><span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>mOperator <span class="token operator">=</span> oper<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		
		<span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>mOperator <span class="token operator">==</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">return</span> mA <span class="token operator">+</span> mB<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>mOperator <span class="token operator">==</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">return</span> mA <span class="token operator">-</span> mB<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>mOperator <span class="token operator">==</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">return</span> mA <span class="token operator">*</span> mB<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>mOperator <span class="token operator">==</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">return</span> mA <span class="token operator">/</span> mB<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
private<span class="token operator">:</span>
	<span class="token keyword">int</span> mA<span class="token punctuation">;</span>
	<span class="token keyword">int</span> mB<span class="token punctuation">;</span>
	string mOperator<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//\u8FD9\u79CD\u7A0B\u5E8F\u4E0D\u5229\u4E8E\u6269\u5C55\uFF0C\u7EF4\u62A4\u56F0\u96BE\uFF0C\u5982\u679C\u4FEE\u6539\u529F\u80FD\u6216\u8005\u6269\u5C55\u529F\u80FD\u9700\u8981\u5728\u6E90\u4EE3\u7801\u57FA\u7840\u4E0A\u4FEE\u6539</span>
<span class="token comment">//\u9762\u5411\u5BF9\u8C61\u7A0B\u5E8F\u8BBE\u8BA1\u4E00\u4E2A\u57FA\u672C\u539F\u5219:\u5F00\u95ED\u539F\u5219(\u5BF9\u4FEE\u6539\u5173\u95ED\uFF0C\u5BF9\u6269\u5C55\u5F00\u653E)</span>

<span class="token comment">//\u62BD\u8C61\u57FA\u7C7B</span>
class AbstractCaculator<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">setA</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>mA <span class="token operator">=</span> a<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	virtual <span class="token keyword">void</span> <span class="token function">setB</span><span class="token punctuation">(</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>mB <span class="token operator">=</span> b<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	virtual <span class="token keyword">int</span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
protected<span class="token operator">:</span>
	<span class="token keyword">int</span> mA<span class="token punctuation">;</span>
	<span class="token keyword">int</span> mB<span class="token punctuation">;</span>
	string mOperator<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//\u52A0\u6CD5\u8BA1\u7B97\u5668</span>
class PlusCaculator <span class="token operator">:</span> public AbstractCaculator<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	virtual <span class="token keyword">int</span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> mA <span class="token operator">+</span> mB<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//\u51CF\u6CD5\u8BA1\u7B97\u5668</span>
class MinusCaculator <span class="token operator">:</span> public AbstractCaculator<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	virtual <span class="token keyword">int</span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> mA <span class="token operator">-</span> mB<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//\u4E58\u6CD5\u8BA1\u7B97\u5668</span>
class MultipliesCaculator <span class="token operator">:</span> public AbstractCaculator<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	virtual <span class="token keyword">int</span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> mA <span class="token operator">*</span> mB<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">DoBussiness</span><span class="token punctuation">(</span>AbstractCaculator<span class="token operator">*</span> caculator<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
	caculator<span class="token operator">-&gt;</span><span class="token function">setA</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	caculator<span class="token operator">-&gt;</span><span class="token function">setB</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u8BA1\u7B97\u7ED3\u679C\uFF1A&quot;</span> <span class="token operator">&lt;&lt;</span> caculator<span class="token operator">-&gt;</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	delete caculator<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br></div></div><h4 id="_4-8-2-\u5411\u4E0A\u7C7B\u578B\u8F6C\u6362\u53CA\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_4-8-2-\u5411\u4E0A\u7C7B\u578B\u8F6C\u6362\u53CA\u95EE\u9898" aria-hidden="true">#</a> 4.8.2 \u5411\u4E0A\u7C7B\u578B\u8F6C\u6362\u53CA\u95EE\u9898</h4><h5 id="_4-8-2-1-\u95EE\u9898\u629B\u51FA" tabindex="-1"><a class="header-anchor" href="#_4-8-2-1-\u95EE\u9898\u629B\u51FA" aria-hidden="true">#</a> 4.8.2.1 \u95EE\u9898\u629B\u51FA</h5><p>\u5BF9\u8C61\u53EF\u4EE5\u4F5C\u4E3A\u81EA\u5DF1\u7684\u7C7B\u6216\u8005\u4F5C\u4E3A\u5B83\u7684\u57FA\u7C7B\u7684\u5BF9\u8C61\u6765\u4F7F\u7528\u3002\u8FD8\u80FD\u901A\u8FC7\u57FA\u7C7B\u7684\u5730\u5740\u6765\u64CD\u4F5C\u5B83\u3002\u53D6\u4E00\u4E2A\u5BF9\u8C61\u7684\u5730\u5740(\u6307\u9488\u6216\u5F15\u7528)\uFF0C\u5E76\u5C06\u5176\u4F5C\u4E3A\u57FA\u7C7B\u7684\u5730\u5740\u6765\u5904\u7406\uFF0C\u8FD9\u79CD\u79F0\u4E3A\u5411\u4E0A\u7C7B\u578B\u8F6C\u6362\u3002</p><p>\u4E5F\u5C31\u662F\u8BF4\uFF1A\u7236\u7C7B\u5F15\u7528\u6216\u6307\u9488\u53EF\u4EE5\u6307\u5411\u5B50\u7C7B\u5BF9\u8C61\uFF0C\u901A\u8FC7\u7236\u7C7B\u6307\u9488\u6216\u5F15\u7528\u6765\u64CD\u4F5C\u5B50\u7C7B\u5BF9\u8C61\u3002</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class Animal<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u52A8\u7269\u5728\u5531\u6B4C...&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

class Dog <span class="token operator">:</span> public Animal<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u5C0F\u72D7\u5728\u5531\u6B4C...&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">DoBussiness</span><span class="token punctuation">(</span>Animal<span class="token operator">&amp;</span> animal<span class="token punctuation">)</span><span class="token punctuation">{</span>
	animal<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	Dog dog<span class="token punctuation">;</span>
	<span class="token function">DoBussiness</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><strong>\u8FD0\u884C\u7ED3\u679C</strong>: \u52A8\u7269\u5728\u5531\u6B4C</p><p><strong>\u95EE\u9898\u629B\u51FA:</strong> \u6211\u4EEC\u7ED9DoBussiness\u4F20\u5165\u7684\u5BF9\u8C61\u662Fdog\uFF0C\u800C\u4E0D\u662Fanimal\u5BF9\u8C61\uFF0C\u8F93\u51FA\u7684\u7ED3\u679C\u5E94\u8BE5\u662FDog::speak\u3002</p><h5 id="_4-8-2-1-\u95EE\u9898\u89E3\u51B3\u601D\u8DEF" tabindex="-1"><a class="header-anchor" href="#_4-8-2-1-\u95EE\u9898\u89E3\u51B3\u601D\u8DEF" aria-hidden="true">#</a> 4.8.2.1 \u95EE\u9898\u89E3\u51B3\u601D\u8DEF</h5><p>\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0C\u6211\u4EEC\u9700\u8981\u4E86\u89E3\u4E0B\u7ED1\u5B9A(\u6346\u7ED1,binding)\u6982\u5FF5\u3002</p><p>\u628A\u51FD\u6570\u4F53\u4E0E\u51FD\u6570\u8C03\u7528\u76F8\u8054\u7CFB\u79F0\u4E3A\u7ED1\u5B9A(\u6346\u7ED1\uFF0Cbinding)</p><p>\u5F53\u7ED1\u5B9A\u5728\u7A0B\u5E8F\u8FD0\u884C\u4E4B\u524D(\u7531\u7F16\u8BD1\u5668\u548C\u8FDE\u63A5\u5668)\u5B8C\u6210\u65F6\uFF0C\u79F0\u4E3A\u65E9\u7ED1\u5B9A(early binding).C\u8BED\u8A00\u4E2D\u53EA\u6709\u4E00\u79CD\u51FD\u6570\u8C03\u7528\u65B9\u5F0F\uFF0C\u5C31\u662F\u65E9\u7ED1\u5B9A\u3002</p><p>\u4E0A\u9762\u7684\u95EE\u9898\u5C31\u662F\u7531\u4E8E\u65E9\u7ED1\u5B9A\u5F15\u8D77\u7684\uFF0C\u56E0\u4E3A\u7F16\u8BD1\u5668\u5728\u53EA\u6709Animal\u5730\u5740\u65F6\u5E76\u4E0D\u77E5\u9053\u8981\u8C03\u7528\u7684\u6B63\u786E\u51FD\u6570\u3002\u7F16\u8BD1<strong>\u662F\u6839\u636E\u6307\u5411\u5BF9\u8C61\u7684\u6307\u9488\u6216\u5F15\u7528\u7684\u7C7B\u578B</strong>\u6765\u9009\u62E9\u51FD\u6570\u8C03\u7528\u3002\u8FD9\u4E2A\u65F6\u5019\u7531\u4E8EDoBussiness\u7684\u53C2\u6570\u7C7B\u578B\u662FAnimal&amp;,\u7F16\u8BD1\u5668\u786E\u5B9A\u4E86\u5E94\u8BE5\u8C03\u7528\u7684speak\u662FAnimal::speak\u7684\uFF0C\u800C\u4E0D\u662F\u771F\u6B63\u4F20\u5165\u7684\u5BF9\u8C61Dog::speak\u3002</p><p>\u89E3\u51B3\u65B9\u6CD5\u5C31\u662F\u8FDF\u7ED1\u5B9A(\u8FDF\u6346\u7ED1,\u52A8\u6001\u7ED1\u5B9A,\u8FD0\u884C\u65F6\u7ED1\u5B9A\uFF0Clate binding),\u610F\u5473\u7740\u7ED1\u5B9A\u8981\u6839\u636E\u5BF9\u8C61\u7684\u5B9E\u9645\u7C7B\u578B\uFF0C\u53D1\u751F\u5728\u8FD0\u884C\u3002</p><p>C++\u8BED\u8A00\u8981\u5B9E\u73B0\u8FD9\u79CD\u52A8\u6001\u7ED1\u5B9A\uFF0C\u5FC5\u987B\u6709\u67D0\u79CD\u673A\u5236\u6765\u786E\u5B9A\u8FD0\u884C\u65F6\u5BF9\u8C61\u7684\u7C7B\u578B\u5E76\u8C03\u7528\u5408\u9002\u7684\u6210\u5458\u51FD\u6570\u3002\u5BF9\u4E8E\u4E00\u79CD\u7F16\u8BD1\u8BED\u8A00\uFF0C\u7F16\u8BD1\u5668\u5E76\u4E0D\u77E5\u9053\u5B9E\u9645\u7684\u5BF9\u8C61\u7C7B\u578B\uFF08\u7F16\u8BD1\u5668\u5E76\u4E0D\u77E5\u9053Animal\u7C7B\u578B\u7684\u6307\u9488\u6216\u5F15\u7528\u6307\u5411\u7684\u5B9E\u9645\u7684\u5BF9\u8C61\u7C7B\u578B\uFF09\u3002</p><h5 id="_4-8-2-1-\u95EE\u9898\u89E3\u51B3\u65B9\u6848-\u865A\u51FD\u6570-vitual-function" tabindex="-1"><a class="header-anchor" href="#_4-8-2-1-\u95EE\u9898\u89E3\u51B3\u65B9\u6848-\u865A\u51FD\u6570-vitual-function" aria-hidden="true">#</a> 4.8.2.1 \u95EE\u9898\u89E3\u51B3\u65B9\u6848\uFF08\u865A\u51FD\u6570\uFF0Cvitual function\uFF09</h5><p>C++\u52A8\u6001\u591A\u6001\u6027\u662F\u901A\u8FC7\u865A\u51FD\u6570\u6765\u5B9E\u73B0\u7684\uFF0C\u865A\u51FD\u6570\u5141\u8BB8\u5B50\u7C7B\uFF08\u6D3E\u751F\u7C7B\uFF09\u91CD\u65B0\u5B9A\u4E49\u7236\u7C7B\uFF08\u57FA\u7C7B\uFF09\u6210\u5458\u51FD\u6570\uFF0C\u800C\u5B50\u7C7B\uFF08\u6D3E\u751F\u7C7B\uFF09\u91CD\u65B0\u5B9A\u4E49\u7236\u7C7B\uFF08\u57FA\u7C7B\uFF09\u865A\u51FD\u6570\u7684\u505A\u6CD5\u79F0\u4E3A\u8986\u76D6(override)\uFF0C\u6216\u8005\u79F0\u4E3A\u91CD\u5199\u3002</p><p>\u5BF9\u4E8E\u7279\u5B9A\u7684\u51FD\u6570\u8FDB\u884C\u52A8\u6001\u7ED1\u5B9A\uFF0Cc++\u8981\u6C42\u5728\u57FA\u7C7B\u4E2D\u58F0\u660E\u8FD9\u4E2A\u51FD\u6570\u7684\u65F6\u5019\u4F7F\u7528virtual\u5173\u952E\u5B57,\u52A8\u6001\u7ED1\u5B9A\u4E5F\u5C31\u5BF9virtual\u51FD\u6570\u8D77\u4F5C\u7528.</p><ul><li><p>\u4E3A\u521B\u5EFA\u4E00\u4E2A\u9700\u8981\u52A8\u6001\u7ED1\u5B9A\u7684\u865A\u6210\u5458\u51FD\u6570\uFF0C\u53EF\u4EE5\u7B80\u5355\u5728\u8FD9\u4E2A\u51FD\u6570\u58F0\u660E\u524D\u9762\u52A0\u4E0Avirtual\u5173\u952E\u5B57\uFF0C\u5B9A\u4E49\u65F6\u5019\u4E0D\u9700\u8981.</p></li><li><p>\u5982\u679C\u4E00\u4E2A\u51FD\u6570\u5728\u57FA\u7C7B\u4E2D\u88AB\u58F0\u660E\u4E3Avirtual\uFF0C\u90A3\u4E48\u5728\u6240\u6709\u6D3E\u751F\u7C7B\u4E2D\u5B83\u90FD\u662Fvirtual\u7684.</p></li><li><p>\u5728\u6D3E\u751F\u7C7B\u4E2Dvirtual\u51FD\u6570\u7684\u91CD\u5B9A\u4E49\u79F0\u4E3A\u91CD\u5199(override).</p></li><li><p>Virtual\u5173\u952E\u5B57\u53EA\u80FD\u4FEE\u9970\u6210\u5458\u51FD\u6570.</p></li><li><p>\u6784\u9020\u51FD\u6570\u4E0D\u80FD\u4E3A\u865A\u51FD\u6570</p></li></ul><p><strong>\u6CE8\u610F:</strong> \u4EC5\u9700\u8981\u5728\u57FA\u7C7B\u4E2D\u58F0\u660E\u4E00\u4E2A\u51FD\u6570\u4E3Avirtual.\u8C03\u7528\u6240\u6709\u5339\u914D\u57FA\u7C7B\u58F0\u660E\u884C\u4E3A\u7684\u6D3E\u751F\u7C7B\u51FD\u6570\u90FD\u5C06\u4F7F\u7528\u865A\u673A\u5236\u3002\u867D\u7136\u53EF\u4EE5\u5728\u6D3E\u751F\u7C7B\u58F0\u660E\u524D\u4F7F\u7528\u5173\u952E\u5B57virtual(\u8FD9\u4E5F\u662F\u65E0\u5BB3\u7684)\uFF0C\u4F46\u8FD9\u4E2A\u6837\u4F1A\u4F7F\u5F97\u7A0B\u5E8F\u663E\u5F97\u5197\u4F59\u548C\u6742\u4E71\u3002(\u6211\u5EFA\u8BAE\u5199\u4E0A)</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class Animal<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	virtual <span class="token keyword">void</span> <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u52A8\u7269\u5728\u5531\u6B4C...&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class Dog <span class="token operator">:</span> public Animal<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	virtual <span class="token keyword">void</span> <span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u5C0F\u72D7\u5728\u5531\u6B4C...&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">DoBussiness</span><span class="token punctuation">(</span>Animal<span class="token operator">&amp;</span> animal<span class="token punctuation">)</span><span class="token punctuation">{</span>
	animal<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	Dog dog<span class="token punctuation">;</span>
	<span class="token function">DoBussiness</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="_4-8-3-c-\u5982\u4F55\u5B9E\u73B0\u52A8\u6001\u7ED1\u5B9A" tabindex="-1"><a class="header-anchor" href="#_4-8-3-c-\u5982\u4F55\u5B9E\u73B0\u52A8\u6001\u7ED1\u5B9A" aria-hidden="true">#</a> 4.8.3 c++\u5982\u4F55\u5B9E\u73B0\u52A8\u6001\u7ED1\u5B9A</h4><p>\u52A8\u6001\u7ED1\u5B9A\u4EC0\u4E48\u65F6\u5019\u53D1\u751F\uFF1F\u6240\u6709\u7684\u5DE5\u4F5C\u90FD\u662F\u7531\u7F16\u8BD1\u5668\u5728\u5E55\u540E\u5B8C\u6210\u3002\u5F53\u6211\u4EEC\u544A\u8BC9\u901A\u8FC7\u521B\u5EFA\u4E00\u4E2Avirtual\u51FD\u6570\u6765\u544A\u8BC9\u7F16\u8BD1\u5668\u8981\u8FDB\u884C\u52A8\u6001\u7ED1\u5B9A\uFF0C\u90A3\u4E48\u7F16\u8BD1\u5668\u5C31\u4F1A\u6839\u636E\u52A8\u6001\u7ED1\u5B9A\u673A\u5236\u6765\u5B9E\u73B0\u6211\u4EEC\u7684\u8981\u6C42\uFF0C \u4E0D\u4F1A\u518D\u6267\u884C\u65E9\u7ED1\u5B9A\u3002</p><p>\u95EE\u9898:C++\u7684\u52A8\u6001\u6346\u7ED1\u673A\u5236\u662F\u600E\u4E48\u6837\u7684\uFF1F</p><p>\u9996\u5148\uFF0C\u6211\u4EEC\u770B\u770B\u7F16\u8BD1\u5668\u5982\u4F55\u5904\u7406\u865A\u51FD\u6570\u3002\u5F53\u7F16\u8BD1\u5668\u53D1\u73B0\u6211\u4EEC\u7684\u7C7B\u4E2D\u6709\u865A\u51FD\u6570\u7684\u65F6\u5019\uFF0C\u7F16\u8BD1\u5668\u4F1A\u521B\u5EFA\u4E00\u5F20\u865A\u51FD\u6570\u8868\uFF0C\u628A\u865A\u51FD\u6570\u7684\u51FD\u6570\u5165\u53E3\u5730\u5740\u653E\u5230\u865A\u51FD\u6570\u8868\u4E2D\uFF0C\u5E76\u4E14\u5728\u7C7B\u4E2D\u79D8\u5BC6\u589E\u52A0\u4E00\u4E2A\u6307\u9488\uFF0C\u8FD9\u4E2A\u6307\u9488\u5C31\u662Fvpointer(\u7F29\u5199vptr)\uFF0C\u8FD9\u4E2A\u6307\u9488\u662F\u6307\u5411\u5BF9\u8C61\u7684\u865A\u51FD\u6570\u8868\u3002\u5728\u591A\u6001\u8C03\u7528\u7684\u65F6\u5019\uFF0C\u6839\u636Evptr\u6307\u9488\uFF0C\u627E\u5230\u865A\u51FD\u6570\u8868\u6765\u5B9E\u73B0\u52A8\u6001\u7ED1\u5B9A\u3002</p><p><strong>\u9A8C\u8BC1\u5BF9\u8C61\u4E2D\u7684\u865A\u6307\u9488\uFF1A</strong></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class A<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	virtual <span class="token keyword">void</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	virtual <span class="token keyword">void</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//B\u7C7B\u4E3A\u7A7A\uFF0C\u90A3\u4E48\u5927\u5C0F\u5E94\u8BE5\u662F1\u5B57\u8282\uFF0C\u5B9E\u9645\u60C5\u51B5\u662F\u8FD9\u6837\u5417\uFF1F</span>
class B <span class="token operator">:</span> public A<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;A size:&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;B size:&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u5728\u7F16\u8BD1\u9636\u6BB5\uFF0C\u7F16\u8BD1\u5668\u79D8\u5BC6\u589E\u52A0\u4E86\u4E00\u4E2Avptr\u6307\u9488\uFF0C\u4F46\u662F\u6B64\u65F6vptr\u6307\u9488\u5E76\u6CA1\u6709\u521D\u59CB\u5316\u6307\u5411\u865A\u51FD\u6570\u8868(vtable),\u4EC0\u4E48\u65F6\u5019vptr\u624D\u4F1A\u6307\u5411\u865A\u51FD\u6570\u8868\uFF1F\u5728\u5BF9\u8C61\u6784\u5EFA\u7684\u65F6\u5019\uFF0C\u4E5F\u5C31\u662F\u5728\u5BF9\u8C61\u521D\u59CB\u5316\u8C03\u7528\u6784\u9020\u51FD\u6570\u7684\u65F6\u5019\u3002\u7F16\u8BD1\u5668\u9996\u5148\u9ED8\u8BA4\u4F1A\u5728\u6211\u4EEC\u6240\u7F16\u5199\u7684\u6BCF\u4E00\u4E2A\u6784\u9020\u51FD\u6570\u4E2D\uFF0C\u589E\u52A0\u4E00\u4E9Bvptr\u6307\u9488\u521D\u59CB\u5316\u7684\u4EE3\u7801\u3002\u5982\u679C\u6CA1\u6709\u63D0\u4F9B\u6784\u9020\u51FD\u6570\uFF0C\u7F16\u8BD1\u5668\u4F1A\u63D0\u4F9B\u9ED8\u8BA4\u7684\u6784\u9020\u51FD\u6570\uFF0C\u90A3\u4E48\u5C31\u4F1A\u5728\u9ED8\u8BA4\u6784\u9020\u51FD\u6570\u91CC\u505A\u6B64\u9879\u5DE5\u4F5C\uFF0C\u521D\u59CB\u5316vptr\u6307\u9488\uFF0C\u4F7F\u4E4B\u6307\u5411\u672C\u5BF9\u8C61\u7684\u865A\u51FD\u6570\u8868\u3002</p><p>\u8D77\u521D\uFF0C\u5B50\u7C7B\u7EE7\u627F\u57FA\u7C7B\uFF0C\u5B50\u7C7B\u7EE7\u627F\u4E86\u57FA\u7C7B\u7684vptr\u6307\u9488\uFF0C\u8FD9\u4E2Avptr\u6307\u9488\u662F\u6307\u5411\u57FA\u7C7B\u865A\u51FD\u6570\u8868\uFF0C\u5F53\u5B50\u7C7B\u8C03\u7528\u6784\u9020\u51FD\u6570\uFF0C\u4F7F\u5F97\u5B50\u7C7B\u7684vptr\u6307\u9488\u6307\u5411\u4E86\u5B50\u7C7B\u7684\u865A\u51FD\u6570\u8868\u3002</p><ul><li>\u5F53\u5B50\u7C7B\u65E0\u91CD\u5199\u57FA\u7C7B\u865A\u51FD\u6570\u65F6:</li></ul><p><img src="`+y+'" alt="wps21C2.tmp.png"></p><p><img src="'+w+`" alt="wps83C9.tmp.jpg"></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>\u8FC7\u7A0B\u5206\u6790<span class="token operator">:</span>
     Animal<span class="token operator">*</span> animal <span class="token operator">=</span> new Dog<span class="token punctuation">;</span>
     animal<span class="token operator">-&gt;</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     \u5F53\u7A0B\u5E8F\u6267\u884C\u5230\u8FD9\u91CC\uFF0C\u4F1A\u53BBanimal\u6307\u5411\u7684\u7A7A\u95F4\u4E2D\u5BFB\u627Evptr\u6307\u9488\uFF0C\u901A\u8FC7vptr\u6307\u9488\u627E\u5230func1\u51FD\u6570\uFF0C\u6B64\u65F6\u7531\u4E8E\u5B50\u7C7B\u5E76\u6CA1\u6709\u91CD\u5199\u4E5F\u5C31\u662F\u8986\u76D6\u57FA\u7C7B\u7684func1\u51FD\u6570\uFF0C\u6240\u4EE5\u8C03\u7528func1\u65F6\uFF0C\u4ECD\u7136\u8C03\u7528\u7684\u662F\u57FA\u7C7B\u7684func1<span class="token punctuation">.</span>
         
\u6267\u884C\u7ED3\u679C<span class="token operator">:</span> \u6211\u662F\u57FA\u7C7B\u7684func1
\u6D4B\u8BD5\u7ED3\u8BBA<span class="token operator">:</span> \u65E0\u91CD\u5199\u57FA\u7C7B\u7684\u865A\u51FD\u6570\uFF0C\u65E0\u610F\u4E49
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>\u5F53\u5B50\u7C7B\u91CD\u5199\u57FA\u7C7B\u865A\u51FD\u6570\u65F6:</li></ul><p><img src="`+v+'" alt="wpsC2D7.tmp.png"></p><p><img src="'+q+`" alt="wpsFBF9.tmp.jpg"></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>\u8FC7\u7A0B\u5206\u6790<span class="token operator">:</span>
     Animal<span class="token operator">*</span> animal <span class="token operator">=</span> new Dog<span class="token punctuation">;</span>
     animal<span class="token operator">-&gt;</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     \u5F53\u7A0B\u5E8F\u6267\u884C\u5230\u8FD9\u91CC\uFF0C\u4F1A\u53BBanimal\u6307\u5411\u7684\u7A7A\u95F4\u4E2D\u5BFB\u627Evptr\u6307\u9488\uFF0C\u901A\u8FC7vptr\u6307\u9488\u627E\u5230func1\u51FD\u6570\uFF0C\u7531\u4E8E\u5B50\u7C7B\u91CD\u5199\u57FA\u7C7B\u7684func1\u51FD\u6570\uFF0C\u6240\u4EE5\u8C03\u7528func1\u65F6\uFF0C\u8C03\u7528\u7684\u662F\u5B50\u7C7B\u7684func1<span class="token punctuation">.</span>
         
\u6267\u884C\u7ED3\u679C<span class="token operator">:</span> \u6211\u662F\u5B50\u7C7B\u7684func1
\u6D4B\u8BD5\u7ED3\u8BBA<span class="token operator">:</span> \u65E0\u91CD\u5199\u57FA\u7C7B\u7684\u865A\u51FD\u6570\uFF0C\u65E0\u610F\u4E49
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>\u591A\u6001\u7684\u6210\u7ACB\u6761\u4EF6\uFF1A</strong></p><ul><li><p>\u6709\u7EE7\u627F</p></li><li><p>\u5B50\u7C7B\u91CD\u5199\u7236\u7C7B\u865A\u51FD\u6570\u51FD\u6570</p><p>a) \u8FD4\u56DE\u503C\uFF0C\u51FD\u6570\u540D\u5B57\uFF0C\u51FD\u6570\u53C2\u6570\uFF0C\u5FC5\u987B\u548C\u7236\u7C7B\u5B8C\u5168\u4E00\u81F4(\u6790\u6784\u51FD\u6570\u9664\u5916)</p><p>b) \u5B50\u7C7B\u4E2Dvirtual\u5173\u952E\u5B57\u53EF\u5199\u53EF\u4E0D\u5199\uFF0C\u5EFA\u8BAE\u5199</p></li><li><p>\u7C7B\u578B\u517C\u5BB9\uFF0C\u7236\u7C7B\u6307\u9488\uFF0C\u7236\u7C7B\u5F15\u7528 \u6307\u5411 \u5B50\u7C7B\u5BF9\u8C61</p></li></ul><h4 id="_4-8-4-\u62BD\u8C61\u57FA\u7C7B\u548C\u7EAF\u865A\u51FD\u6570-pure-virtual-function" tabindex="-1"><a class="header-anchor" href="#_4-8-4-\u62BD\u8C61\u57FA\u7C7B\u548C\u7EAF\u865A\u51FD\u6570-pure-virtual-function" aria-hidden="true">#</a> 4.8.4 \u62BD\u8C61\u57FA\u7C7B\u548C\u7EAF\u865A\u51FD\u6570\uFF08pure virtual function\uFF09</h4><p>\u5728\u8BBE\u8BA1\u65F6\uFF0C\u5E38\u5E38\u5E0C\u671B\u57FA\u7C7B\u4EC5\u4EC5\u4F5C\u4E3A\u5176\u6D3E\u751F\u7C7B\u7684\u4E00\u4E2A\u63A5\u53E3\u3002\u8FD9\u5C31\u662F\u8BF4\uFF0C\u4EC5\u60F3\u5BF9\u57FA\u7C7B\u8FDB\u884C\u5411\u4E0A\u7C7B\u578B\u8F6C\u6362\uFF0C\u4F7F\u7528\u5B83\u7684\u63A5\u53E3\uFF0C\u800C\u4E0D\u5E0C\u671B\u7528\u6237\u5B9E\u9645\u7684\u521B\u5EFA\u4E00\u4E2A\u57FA\u7C7B\u7684\u5BF9\u8C61\u3002\u540C\u65F6\u521B\u5EFA\u4E00\u4E2A\u7EAF\u865A\u51FD\u6570\u5141\u8BB8\u63A5\u53E3\u4E2D\u653E\u7F6E\u6210\u5458\u539F\u51FD\u6570\uFF0C\u800C\u4E0D\u4E00\u5B9A\u8981\u63D0\u4F9B\u4E00\u6BB5\u53EF\u80FD\u5BF9\u8FD9\u4E2A\u51FD\u6570\u6BEB\u65E0\u610F\u4E49\u7684\u4EE3\u7801\u3002</p><p>\u505A\u5230\u8FD9\u70B9\uFF0C\u53EF\u4EE5\u5728\u57FA\u7C7B\u4E2D\u52A0\u5165\u81F3\u5C11\u4E00\u4E2A\u7EAF\u865A\u51FD\u6570(pure virtual function),\u4F7F\u5F97\u57FA\u7C7B\u79F0\u4E3A\u62BD\u8C61\u7C7B(abstract class).</p><ul><li><p>\u7EAF\u865A\u51FD\u6570\u4F7F\u7528\u5173\u952E\u5B57virtual\uFF0C\u5E76\u5728\u5176\u540E\u9762\u52A0\u4E0A=0\u3002\u5982\u679C\u8BD5\u56FE\u53BB\u5B9E\u4F8B\u5316\u4E00\u4E2A\u62BD\u8C61\u7C7B\uFF0C\u7F16\u8BD1\u5668\u5219\u4F1A\u963B\u6B62\u8FD9\u79CD\u64CD\u4F5C\u3002</p></li><li><p>\u5F53\u7EE7\u627F\u4E00\u4E2A\u62BD\u8C61\u7C7B\u7684\u65F6\u5019\uFF0C\u5FC5\u987B\u5B9E\u73B0\u6240\u6709\u7684\u7EAF\u865A\u51FD\u6570\uFF0C\u5426\u5219\u7531\u62BD\u8C61\u7C7B\u6D3E\u751F\u7684\u7C7B\u4E5F\u662F\u4E00\u4E2A\u62BD\u8C61\u7C7B\u3002</p></li><li><p>Virtual void fun() = 0;\u544A\u8BC9\u7F16\u8BD1\u5668\u5728vtable\u4E2D\u4E3A\u51FD\u6570\u4FDD\u7559\u4E00\u4E2A\u4F4D\u7F6E\uFF0C\u4F46\u5728\u8FD9\u4E2A\u7279\u5B9A\u4F4D\u7F6E\u4E0D\u653E\u5730\u5740\u3002</p></li></ul><p><strong>\u5EFA\u7ACB\u516C\u5171\u63A5\u53E3\u76EE\u7684</strong>\u662F\u4E3A\u4E86\u5C06\u5B50\u7C7B\u516C\u5171\u7684\u64CD\u4F5C\u62BD\u8C61\u51FA\u6765\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4E00\u4E2A\u516C\u5171\u63A5\u53E3\u6765\u64CD\u7EB5\u4E00\u7EC4\u7C7B\uFF0C\u4E14\u8FD9\u4E2A\u516C\u5171\u63A5\u53E3\u4E0D\u9700\u8981\u4E8B\u5148(\u6216\u8005\u4E0D\u9700\u8981\u5B8C\u5168\u5B9E\u73B0)\u3002\u53EF\u4EE5\u521B\u5EFA\u4E00\u4E2A\u516C\u5171\u7C7B.</p><p><strong>\u6848\u4F8B: \u6A21\u677F\u65B9\u6CD5\u6A21\u5F0F</strong></p><p><img src="`+_+`" alt="wps4A39.tmp.jpg"></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u62BD\u8C61\u5236\u4F5C\u996E\u54C1</span>
class AbstractDrinking<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token comment">//\u70E7\u6C34</span>
	virtual <span class="token keyword">void</span> <span class="token function">Boil</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token comment">//\u51B2\u6CE1</span>
	virtual <span class="token keyword">void</span> <span class="token function">Brew</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token comment">//\u5012\u5165\u676F\u4E2D</span>
	virtual <span class="token keyword">void</span> <span class="token function">PourInCup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token comment">//\u52A0\u5165\u8F85\u6599</span>
	virtual <span class="token keyword">void</span> <span class="token function">PutSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token comment">//\u89C4\u5B9A\u6D41\u7A0B</span>
	<span class="token keyword">void</span> <span class="token function">MakeDrink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">Boil</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Brew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">PourInCup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">PutSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//\u5236\u4F5C\u5496\u5561</span>
class Coffee <span class="token operator">:</span> public AbstractDrinking<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token comment">//\u70E7\u6C34</span>
	virtual <span class="token keyword">void</span> <span class="token function">Boil</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u716E\u519C\u592B\u5C71\u6CC9!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u51B2\u6CE1</span>
	virtual <span class="token keyword">void</span> <span class="token function">Brew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u51B2\u6CE1\u5496\u5561!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u5012\u5165\u676F\u4E2D</span>
	virtual <span class="token keyword">void</span> <span class="token function">PourInCup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u5C06\u5496\u5561\u5012\u5165\u676F\u4E2D!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u52A0\u5165\u8F85\u6599</span>
	virtual <span class="token keyword">void</span> <span class="token function">PutSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u52A0\u5165\u725B\u5976!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//\u5236\u4F5C\u8336\u6C34</span>
class Tea <span class="token operator">:</span> public AbstractDrinking<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token comment">//\u70E7\u6C34</span>
	virtual <span class="token keyword">void</span> <span class="token function">Boil</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u716E\u81EA\u6765\u6C34!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u51B2\u6CE1</span>
	virtual <span class="token keyword">void</span> <span class="token function">Brew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u51B2\u6CE1\u8336\u53F6!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u5012\u5165\u676F\u4E2D</span>
	virtual <span class="token keyword">void</span> <span class="token function">PourInCup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u5C06\u8336\u6C34\u5012\u5165\u676F\u4E2D!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u52A0\u5165\u8F85\u6599</span>
	virtual <span class="token keyword">void</span> <span class="token function">PutSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u52A0\u5165\u98DF\u76D0!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//\u4E1A\u52A1\u51FD\u6570</span>
<span class="token keyword">void</span> <span class="token function">DoBussiness</span><span class="token punctuation">(</span>AbstractDrinking<span class="token operator">*</span> drink<span class="token punctuation">)</span><span class="token punctuation">{</span>
	drink<span class="token operator">-&gt;</span><span class="token function">MakeDrink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	delete drink<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">DoBussiness</span><span class="token punctuation">(</span>new Coffee<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;--------------&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token function">DoBussiness</span><span class="token punctuation">(</span>new Tea<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br></div></div><h4 id="_4-8-5-\u7EAF\u865A\u51FD\u6570\u548C\u591A\u7EE7\u627F" tabindex="-1"><a class="header-anchor" href="#_4-8-5-\u7EAF\u865A\u51FD\u6570\u548C\u591A\u7EE7\u627F" aria-hidden="true">#</a> 4.8.5 \u7EAF\u865A\u51FD\u6570\u548C\u591A\u7EE7\u627F</h4><p>\u591A\u7EE7\u627F\u5E26\u6765\u4E86\u4E00\u4E9B\u4E89\u8BAE\uFF0C\u4F46\u662F\u63A5\u53E3\u7EE7\u627F\u53EF\u4EE5\u8BF4\u4E00\u79CD\u6BEB\u65E0\u4E89\u8BAE\u7684\u8FD0\u7528\u4E86\u3002</p><p>\u7EDD\u5927\u6570\u9762\u5411\u5BF9\u8C61\u8BED\u8A00\u90FD\u4E0D\u652F\u6301\u591A\u7EE7\u627F\uFF0C\u4F46\u662F\u7EDD\u5927\u6570\u9762\u5411\u5BF9\u8C61\u5BF9\u8C61\u8BED\u8A00\u90FD\u652F\u6301\u63A5\u53E3\u7684\u6982\u5FF5\uFF0Cc++\u4E2D\u6CA1\u6709\u63A5\u53E3\u7684\u6982\u5FF5\uFF0C\u4F46\u662F\u53EF\u4EE5\u901A\u8FC7\u7EAF\u865A\u51FD\u6570\u5B9E\u73B0\u63A5\u53E3\u3002</p><p><strong>\u63A5\u53E3\u7C7B\u4E2D\u53EA\u6709\u51FD\u6570\u539F\u578B\u5B9A\u4E49\uFF0C\u6CA1\u6709\u4EFB\u4F55\u6570\u636E\u5B9A\u4E49\u3002</strong></p><p>\u591A\u91CD\u7EE7\u627F\u63A5\u53E3\u4E0D\u4F1A\u5E26\u6765\u4E8C\u4E49\u6027\u548C\u590D\u6742\u6027\u95EE\u9898\u3002\u63A5\u53E3\u7C7B\u53EA\u662F\u4E00\u4E2A\u529F\u80FD\u58F0\u660E\uFF0C\u5E76\u4E0D\u662F\u529F\u80FD\u5B9E\u73B0\uFF0C\u5B50\u7C7B\u9700\u8981\u6839\u636E\u529F\u80FD\u8BF4\u660E\u5B9A\u4E49\u529F\u80FD\u5B9E\u73B0\u3002</p><p><strong>\u6CE8\u610F:\u9664\u4E86\u6790\u6784\u51FD\u6570\u5916\uFF0C\u5176\u4ED6\u58F0\u660E\u90FD\u662F\u7EAF\u865A\u51FD\u6570\u3002</strong></p><h4 id="_4-8-6\u865A\u6790\u6784\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#_4-8-6\u865A\u6790\u6784\u51FD\u6570" aria-hidden="true">#</a> 4.8.6\u865A\u6790\u6784\u51FD\u6570</h4><h5 id="_4-8-6-1-\u865A\u6790\u6784\u51FD\u6570\u4F5C\u7528" tabindex="-1"><a class="header-anchor" href="#_4-8-6-1-\u865A\u6790\u6784\u51FD\u6570\u4F5C\u7528" aria-hidden="true">#</a> 4.8.6.1 \u865A\u6790\u6784\u51FD\u6570\u4F5C\u7528</h5><p><strong>\u865A\u6790\u6784\u51FD\u6570\u662F\u4E3A\u4E86\u89E3\u51B3\u57FA\u7C7B\u7684\u6307\u9488\u6307\u5411\u6D3E\u751F\u7C7B\u5BF9\u8C61\uFF0C\u5E76\u7528\u57FA\u7C7B\u7684\u6307\u9488\u5220\u9664\u6D3E\u751F\u7C7B\u5BF9\u8C61\u3002</strong></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class People<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">People</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u6784\u9020\u51FD\u6570 People!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	virtual <span class="token keyword">void</span> <span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	virtual <span class="token operator">~</span><span class="token function">People</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u6790\u6784\u51FD\u6570 People!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

class Worker <span class="token operator">:</span> public People<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Worker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u6784\u9020\u51FD\u6570 Worker!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		pName <span class="token operator">=</span> new <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	virtual <span class="token keyword">void</span> <span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u6253\u5370\u5B50\u7C7B\u7684\u540D\u5B57!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">Worker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u6790\u6784\u51FD\u6570 Worker!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>pName <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			delete pName<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
private<span class="token operator">:</span>
	<span class="token keyword">char</span><span class="token operator">*</span> pName<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	People<span class="token operator">*</span> people <span class="token operator">=</span> new Worker<span class="token punctuation">;</span>
	people<span class="token operator">-&gt;</span><span class="token operator">~</span><span class="token function">People</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h5 id="_4-8-6-2-\u7EAF\u865A\u6790\u6784\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#_4-8-6-2-\u7EAF\u865A\u6790\u6784\u51FD\u6570" aria-hidden="true">#</a> 4.8.6.2 \u7EAF\u865A\u6790\u6784\u51FD\u6570</h5><p>\u7EAF\u865A\u6790\u6784\u51FD\u6570\u5728c++\u4E2D\u662F\u5408\u6CD5\u7684\uFF0C\u4F46\u662F\u5728\u4F7F\u7528\u7684\u65F6\u5019\u6709\u4E00\u4E2A\u989D\u5916\u7684\u9650\u5236\uFF1A\u5FC5\u987B\u4E3A\u7EAF\u865A\u6790\u6784\u51FD\u6570\u63D0\u4F9B\u4E00\u4E2A\u51FD\u6570\u4F53\u3002</p><p>\u90A3\u4E48\u95EE\u9898\u662F\uFF1A\u5982\u679C\u7ED9\u865A\u6790\u6784\u51FD\u6570\u63D0\u4F9B\u51FD\u6570\u4F53\u4E86\uFF0C\u90A3\u600E\u4E48\u8FD8\u80FD\u79F0\u4F5C\u7EAF\u865A\u6790\u6784\u51FD\u6570\u5462\uFF1F</p><p>\u7EAF\u865A\u6790\u6784\u51FD\u6570\u548C\u975E\u7EAF\u6790\u6784\u51FD\u6570\u4E4B\u95F4\u552F\u4E00\u7684\u4E0D\u540C\u4E4B\u5904\u5728\u4E8E\u7EAF\u865A\u6790\u6784\u51FD\u6570\u4F7F\u5F97\u57FA\u7C7B\u662F\u62BD\u8C61\u7C7B\uFF0C\u4E0D\u80FD\u521B\u5EFA\u57FA\u7C7B\u7684\u5BF9\u8C61\u3002</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u975E\u7EAF\u865A\u6790\u6784\u51FD\u6570</span>
class A<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	virtual <span class="token operator">~</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

A<span class="token operator">::</span><span class="token operator">~</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">//\u7EAF\u6790\u6784\u51FD\u6570</span>
class B<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	virtual <span class="token operator">~</span><span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

B<span class="token operator">::</span><span class="token operator">~</span><span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	A a<span class="token punctuation">;</span> <span class="token comment">//A\u7C7B\u4E0D\u662F\u62BD\u8C61\u7C7B\uFF0C\u53EF\u4EE5\u5B9E\u4F8B\u5316\u5BF9\u8C61</span>
	B b<span class="token punctuation">;</span> <span class="token comment">//B\u7C7B\u662F\u62BD\u8C61\u7C7B\uFF0C\u4E0D\u53EF\u4EE5\u5B9E\u4F8B\u5316\u5BF9\u8C61</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>\u5982\u679C\u7C7B\u7684\u76EE\u7684\u4E0D\u662F\u4E3A\u4E86\u5B9E\u73B0\u591A\u6001\uFF0C\u4F5C\u4E3A\u57FA\u7C7B\u6765\u4F7F\u7528\uFF0C\u5C31\u4E0D\u8981\u58F0\u660E\u865A\u6790\u6784\u51FD\u6570\uFF0C\u53CD\u4E4B\uFF0C\u5219\u5E94\u8BE5\u4E3A\u7C7B\u58F0\u660E\u865A\u6790\u6784\u51FD\u6570\u3002</p><h4 id="_4-8-7-\u91CD\u5199-\u91CD\u8F7D-\u91CD\u5B9A\u4E49" tabindex="-1"><a class="header-anchor" href="#_4-8-7-\u91CD\u5199-\u91CD\u8F7D-\u91CD\u5B9A\u4E49" aria-hidden="true">#</a> 4.8.7 \u91CD\u5199 \u91CD\u8F7D \u91CD\u5B9A\u4E49</h4><ul><li>\u91CD\u8F7D\uFF0C\u540C\u4E00\u4F5C\u7528\u57DF\u7684\u540C\u540D\u51FD\u6570</li></ul><ol><li><p>\u540C\u4E00\u4E2A\u4F5C\u7528\u57DF</p></li><li><p>\u53C2\u6570\u4E2A\u6570\uFF0C\u53C2\u6570\u987A\u5E8F\uFF0C\u53C2\u6570\u7C7B\u578B\u4E0D\u540C</p></li><li><p>\u548C\u51FD\u6570\u8FD4\u56DE\u503C\uFF0C\u6CA1\u6709\u5173\u7CFB</p></li><li><p>const\u4E5F\u53EF\u4EE5\u4F5C\u4E3A\u91CD\u8F7D\u6761\u4EF6 //do(const Teacher&amp; t){} do(Teacher&amp; t)</p></li></ol><ul><li>\u91CD\u5B9A\u4E49\uFF08\u9690\u85CF\uFF09</li></ul><ol><li><p>\u6709\u7EE7\u627F</p></li><li><p>\u5B50\u7C7B\uFF08\u6D3E\u751F\u7C7B\uFF09\u91CD\u65B0\u5B9A\u4E49\u7236\u7C7B\uFF08\u57FA\u7C7B\uFF09\u7684\u540C\u540D\u6210\u5458\uFF08\u975Evirtual\u51FD\u6570\uFF09</p></li></ol><ul><li>\u91CD\u5199\uFF08\u8986\u76D6\uFF09</li></ul><ol><li><p>\u6709\u7EE7\u627F</p></li><li><p>\u5B50\u7C7B\uFF08\u6D3E\u751F\u7C7B\uFF09\u91CD\u5199\u7236\u7C7B\uFF08\u57FA\u7C7B\uFF09\u7684virtual\u51FD\u6570</p></li><li><p>\u51FD\u6570\u8FD4\u56DE\u503C\uFF0C\u51FD\u6570\u540D\u5B57\uFF0C\u51FD\u6570\u53C2\u6570\uFF0C\u5FC5\u987B\u548C\u57FA\u7C7B\u4E2D\u7684\u865A\u51FD\u6570\u4E00\u81F4</p></li></ol><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class A<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token comment">//\u540C\u4E00\u4F5C\u7528\u57DF\u4E0B\uFF0Cfunc1\u51FD\u6570\u91CD\u8F7D</span>
	<span class="token keyword">void</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	virtual <span class="token keyword">void</span> <span class="token function">func3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

class B <span class="token operator">:</span> public A<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token comment">//\u91CD\u5B9A\u4E49\u57FA\u7C7B\u7684func2,\u9690\u85CF\u4E86\u57FA\u7C7B\u7684func2\u65B9\u6CD5</span>
	<span class="token keyword">void</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token comment">//\u91CD\u5199\u57FA\u7C7B\u7684func3\u51FD\u6570\uFF0C\u4E5F\u53EF\u4EE5\u8986\u76D6\u57FA\u7C7Bfunc3</span>
	virtual <span class="token keyword">void</span> <span class="token function">func3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>\u6211</p><h2 id="_5-c-\u6A21\u677F" tabindex="-1"><a class="header-anchor" href="#_5-c-\u6A21\u677F" aria-hidden="true">#</a> 5.c++\u6A21\u677F</h2><h3 id="_5-1-\u6A21\u677F\u6982\u8BBA" tabindex="-1"><a class="header-anchor" href="#_5-1-\u6A21\u677F\u6982\u8BBA" aria-hidden="true">#</a> 5.1 \u6A21\u677F\u6982\u8BBA</h3><p>c++\u63D0\u4F9B\u4E86\u51FD\u6570\u6A21\u677F(function template.)\u6240\u8C13\u51FD\u6570\u6A21\u677F\uFF0C**\u5B9E\u9645\u4E0A\u662F\u5EFA\u7ACB\u4E00\u4E2A\u901A\u7528\u51FD\u6570\uFF0C\u5176\u51FD\u6570\u7C7B\u578B\u548C\u5F62\u53C2\u7C7B\u578B\u4E0D\u5177\u4F53\u5236\u5B9A\uFF0C\u7528\u4E00\u4E2A\u865A\u62DF\u7684\u7C7B\u578B\u6765\u4EE3\u8868\u3002\u8FD9\u4E2A\u901A\u7528\u51FD\u6570\u5C31\u6210\u4E3A\u51FD\u6570\u6A21\u677F\u3002**\u51E1\u662F\u51FD\u6570\u4F53\u76F8\u540C\u7684\u51FD\u6570\u90FD\u53EF\u4EE5\u7528\u8FD9\u4E2A\u6A21\u677F\u4EE3\u66FF\uFF0C\u4E0D\u5FC5\u5B9A\u4E49\u591A\u4E2A\u51FD\u6570\uFF0C\u53EA\u9700\u5728\u6A21\u677F\u4E2D\u5B9A\u4E49\u4E00\u6B21\u5373\u53EF\u3002\u5728\u8C03\u7528\u51FD\u6570\u65F6\u7CFB\u7EDF\u4F1A\u6839\u636E\u5B9E\u53C2\u7684\u7C7B\u578B\u6765\u53D6\u4EE3\u6A21\u677F\u4E2D\u7684\u865A\u62DF\u7C7B\u578B\uFF0C\u4ECE\u800C\u5B9E\u73B0\u4E0D\u540C\u51FD\u6570\u7684\u529F\u80FD\u3002</p><ul><li><p>c++\u63D0\u4F9B\u4E24\u79CD\u6A21\u677F\u673A\u5236:<strong>\u51FD\u6570\u6A21\u677F</strong>\u548C<strong>\u7C7B\u6A21\u677F</strong></p></li><li><p>\u7C7B\u5C5E - \u7C7B\u578B\u53C2\u6570\u5316\uFF0C\u53C8\u79F0\u53C2\u6570\u6A21\u677F</p></li></ul><p><strong>\u603B\u7ED3\uFF1A</strong></p><ul><li><p>\u6A21\u677F\u628A\u51FD\u6570\u6216\u7C7B\u8981\u5904\u7406\u7684\u6570\u636E\u7C7B\u578B\u53C2\u6570\u5316\uFF0C\u8868\u73B0\u4E3A\u53C2\u6570\u7684\u591A\u6001\u6027\uFF0C\u6210\u4E3A\u7C7B\u5C5E\u3002</p></li><li><p>\u6A21\u677F\u7528\u4E8E\u8868\u8FBE\u903B\u8F91\u7ED3\u6784\u76F8\u540C\uFF0C\u4F46\u5177\u4F53\u6570\u636E\u5143\u7D20\u7C7B\u578B\u4E0D\u540C\u7684\u6570\u636E\u5BF9\u8C61\u7684\u901A\u7528\u884C\u4E3A\u3002</p></li></ul><h3 id="_5-2-\u51FD\u6570\u6A21\u677F" tabindex="-1"><a class="header-anchor" href="#_5-2-\u51FD\u6570\u6A21\u677F" aria-hidden="true">#</a> 5.2 \u51FD\u6570\u6A21\u677F</h3><h4 id="_5-2-1-\u4EC0\u4E48\u662F\u51FD\u6570\u6A21\u677F" tabindex="-1"><a class="header-anchor" href="#_5-2-1-\u4EC0\u4E48\u662F\u51FD\u6570\u6A21\u677F" aria-hidden="true">#</a> 5.2.1 \u4EC0\u4E48\u662F\u51FD\u6570\u6A21\u677F\uFF1F</h4><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u4EA4\u6362int\u6570\u636E</span>
<span class="token keyword">void</span> <span class="token function">SwapInt</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">&amp;</span> a<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">int</span> temp <span class="token operator">=</span> a<span class="token punctuation">;</span>
	a <span class="token operator">=</span> b<span class="token punctuation">;</span>
	b <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u4EA4\u6362char\u6570\u636E</span>
<span class="token keyword">void</span> <span class="token function">SwapChar</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">&amp;</span> a<span class="token punctuation">,</span><span class="token keyword">char</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">char</span> temp <span class="token operator">=</span> a<span class="token punctuation">;</span>
	a <span class="token operator">=</span> b<span class="token punctuation">;</span>
	b <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//\u95EE\u9898\uFF1A\u5982\u679C\u6211\u8981\u4EA4\u6362double\u7C7B\u578B\u6570\u636E\uFF0C\u90A3\u4E48\u8FD8\u9700\u8981\u4E9B\u4E00\u4E2Adouble\u7C7B\u578B\u6570\u636E\u4EA4\u6362\u7684\u51FD\u6570</span>
<span class="token comment">//\u7E41\u7410\uFF0C\u5199\u7684\u51FD\u6570\u8D8A\u591A\uFF0C\u5F53\u4EA4\u6362\u903B\u8F91\u53D1\u751F\u53D8\u5316\u7684\u65F6\u5019\uFF0C\u6240\u6709\u7684\u51FD\u6570\u90FD\u9700\u8981\u4FEE\u6539\uFF0C\u65E0\u5F62\u5F53\u4E2D\u589E\u52A0\u4E86\u4EE3\u7801\u7684\u7EF4\u62A4\u96BE\u5EA6</span>

<span class="token comment">//\u5982\u679C\u80FD\u628A\u7C7B\u578B\u4F5C\u4E3A\u53C2\u6570\u4F20\u9012\u8FDB\u6765\u5C31\u597D\u4E86\uFF0C\u4F20\u9012int\u5C31\u662FInt\u7C7B\u578B\u4EA4\u6362\uFF0C\u4F20\u9012char\u5C31\u662Fchar\u7C7B\u578B\u4EA4\u6362</span>
<span class="token comment">//\u6211\u4EEC\u6709\u4E00\u79CD\u6280\u672F\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u7C7B\u578B\u7684\u53C2\u6570\u5316---\u51FD\u6570\u6A21\u677F</span>


<span class="token comment">//class \u548C typename\u90FD\u662F\u4E00\u6837\u7684\uFF0C\u7528\u54EA\u4E2A\u90FD\u53EF\u4EE5</span>
template<span class="token operator">&lt;</span>class T<span class="token operator">&gt;</span>
<span class="token keyword">void</span> <span class="token function">MySwap</span><span class="token punctuation">(</span>T<span class="token operator">&amp;</span> a<span class="token punctuation">,</span>T<span class="token operator">&amp;</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
	T temp <span class="token operator">=</span> a<span class="token punctuation">;</span>
	a <span class="token operator">=</span> b<span class="token punctuation">;</span>
	b <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;a:&quot;</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; b:&quot;</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//1. \u8FD9\u91CC\u6709\u4E2A\u9700\u8981\u6CE8\u610F\u70B9\uFF0C\u51FD\u6570\u6A21\u677F\u53EF\u4EE5\u81EA\u52A8\u63A8\u5BFC\u53C2\u6570\u7684\u7C7B\u578B</span>
	<span class="token function">MySwap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;a:&quot;</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; b:&quot;</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">char</span> c1 <span class="token operator">=</span> <span class="token char">&#39;a&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> c2 <span class="token operator">=</span> <span class="token char">&#39;b&#39;</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;c1:&quot;</span> <span class="token operator">&lt;&lt;</span> c1 <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; c2:&quot;</span> <span class="token operator">&lt;&lt;</span> c2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//2. \u51FD\u6570\u6A21\u677F\u53EF\u4EE5\u81EA\u52A8\u7C7B\u578B\u63A8\u5BFC\uFF0C\u90A3\u4E48\u4E5F\u53EF\u4EE5\u663E\u5F0F\u6307\u5B9A\u7C7B\u578B</span>
	MySwap<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>c1<span class="token punctuation">,</span> c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;c1:&quot;</span> <span class="token operator">&lt;&lt;</span> c1 <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; c2:&quot;</span> <span class="token operator">&lt;&lt;</span> c2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><p><strong>\u7528\u6A21\u677F\u662F\u4E3A\u4E86\u5B9E\u73B0\u6CDB\u578B\uFF0C\u53EF\u4EE5\u51CF\u8F7B\u7F16\u7A0B\u7684\u5DE5\u4F5C\u91CF\uFF0C\u589E\u5F3A\u51FD\u6570\u7684\u91CD\u7528\u6027\u3002</strong></p><h4 id="_5-2-2-\u7EC3\u4E60" tabindex="-1"><a class="header-anchor" href="#_5-2-2-\u7EC3\u4E60" aria-hidden="true">#</a> 5.2.2 \u7EC3\u4E60</h4><p><strong>\u4F7F\u7528\u51FD\u6570\u6A21\u677F\u5B9E\u73B0\u5BF9char\u548Cint\u7C7B\u578B\u6570\u7EC4\u8FDB\u884C\u6392\u5E8F\uFF1F</strong></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u6A21\u677F\u6253\u5370\u51FD\u6570</span>
template<span class="token operator">&lt;</span>class T<span class="token operator">&gt;</span>
<span class="token keyword">void</span> <span class="token function">PrintArray</span><span class="token punctuation">(</span>T arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u6A21\u677F\u6392\u5E8F\u51FD\u6570</span>
template<span class="token operator">&lt;</span>class T<span class="token operator">&gt;</span>
<span class="token keyword">void</span> <span class="token function">MySort</span><span class="token punctuation">(</span>T arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">{</span>
	
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;</span> i<span class="token punctuation">;</span>j<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				T temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				arr<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
				arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	
	<span class="token comment">//char\u6570\u7EC4</span>
	<span class="token keyword">char</span> tempChar<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;aojtifysn&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> charLen <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>tempChar<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//int\u6570\u7EC4</span>
	<span class="token keyword">int</span> tempInt<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> intLen <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>tempInt<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//\u6392\u5E8F\u524D \u6253\u5370\u51FD\u6570</span>
	<span class="token function">PrintArray</span><span class="token punctuation">(</span>tempChar<span class="token punctuation">,</span> charLen<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">PrintArray</span><span class="token punctuation">(</span>tempInt<span class="token punctuation">,</span> intLen<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//\u6392\u5E8F</span>
	<span class="token function">MySort</span><span class="token punctuation">(</span>tempChar<span class="token punctuation">,</span> charLen<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">MySort</span><span class="token punctuation">(</span>tempInt<span class="token punctuation">,</span> intLen<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//\u6392\u5E8F\u540E\u6253\u5370</span>
	<span class="token function">PrintArray</span><span class="token punctuation">(</span>tempChar<span class="token punctuation">,</span> charLen<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">PrintArray</span><span class="token punctuation">(</span>tempInt<span class="token punctuation">,</span> intLen<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h3 id="_5-3\u51FD\u6570\u6A21\u677F\u548C\u666E\u901A\u51FD\u6570\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#_5-3\u51FD\u6570\u6A21\u677F\u548C\u666E\u901A\u51FD\u6570\u533A\u522B" aria-hidden="true">#</a> 5.3\u51FD\u6570\u6A21\u677F\u548C\u666E\u901A\u51FD\u6570\u533A\u522B</h3><ul><li><p>\u51FD\u6570\u6A21\u677F\u4E0D\u5141\u8BB8\u81EA\u52A8\u7C7B\u578B\u8F6C\u5316</p></li><li><p>\u666E\u901A\u51FD\u6570\u80FD\u591F\u81EA\u52A8\u8FDB\u884C\u7C7B\u578B\u8F6C\u5316</p></li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u51FD\u6570\u6A21\u677F</span>
template<span class="token operator">&lt;</span>class T<span class="token operator">&gt;</span>
T <span class="token function">MyPlus</span><span class="token punctuation">(</span>T a<span class="token punctuation">,</span> T b<span class="token punctuation">)</span><span class="token punctuation">{</span>
	T ret <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
	<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u666E\u901A\u51FD\u6570</span>
<span class="token keyword">int</span> <span class="token function">MyPlus</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">char</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">int</span> ret <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
	<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> b <span class="token operator">=</span> <span class="token char">&#39;a&#39;</span><span class="token punctuation">;</span>

	<span class="token comment">//\u8C03\u7528\u51FD\u6570\u6A21\u677F\uFF0C\u4E25\u683C\u5339\u914D\u7C7B\u578B</span>
	<span class="token function">MyPlus</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">MyPlus</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//\u8C03\u7528\u666E\u901A\u51FD\u6570</span>
	<span class="token function">MyPlus</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//\u8C03\u7528\u666E\u901A\u51FD\u6570  \u666E\u901A\u51FD\u6570\u53EF\u4EE5\u9690\u5F0F\u7C7B\u578B\u8F6C\u6362</span>
	<span class="token function">MyPlus</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//\u7ED3\u8BBA\uFF1A</span>
	<span class="token comment">//\u51FD\u6570\u6A21\u677F\u4E0D\u5141\u8BB8\u81EA\u52A8\u7C7B\u578B\u8F6C\u6362\uFF0C\u5FC5\u987B\u4E25\u683C\u5339\u914D\u7C7B\u578B</span>
	<span class="token comment">//\u666E\u901A\u51FD\u6570\u53EF\u4EE5\u8FDB\u884C\u81EA\u52A8\u7C7B\u578B\u8F6C\u6362</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="_5-4-\u51FD\u6570\u6A21\u677F\u548C\u666E\u901A\u51FD\u6570\u5728\u4E00\u8D77\u8C03\u7528\u89C4\u5219" tabindex="-1"><a class="header-anchor" href="#_5-4-\u51FD\u6570\u6A21\u677F\u548C\u666E\u901A\u51FD\u6570\u5728\u4E00\u8D77\u8C03\u7528\u89C4\u5219" aria-hidden="true">#</a> 5.4 \u51FD\u6570\u6A21\u677F\u548C\u666E\u901A\u51FD\u6570\u5728\u4E00\u8D77\u8C03\u7528\u89C4\u5219</h3><ul><li><p>c++\u7F16\u8BD1\u5668\u4F18\u5148\u8003\u8651\u666E\u901A\u51FD\u6570</p></li><li><p>\u53EF\u4EE5\u901A\u8FC7\u7A7A\u6A21\u677F\u5B9E\u53C2\u5217\u8868\u7684\u8BED\u6CD5\u9650\u5B9A\u7F16\u8BD1\u5668\u53EA\u80FD\u901A\u8FC7\u6A21\u677F\u5339\u914D</p></li><li><p>\u51FD\u6570\u6A21\u677F\u53EF\u4EE5\u50CF\u666E\u901A\u51FD\u6570\u90A3\u6837\u53EF\u4EE5\u88AB\u91CD\u8F7D</p></li><li><p>\u5982\u679C\u51FD\u6570\u6A21\u677F\u53EF\u4EE5\u4EA7\u751F\u4E00\u4E2A\u66F4\u597D\u7684\u5339\u914D\uFF0C\u90A3\u4E48\u9009\u62E9\u6A21\u677F</p></li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u51FD\u6570\u6A21\u677F</span>
template<span class="token operator">&lt;</span>class T<span class="token operator">&gt;</span>
T <span class="token function">MyPlus</span><span class="token punctuation">(</span>T a<span class="token punctuation">,</span> T b<span class="token punctuation">)</span><span class="token punctuation">{</span>
	T ret <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
	<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u666E\u901A\u51FD\u6570</span>
<span class="token keyword">int</span> <span class="token function">MyPlus</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">int</span> ret <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
	<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token char">&#39;a&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> d <span class="token operator">=</span> <span class="token char">&#39;b&#39;</span><span class="token punctuation">;</span>
	<span class="token comment">//\u5982\u679C\u51FD\u6570\u6A21\u677F\u548C\u666E\u901A\u51FD\u6570\u90FD\u80FD\u5339\u914D\uFF0Cc++\u7F16\u8BD1\u5668\u4F18\u5148\u8003\u8651\u666E\u901A\u51FD\u6570</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">MyPlus</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//\u5982\u679C\u6211\u5FC5\u987B\u8981\u8C03\u7528\u51FD\u6570\u6A21\u677F,\u90A3\u4E48\u600E\u4E48\u529E?</span>
	cout <span class="token operator">&lt;&lt;</span> MyPlus<span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//\u6B64\u65F6\u666E\u901A\u51FD\u6570\u4E5F\u53EF\u4EE5\u5339\u914D\uFF0C\u56E0\u4E3A\u666E\u901A\u51FD\u6570\u53EF\u4EE5\u81EA\u52A8\u7C7B\u578B\u8F6C\u6362</span>
	<span class="token comment">//\u4F46\u662F\u6B64\u65F6\u51FD\u6570\u6A21\u677F\u80FD\u591F\u6709\u66F4\u597D\u7684\u5339\u914D</span>
	<span class="token comment">//\u5982\u679C\u51FD\u6570\u6A21\u677F\u53EF\u4EE5\u4EA7\u751F\u4E00\u4E2A\u66F4\u597D\u7684\u5339\u914D\uFF0C\u90A3\u4E48\u9009\u62E9\u6A21\u677F</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">MyPlus</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u51FD\u6570\u6A21\u677F\u91CD\u8F7D</span>
template<span class="token operator">&lt;</span>class T<span class="token operator">&gt;</span>
T <span class="token function">MyPlus</span><span class="token punctuation">(</span>T a<span class="token punctuation">,</span> T b<span class="token punctuation">,</span> T c<span class="token punctuation">)</span><span class="token punctuation">{</span>
	T ret <span class="token operator">=</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span>
	<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">MyPlus</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//\u5982\u679C\u51FD\u6570\u6A21\u677F\u548C\u666E\u901A\u51FD\u6570\u90FD\u80FD\u5339\u914D\uFF0Cc++\u7F16\u8BD1\u5668\u4F18\u5148\u8003\u8651\u666E\u901A\u51FD\u6570</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h3 id="_5-5-\u6A21\u677F\u673A\u5236\u5256\u6790" tabindex="-1"><a class="header-anchor" href="#_5-5-\u6A21\u677F\u673A\u5236\u5256\u6790" aria-hidden="true">#</a> 5.5 \u6A21\u677F\u673A\u5236\u5256\u6790</h3><p><strong>\u601D\u8003:\u4E3A\u4EC0\u4E48\u51FD\u6570\u6A21\u677F\u53EF\u4EE5\u548C\u666E\u901A\u51FD\u6570\u653E\u5728\u4E00\u8D77?c++\u7F16\u8BD1\u5668\u662F\u5982\u4F55\u5B9E\u73B0\u51FD\u6570\u6A21\u677F\u673A\u5236\u7684\uFF1F</strong></p><h4 id="_5-5-1-\u7F16\u8BD1\u8FC7\u7A0B" tabindex="-1"><a class="header-anchor" href="#_5-5-1-\u7F16\u8BD1\u8FC7\u7A0B" aria-hidden="true">#</a> 5.5.1 \u7F16\u8BD1\u8FC7\u7A0B</h4><p>hello.cpp\u7A0B\u5E8F\u662F\u9AD8\u7EA7c\u8BED\u8A00\u7A0B\u5E8F\uFF0C\u8FD9\u79CD\u7A0B\u5E8F\u6613\u4E8E\u88AB\u4EBA\u8BFB\u61C2\u3002\u4E3A\u4E86\u5728\u7CFB\u7EDF\u4E0A\u8FD0\u884Chello.c\u7A0B\u5E8F\uFF0C\u6BCF\u4E00\u6761c\u8BED\u53E5\u90FD\u5FC5\u987B\u8F6C\u5316\u4E3A\u4F4E\u7EA7\u7684\u673A\u5668\u6307\u4EE4\u3002\u7136\u540E\u5C06\u8FD9\u4E9B\u673A\u5668\u6307\u4EE4\u6253\u5305\u6210\u53EF\u6267\u884C\u76EE\u6807\u6587\u4EF6\u683C\u5F0F\uFF0C\u5E76\u4EE5\u4E8C\u8FDB\u5236\u5F62\u5F0F\u5B58\u50A8\u4E8E\u78C1\u76D8\u4E2D\u3002</p><p>\u9884\u5904\u7406(Pre-processing) -&gt; \u7F16\u8BD1(Compiling) -&gt;\u6C47\u7F16(Assembling) -&gt; \u94FE\u63A5(Linking)</p><p><img src="`+B+`" alt="wps6A.tmp.jpg"></p><h4 id="_5-5-2\u6A21\u677F\u5B9E\u73B0\u673A\u5236" tabindex="-1"><a class="header-anchor" href="#_5-5-2\u6A21\u677F\u5B9E\u73B0\u673A\u5236" aria-hidden="true">#</a> 5.5.2\u6A21\u677F\u5B9E\u73B0\u673A\u5236</h4><p><strong>\u51FD\u6570\u6A21\u677F\u673A\u5236\u7ED3\u8BBA\uFF1A</strong></p><ul><li><p><strong>\u7F16\u8BD1\u5668\u5E76\u4E0D\u662F\u628A\u51FD\u6570\u6A21\u677F\u5904\u7406\u6210\u80FD\u591F\u5904\u7406\u4EFB\u4F55\u7C7B\u578B\u7684\u51FD\u6570</strong></p></li><li><p><strong>\u51FD\u6570\u6A21\u677F\u901A\u8FC7\u5177\u4F53\u7C7B\u578B\u4EA7\u751F\u4E0D\u540C\u7684\u51FD\u6570</strong></p></li><li><p><strong>\u7F16\u8BD1\u5668\u4F1A\u5BF9\u51FD\u6570\u6A21\u677F\u8FDB\u884C\u4E24\u6B21\u7F16\u8BD1\uFF0C\u5728\u58F0\u660E\u7684\u5730\u65B9\u5BF9\u6A21\u677F\u4EE3\u7801\u672C\u8EAB\u8FDB\u884C\u7F16\u8BD1\uFF0C\u5728\u8C03\u7528\u7684\u5730\u65B9\u5BF9\u53C2\u6570\u66FF\u6362\u540E\u7684\u4EE3\u7801\u8FDB\u884C\u7F16\u8BD1\u3002</strong></p></li></ul><h3 id="_5-6-\u6A21\u677F\u7684\u5C40\u9650\u6027" tabindex="-1"><a class="header-anchor" href="#_5-6-\u6A21\u677F\u7684\u5C40\u9650\u6027" aria-hidden="true">#</a> 5.6 \u6A21\u677F\u7684\u5C40\u9650\u6027</h3><p><strong>\u5047\u8BBE\u6709\u5982\u4E0B\u6A21\u677F\u51FD\u6570\uFF1A</strong></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>template<span class="token operator">&lt;</span>class T<span class="token operator">&gt;</span>
	<span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span>T a<span class="token punctuation">,</span> T b<span class="token punctuation">)</span>
	<span class="token punctuation">{</span> \u2026 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>\u5982\u679C\u4EE3\u7801\u5B9E\u73B0\u65F6\u5B9A\u4E49\u4E86\u8D4B\u503C\u64CD\u4F5C a = b\uFF0C\u4F46\u662FT\u4E3A\u6570\u7EC4\uFF0C\u8FD9\u79CD\u5047\u8BBE\u5C31\u4E0D\u6210\u7ACB\u4E86</strong></p><p><strong>\u540C\u6837\uFF0C\u5982\u679C\u91CC\u9762\u7684\u8BED\u53E5\u4E3A\u5224\u65AD\u8BED\u53E5 if(a&gt;b),\u4F46T\u5982\u679C\u662F\u7ED3\u6784\u4F53\uFF0C\u8BE5\u5047\u8BBE\u4E5F\u4E0D\u6210\u7ACB\uFF0C\u53E6\u5916\u5982\u679C\u662F\u4F20\u5165\u7684\u6570\u7EC4\uFF0C\u6570\u7EC4\u540D\u4E3A\u5730\u5740\uFF0C\u56E0\u6B64\u5B83\u6BD4\u8F83\u7684\u662F\u5730\u5740\uFF0C\u800C\u8FD9\u4E5F\u4E0D\u662F\u6211\u4EEC\u6240\u5E0C\u671B\u7684\u64CD\u4F5C\u3002</strong></p><p><strong>\u603B\u4E4B\uFF0C\u7F16\u5199\u7684\u6A21\u677F\u51FD\u6570\u5F88\u53EF\u80FD\u65E0\u6CD5\u5904\u7406\u67D0\u4E9B\u7C7B\u578B\uFF0C\u53E6\u4E00\u65B9\u9762\uFF0C\u6709\u65F6\u5019\u901A\u7528\u5316\u662F\u6709\u610F\u4E49\u7684\uFF0C\u4F46C++\u8BED\u6CD5\u4E0D\u5141\u8BB8\u8FD9\u6837\u505A\u3002\u4E3A\u4E86\u89E3\u51B3\u8FD9\u79CD\u95EE\u9898\uFF0C\u53EF\u4EE5\u63D0\u4F9B\u6A21\u677F\u7684\u91CD\u8F7D\uFF0C\u4E3A\u8FD9\u4E9B\u7279\u5B9A\u7684\u7C7B\u578B\u63D0\u4F9B\u5177\u4F53\u5316\u7684\u6A21\u677F\u3002</strong></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class Person
<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>mName <span class="token operator">=</span> name<span class="token punctuation">;</span>
		this<span class="token operator">-&gt;</span>mAge <span class="token operator">=</span> age<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	string mName<span class="token punctuation">;</span>
	<span class="token keyword">int</span> mAge<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//\u666E\u901A\u4EA4\u6362\u51FD\u6570</span>
template <span class="token operator">&lt;</span>class T<span class="token operator">&gt;</span>
<span class="token keyword">void</span> <span class="token function">mySwap</span><span class="token punctuation">(</span>T <span class="token operator">&amp;</span>a<span class="token punctuation">,</span>T <span class="token operator">&amp;</span>b<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	T temp <span class="token operator">=</span> a<span class="token punctuation">;</span>
	a <span class="token operator">=</span> b<span class="token punctuation">;</span> 
	b <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//\u7B2C\u4E09\u4EE3\u5177\u4F53\u5316\uFF0C\u663E\u793A\u5177\u4F53\u5316\u7684\u539F\u578B\u548C\u5B9A\u610F\u601D\u4EE5template&lt;&gt;\u5F00\u5934\uFF0C\u5E76\u901A\u8FC7\u540D\u79F0\u6765\u6307\u51FA\u7C7B\u578B</span>
<span class="token comment">//\u5177\u4F53\u5316\u4F18\u5148\u4E8E\u5E38\u89C4\u6A21\u677F</span>
template<span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token keyword">void</span>  mySwap<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">(</span>Person <span class="token operator">&amp;</span>p1<span class="token punctuation">,</span> Person <span class="token operator">&amp;</span>p2<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	string nameTemp<span class="token punctuation">;</span>
	<span class="token keyword">int</span> ageTemp<span class="token punctuation">;</span>

	nameTemp <span class="token operator">=</span> p1<span class="token punctuation">.</span>mName<span class="token punctuation">;</span>
	p1<span class="token punctuation">.</span>mName <span class="token operator">=</span> p2<span class="token punctuation">.</span>mName<span class="token punctuation">;</span>
	p2<span class="token punctuation">.</span>mName <span class="token operator">=</span> nameTemp<span class="token punctuation">;</span>

	ageTemp <span class="token operator">=</span> p1<span class="token punctuation">.</span>mAge<span class="token punctuation">;</span>
	p1<span class="token punctuation">.</span>mAge <span class="token operator">=</span> p2<span class="token punctuation">.</span>mAge<span class="token punctuation">;</span>
	p2<span class="token punctuation">.</span>mAge <span class="token operator">=</span> ageTemp<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Person <span class="token function">P1</span><span class="token punctuation">(</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Person <span class="token function">P2</span><span class="token punctuation">(</span><span class="token string">&quot;Jerry&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;P1 Name = &quot;</span> <span class="token operator">&lt;&lt;</span> P1<span class="token punctuation">.</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; P1 Age = &quot;</span> <span class="token operator">&lt;&lt;</span> P1<span class="token punctuation">.</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;P2 Name = &quot;</span> <span class="token operator">&lt;&lt;</span> P2<span class="token punctuation">.</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; P2 Age = &quot;</span> <span class="token operator">&lt;&lt;</span> P2<span class="token punctuation">.</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token function">mySwap</span><span class="token punctuation">(</span>P1<span class="token punctuation">,</span> P2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;P1 Name = &quot;</span> <span class="token operator">&lt;&lt;</span> P1<span class="token punctuation">.</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; P1 Age = &quot;</span> <span class="token operator">&lt;&lt;</span> P1<span class="token punctuation">.</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;P2 Name = &quot;</span> <span class="token operator">&lt;&lt;</span> P2<span class="token punctuation">.</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; P2 Age = &quot;</span> <span class="token operator">&lt;&lt;</span> P2<span class="token punctuation">.</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h3 id="_5-7-\u7C7B\u6A21\u677F" tabindex="-1"><a class="header-anchor" href="#_5-7-\u7C7B\u6A21\u677F" aria-hidden="true">#</a> 5.7 \u7C7B\u6A21\u677F</h3><h4 id="_5-7-1-\u7C7B\u6A21\u677F\u57FA\u672C\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#_5-7-1-\u7C7B\u6A21\u677F\u57FA\u672C\u6982\u5FF5" aria-hidden="true">#</a> 5.7.1 \u7C7B\u6A21\u677F\u57FA\u672C\u6982\u5FF5</h4><p>\u7C7B\u6A21\u677F\u548C\u51FD\u6570\u6A21\u677F\u7684\u5B9A\u4E49\u548C\u4F7F\u7528\u7C7B\u4F3C\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u8FDB\u884C\u4E86\u4ECB\u7ECD\u3002\u6709\u65F6\uFF0C\u6709\u4E24\u4E2A\u6216\u591A\u4E2A\u7C7B\uFF0C\u5176\u529F\u80FD\u662F\u76F8\u540C\u7684\uFF0C\u4EC5\u4EC5\u662F\u6570\u636E\u7C7B\u578B\u4E0D\u540C\u3002</p><ul><li>\u7C7B\u6A21\u677F\u7528\u4E8E\u5B9E\u73B0\u7C7B\u6240\u9700\u6570\u636E\u7684\u7C7B\u578B\u53C2\u6570\u5316</li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>template<span class="token operator">&lt;</span>class NameType<span class="token punctuation">,</span> class AgeType<span class="token operator">&gt;</span>
class Person
<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Person</span><span class="token punctuation">(</span>NameType name<span class="token punctuation">,</span> AgeType age<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>mName <span class="token operator">=</span> name<span class="token punctuation">;</span>
		this<span class="token operator">-&gt;</span>mAge <span class="token operator">=</span> age<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;name: &quot;</span> <span class="token operator">&lt;&lt;</span> this<span class="token operator">-&gt;</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; age: &quot;</span> <span class="token operator">&lt;&lt;</span> this<span class="token operator">-&gt;</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
public<span class="token operator">:</span>
	NameType mName<span class="token punctuation">;</span>
	AgeType mAge<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">//Person P1(&quot;\u5FB7\u739B\u897F\u4E9A&quot;,18); // \u7C7B\u6A21\u677F\u4E0D\u80FD\u8FDB\u884C\u7C7B\u578B\u81EA\u52A8\u63A8\u5BFC </span>
	Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token function">P1</span><span class="token punctuation">(</span><span class="token string">&quot;\u5FB7\u739B\u897F\u4E9A&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	P1<span class="token punctuation">.</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="_5-7-2-\u7C7B\u6A21\u677F\u505A\u51FD\u6570\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_5-7-2-\u7C7B\u6A21\u677F\u505A\u51FD\u6570\u53C2\u6570" aria-hidden="true">#</a> 5.7.2 \u7C7B\u6A21\u677F\u505A\u51FD\u6570\u53C2\u6570</h4><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u7C7B\u6A21\u677F</span>
template<span class="token operator">&lt;</span>class NameType<span class="token punctuation">,</span> class AgeType<span class="token operator">&gt;</span>
class Person<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Person</span><span class="token punctuation">(</span>NameType name<span class="token punctuation">,</span> AgeType age<span class="token punctuation">)</span><span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>mName <span class="token operator">=</span> name<span class="token punctuation">;</span>
		this<span class="token operator">-&gt;</span>mAge <span class="token operator">=</span> age<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">PrintPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Name:&quot;</span> <span class="token operator">&lt;&lt;</span> this<span class="token operator">-&gt;</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; Age:&quot;</span> <span class="token operator">&lt;&lt;</span> this<span class="token operator">-&gt;</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
public<span class="token operator">:</span>
	NameType mName<span class="token punctuation">;</span>
	AgeType mAge<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//\u7C7B\u6A21\u677F\u505A\u51FD\u6570\u53C2\u6570</span>
<span class="token keyword">void</span> <span class="token function">DoBussiness</span><span class="token punctuation">(</span>Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">{</span>
	p<span class="token punctuation">.</span>mAge <span class="token operator">+=</span> <span class="token number">20</span><span class="token punctuation">;</span>
	p<span class="token punctuation">.</span>mName <span class="token operator">+=</span> <span class="token string">&quot;_vip&quot;</span><span class="token punctuation">;</span>
	p<span class="token punctuation">.</span><span class="token function">PrintPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">DoBussiness</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h4 id="_5-7-3-\u7C7B\u6A21\u677F\u6D3E\u751F\u666E\u901A\u7C7B" tabindex="-1"><a class="header-anchor" href="#_5-7-3-\u7C7B\u6A21\u677F\u6D3E\u751F\u666E\u901A\u7C7B" aria-hidden="true">#</a> 5.7.3 \u7C7B\u6A21\u677F\u6D3E\u751F\u666E\u901A\u7C7B</h4><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u7C7B\u6A21\u677F</span>
template<span class="token operator">&lt;</span>class T<span class="token operator">&gt;</span>
class MyClass<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">MyClass</span><span class="token punctuation">(</span>T property<span class="token punctuation">)</span><span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>mProperty <span class="token operator">=</span> property<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
public<span class="token operator">:</span>
	T mProperty<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//\u5B50\u7C7B\u5B9E\u4F8B\u5316\u7684\u65F6\u5019\u9700\u8981\u5177\u4F53\u5316\u7684\u7236\u7C7B\uFF0C\u5B50\u7C7B\u9700\u8981\u77E5\u9053\u7236\u7C7B\u7684\u5177\u4F53\u7C7B\u578B\u662F\u4EC0\u4E48\u6837\u7684</span>
<span class="token comment">//\u8FD9\u6837c++\u7F16\u8BD1\u5668\u624D\u80FD\u77E5\u9053\u7ED9\u5B50\u7C7B\u5206\u914D\u591A\u5C11\u5185\u5B58</span>

<span class="token comment">//\u666E\u901A\u6D3E\u751F\u7C7B</span>
class SubClass <span class="token operator">:</span> public MyClass<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">SubClass</span><span class="token punctuation">(</span><span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token operator">:</span> MyClass<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>mB <span class="token operator">=</span> b<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
public<span class="token operator">:</span>
	<span class="token keyword">int</span> mB<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="_5-7-4-\u7C7B\u6A21\u677F\u6D3E\u751F\u7C7B\u6A21\u677F" tabindex="-1"><a class="header-anchor" href="#_5-7-4-\u7C7B\u6A21\u677F\u6D3E\u751F\u7C7B\u6A21\u677F" aria-hidden="true">#</a> 5.7.4 \u7C7B\u6A21\u677F\u6D3E\u751F\u7C7B\u6A21\u677F</h4><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u7236\u7C7B\u7C7B\u6A21\u677F</span>
template<span class="token operator">&lt;</span>class T<span class="token operator">&gt;</span>
class Base
<span class="token punctuation">{</span>
	T m<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
template<span class="token operator">&lt;</span>class T <span class="token operator">&gt;</span>
class Child2 <span class="token operator">:</span> public Base<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span>  <span class="token comment">//\u7EE7\u627F\u7C7B\u6A21\u677F\u7684\u65F6\u5019\uFF0C\u5FC5\u987B\u8981\u786E\u5B9A\u57FA\u7C7B\u7684\u5927\u5C0F</span>
<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	T mParam<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Child2<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> d2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="_5-7-5-\u7C7B\u6A21\u677F\u7C7B\u5185\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_5-7-5-\u7C7B\u6A21\u677F\u7C7B\u5185\u5B9E\u73B0" aria-hidden="true">#</a> 5.7.5 \u7C7B\u6A21\u677F\u7C7B\u5185\u5B9E\u73B0</h4><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u7236\u7C7B\u7C7B\u6A21\u677F</span>
template<span class="token operator">&lt;</span>class T<span class="token operator">&gt;</span>
class Base
<span class="token punctuation">{</span>
	T m<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
template<span class="token operator">&lt;</span>class T <span class="token operator">&gt;</span>
class Child2 <span class="token operator">:</span> public Base<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span>  <span class="token comment">//\u7EE7\u627F\u7C7B\u6A21\u677F\u7684\u65F6\u5019\uFF0C\u5FC5\u987B\u8981\u786E\u5B9A\u57FA\u7C7B\u7684\u5927\u5C0F</span>
<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	T mParam<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Child2<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> d2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="_5-7-6-\u7C7B\u6A21\u677F\u7C7B\u5916\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_5-7-6-\u7C7B\u6A21\u677F\u7C7B\u5916\u5B9E\u73B0" aria-hidden="true">#</a> 5.7.6 \u7C7B\u6A21\u677F\u7C7B\u5916\u5B9E\u73B0</h4><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string&gt;</span></span>
using namespace std<span class="token punctuation">;</span>

template<span class="token operator">&lt;</span>class T1<span class="token punctuation">,</span> class T2<span class="token operator">&gt;</span>
class Person<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Person</span><span class="token punctuation">(</span>T1 name<span class="token punctuation">,</span> T2 age<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

public<span class="token operator">:</span>
	T1 mName<span class="token punctuation">;</span>
	T2 mAge<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">//\u7C7B\u5916\u5B9E\u73B0</span>
template<span class="token operator">&lt;</span>class T1<span class="token punctuation">,</span> class T2<span class="token operator">&gt;</span>
Person<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">Person</span><span class="token punctuation">(</span>T1 name<span class="token punctuation">,</span> T2 age<span class="token punctuation">)</span><span class="token punctuation">{</span>
	this<span class="token operator">-&gt;</span>mName <span class="token operator">=</span> name<span class="token punctuation">;</span>
	this<span class="token operator">-&gt;</span>mAge <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


template<span class="token operator">&lt;</span>class T1<span class="token punctuation">,</span> class T2<span class="token operator">&gt;</span>
<span class="token keyword">void</span> Person<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Name:&quot;</span> <span class="token operator">&lt;&lt;</span> this<span class="token operator">-&gt;</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; Age:&quot;</span> <span class="token operator">&lt;&lt;</span> this<span class="token operator">-&gt;</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">&quot;Obama&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	p<span class="token punctuation">.</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h4 id="_5-7-7-\u7C7B\u6A21\u677F\u5934\u6587\u4EF6\u548C\u6E90\u6587\u4EF6\u5206\u79BB\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_5-7-7-\u7C7B\u6A21\u677F\u5934\u6587\u4EF6\u548C\u6E90\u6587\u4EF6\u5206\u79BB\u95EE\u9898" aria-hidden="true">#</a> 5.7.7 \u7C7B\u6A21\u677F\u5934\u6587\u4EF6\u548C\u6E90\u6587\u4EF6\u5206\u79BB\u95EE\u9898</h4><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//Person.hpp</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

template<span class="token operator">&lt;</span>class T1<span class="token punctuation">,</span>class T2<span class="token operator">&gt;</span>
class Person<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Person</span><span class="token punctuation">(</span>T1 name<span class="token punctuation">,</span>T2 age<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">ShowPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
public<span class="token operator">:</span>
	T1 mName<span class="token punctuation">;</span>
	T2 mAge<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

template<span class="token operator">&lt;</span>class T1<span class="token punctuation">,</span> class T2<span class="token operator">&gt;</span>
Person<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">Person</span><span class="token punctuation">(</span>T1 name<span class="token punctuation">,</span> T2 age<span class="token punctuation">)</span><span class="token punctuation">{</span>
	this<span class="token operator">-&gt;</span>mName <span class="token operator">=</span> name<span class="token punctuation">;</span>
	this<span class="token operator">-&gt;</span>mAge <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

template<span class="token operator">&lt;</span>class T1<span class="token punctuation">,</span> class T2<span class="token operator">&gt;</span>
<span class="token keyword">void</span> Person<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">&gt;</span><span class="token operator">::</span><span class="token function">ShowPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Name:&quot;</span> <span class="token operator">&lt;&lt;</span> this<span class="token operator">-&gt;</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; Age:&quot;</span> <span class="token operator">&lt;&lt;</span> this<span class="token operator">-&gt;</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//main.cpp</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
using namespace std<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&quot;Person.hpp&quot;</span></span>

<span class="token comment">//\u6A21\u677F\u4E8C\u6B21\u7F16\u8BD1</span>
<span class="token comment">//\u7F16\u8BD1\u5668\u7F16\u8BD1\u6E90\u7801 \u9010\u4E2A\u7F16\u8BD1\u5355\u5143\u7F16\u8BD1\u7684</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">&quot;Obama&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	p<span class="token punctuation">.</span><span class="token function">ShowPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>\u7ED3\u8BBA:</strong> \u6848\u4F8B\u4EE3\u7801\u5728qt\u7F16\u8BD1\u5668\u987A\u5229\u901A\u8FC7\u7F16\u8BD1\u5E76\u6267\u884C\uFF0C\u4F46\u662F\u5728Linux\u548Cvs\u7F16\u8F91\u5668\u4E0B\u5982\u679C\u53EA\u5305\u542B\u5934\u6587\u4EF6\uFF0C\u90A3\u4E48\u4F1A\u62A5\u9519\u94FE\u63A5\u9519\u8BEF\uFF0C\u9700\u8981\u5305\u542Bcpp\u6587\u4EF6\uFF0C\u4F46\u662F\u5982\u679C\u7C7B\u6A21\u677F\u4E2D\u6709\u53CB\u5143\u7C7B\uFF0C\u90A3\u4E48\u7F16\u8BD1\u5931\u8D25\uFF01</p><p><strong>\u89E3\u51B3\u65B9\u6848: \u7C7B\u6A21\u677F\u7684\u58F0\u660E\u548C\u5B9E\u73B0\u653E\u5230\u4E00\u4E2A\u6587\u4EF6\u4E2D\uFF0C\u6211\u4EEC\u628A\u8FD9\u4E2A\u6587\u4EF6\u547D\u540D\u4E3A.hpp(\u8FD9\u4E2A\u662F\u4E2A\u7EA6\u5B9A\u7684\u89C4\u5219\uFF0C\u5E76\u4E0D\u662F\u6807\u51C6\uFF0C\u5FC5\u987B\u8FD9\u4E48\u5199).</strong></p><p><strong>\u539F\u56E0\uFF1A</strong></p><ul><li><p><strong>\u7C7B\u6A21\u677F\u9700\u8981\u4E8C\u6B21\u7F16\u8BD1\uFF0C\u5728\u51FA\u73B0\u6A21\u677F\u7684\u5730\u65B9\u7F16\u8BD1\u4E00\u6B21\uFF0C\u5728\u8C03\u7528\u6A21\u677F\u7684\u5730\u65B9\u518D\u6B21\u7F16\u8BD1\u3002</strong></p></li><li><p><strong>C++\u7F16\u8BD1\u89C4\u5219\u4E3A\u72EC\u7ACB\u7F16\u8BD1\u3002</strong></p></li></ul><h4 id="_5-7-8-\u6A21\u677F\u7C7B\u78B0\u5230\u53CB\u5143\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#_5-7-8-\u6A21\u677F\u7C7B\u78B0\u5230\u53CB\u5143\u51FD\u6570" aria-hidden="true">#</a> 5.7.8 \u6A21\u677F\u7C7B\u78B0\u5230\u53CB\u5143\u51FD\u6570</h4><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
using namespace std<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

template<span class="token operator">&lt;</span>class T1<span class="token punctuation">,</span> class T2<span class="token operator">&gt;</span> class Person<span class="token punctuation">;</span>
<span class="token comment">//\u544A\u8BC9\u7F16\u8BD1\u5668\u8FD9\u4E2A\u51FD\u6570\u6A21\u677F\u662F\u5B58\u5728</span>
template<span class="token operator">&lt;</span>class T1<span class="token punctuation">,</span> class T2<span class="token operator">&gt;</span> <span class="token keyword">void</span> <span class="token function">PrintPerson2</span><span class="token punctuation">(</span>Person<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">&gt;</span><span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//\u53CB\u5143\u51FD\u6570\u5728\u7C7B\u5185\u5B9E\u73B0</span>
template<span class="token operator">&lt;</span>class T1<span class="token punctuation">,</span> class T2<span class="token operator">&gt;</span>
class Person<span class="token punctuation">{</span>
	<span class="token comment">//1. \u53CB\u5143\u51FD\u6570\u5728\u7C7B\u5185\u5B9E\u73B0</span>
	friend <span class="token keyword">void</span> <span class="token function">PrintPerson</span><span class="token punctuation">(</span>Person<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">&gt;</span><span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Name:&quot;</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; Age:&quot;</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//2.\u53CB\u5143\u51FD\u6570\u7C7B\u5916\u5B9E\u73B0</span>
	<span class="token comment">//\u544A\u8BC9\u7F16\u8BD1\u5668\u8FD9\u4E2A\u51FD\u6570\u6A21\u677F\u662F\u5B58\u5728</span>
	friend <span class="token keyword">void</span> PrintPerson2<span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>Person<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">&gt;</span><span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//3. \u7C7B\u6A21\u677F\u78B0\u5230\u53CB\u5143\u51FD\u6570\u6A21\u677F</span>
	template<span class="token operator">&lt;</span>class U1<span class="token punctuation">,</span> class U2<span class="token operator">&gt;</span>
	friend <span class="token keyword">void</span> <span class="token function">PrintPerson</span><span class="token punctuation">(</span>Person<span class="token operator">&lt;</span>U1<span class="token punctuation">,</span> U2<span class="token operator">&gt;</span><span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>

public<span class="token operator">:</span>
	<span class="token function">Person</span><span class="token punctuation">(</span>T1 name<span class="token punctuation">,</span> T2 age<span class="token punctuation">)</span><span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>mName <span class="token operator">=</span> name<span class="token punctuation">;</span>
		this<span class="token operator">-&gt;</span>mAge <span class="token operator">=</span> age<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Name:&quot;</span> <span class="token operator">&lt;&lt;</span> this<span class="token operator">-&gt;</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; Age:&quot;</span> <span class="token operator">&lt;&lt;</span> this<span class="token operator">-&gt;</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
private<span class="token operator">:</span>
	T1 mName<span class="token punctuation">;</span>
	T2 mAge<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Person <span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token function">p</span><span class="token punctuation">(</span><span class="token string">&quot;Jerry&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">PrintPerson</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// \u7C7B\u6A21\u677F\u78B0\u5230\u53CB\u5143\u51FD\u6570</span>
<span class="token comment">//\u53CB\u5143\u51FD\u6570\u7C7B\u5916\u5B9E\u73B0  \u52A0\u4E0A&lt;&gt;\u7A7A\u53C2\u6570\u5217\u8868\uFF0C\u544A\u8BC9\u7F16\u8BD1\u53BB\u5339\u914D\u51FD\u6570\u6A21\u677F</span>
template<span class="token operator">&lt;</span>class T1 <span class="token punctuation">,</span> class T2<span class="token operator">&gt;</span>
<span class="token keyword">void</span> <span class="token function">PrintPerson2</span><span class="token punctuation">(</span>Person<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">&gt;</span><span class="token operator">&amp;</span> p<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Name2:&quot;</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; Age2:&quot;</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span>  <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	Person <span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token function">p</span><span class="token punctuation">(</span><span class="token string">&quot;Jerry&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">PrintPerson2</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//\u4E0D\u5199\u53EF\u4EE5\u7F16\u8BD1\u901A\u8FC7\uFF0C\u5199\u4E86\u4E4B\u540E\uFF0C\u4F1A\u627EPrintPerson2\u7684\u666E\u901A\u51FD\u6570\u8C03\u7528\uFF0C\u56E0\u4E3A\u5199\u4E86\u666E\u901A\u51FD\u6570PrintPerson2\u7684\u58F0\u660E	</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token comment">//test01();</span>
	<span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div><h3 id="_5-8-\u7C7B\u6A21\u677F\u7684\u5E94\u7528" tabindex="-1"><a class="header-anchor" href="#_5-8-\u7C7B\u6A21\u677F\u7684\u5E94\u7528" aria-hidden="true">#</a> 5.8 \u7C7B\u6A21\u677F\u7684\u5E94\u7528</h3><p>\u8BBE\u8BA1\u4E00\u4E2A\u6570\u7EC4\u6A21\u677F\u7C7B(MyArray),\u5B8C\u6210\u5BF9\u4E0D\u540C\u7C7B\u578B\u5143\u7D20\u7684\u7BA1\u7406</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
template<span class="token operator">&lt;</span>class T<span class="token operator">&gt;</span>
class MyArray
<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	explicit <span class="token function">MyArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>m_Capacity <span class="token operator">=</span> capacity<span class="token punctuation">;</span>
		this<span class="token operator">-&gt;</span>m_Size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token comment">// \u5982\u679CT\u662F\u5BF9\u8C61\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u5BF9\u8C61\u5FC5\u987B\u63D0\u4F9B\u9ED8\u8BA4\u7684\u6784\u9020\u51FD\u6570</span>
		pAddress <span class="token operator">=</span> new T<span class="token punctuation">[</span>this<span class="token operator">-&gt;</span>m_Capacity<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//\u62F7\u8D1D\u6784\u9020</span>
	<span class="token function">MyArray</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyArray <span class="token operator">&amp;</span> arr<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>m_Capacity <span class="token operator">=</span> arr<span class="token punctuation">.</span>m_Capacity<span class="token punctuation">;</span>
		this<span class="token operator">-&gt;</span>m_Size <span class="token operator">=</span> arr<span class="token punctuation">.</span>m_Size<span class="token punctuation">;</span>
		this<span class="token operator">-&gt;</span>pAddress <span class="token operator">=</span> new T<span class="token punctuation">[</span>this<span class="token operator">-&gt;</span>m_Capacity<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> this<span class="token operator">-&gt;</span>m_Size<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			this<span class="token operator">-&gt;</span>pAddress<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">.</span>pAddress<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//\u91CD\u8F7D[] \u64CD\u4F5C\u7B26  arr[0]</span>
	T<span class="token operator">&amp;</span> operator <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">return</span> this<span class="token operator">-&gt;</span>pAddress<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span> 
	<span class="token punctuation">}</span>
	<span class="token comment">//\u5C3E\u63D2\u6CD5</span>
	<span class="token keyword">void</span> <span class="token function">Push_back</span><span class="token punctuation">(</span><span class="token keyword">const</span> T <span class="token operator">&amp;</span> val<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>m_Capacity <span class="token operator">==</span> this<span class="token operator">-&gt;</span>m_Size<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		this<span class="token operator">-&gt;</span>pAddress<span class="token punctuation">[</span>this<span class="token operator">-&gt;</span>m_Size<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
		this<span class="token operator">-&gt;</span>m_Size<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">Pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>m_Size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		this<span class="token operator">-&gt;</span>m_Size<span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span>	<span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">return</span> this<span class="token operator">-&gt;</span>m_Size<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u6790\u6784</span>
	<span class="token operator">~</span><span class="token function">MyArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>pAddress <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			delete<span class="token punctuation">[</span><span class="token punctuation">]</span> this<span class="token operator">-&gt;</span>pAddress<span class="token punctuation">;</span>
			this<span class="token operator">-&gt;</span>pAddress <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
			this<span class="token operator">-&gt;</span>m_Capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
			this<span class="token operator">-&gt;</span>m_Size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

private<span class="token operator">:</span>
	T <span class="token operator">*</span> pAddress<span class="token punctuation">;</span>  <span class="token comment">//\u6307\u5411\u4E00\u4E2A\u5806\u7A7A\u95F4\uFF0C\u8FD9\u4E2A\u7A7A\u95F4\u5B58\u50A8\u771F\u6B63\u7684\u6570\u636E</span>
	<span class="token keyword">int</span> m_Capacity<span class="token punctuation">;</span> <span class="token comment">//\u5BB9\u91CF</span>
	<span class="token keyword">int</span> m_Size<span class="token punctuation">;</span>   <span class="token comment">// \u5927\u5C0F</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//\u6D4B\u8BD5\u4EE3\u7801\uFF1A</span>


class Person<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span><span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>mName <span class="token operator">=</span> name<span class="token punctuation">;</span>
		this<span class="token operator">-&gt;</span>mAge <span class="token operator">=</span> age<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
public<span class="token operator">:</span>
	string mName<span class="token punctuation">;</span>
	<span class="token keyword">int</span> mAge<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">void</span> <span class="token function">PrintMyArrayInt</span><span class="token punctuation">(</span>MyArray<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">PrintMyPerson</span><span class="token punctuation">(</span>MyArray<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token operator">&amp;</span> personArr<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> personArr<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u59D3\u540D\uFF1A&quot;</span> <span class="token operator">&lt;&lt;</span> personArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; \u5E74\u9F84\uFF1A &quot;</span> <span class="token operator">&lt;&lt;</span> personArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span>
	
	MyArray<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">myArrayInt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">9</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		myArrayInt<span class="token punctuation">.</span><span class="token function">Push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	myArrayInt<span class="token punctuation">.</span><span class="token function">Push_back</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">PrintMyArrayInt</span><span class="token punctuation">(</span>myArrayInt<span class="token punctuation">)</span><span class="token punctuation">;</span>

MyArray<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span> <span class="token function">myArrayPerson</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">&quot;\u5FB7\u739B\u897F\u4E9A&quot;</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Person <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">&quot;\u63D0\u83AB&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Person <span class="token function">p3</span><span class="token punctuation">(</span><span class="token string">&quot;\u5B59\u609F\u7A7A&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Person <span class="token function">p4</span><span class="token punctuation">(</span><span class="token string">&quot;\u8D75\u4FE1&quot;</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Person <span class="token function">p5</span><span class="token punctuation">(</span><span class="token string">&quot;\u8D75\u4E91&quot;</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	myArrayPerson<span class="token punctuation">.</span><span class="token function">Push_back</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	myArrayPerson<span class="token punctuation">.</span><span class="token function">Push_back</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	myArrayPerson<span class="token punctuation">.</span><span class="token function">Push_back</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span>
	myArrayPerson<span class="token punctuation">.</span><span class="token function">Push_back</span><span class="token punctuation">(</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span>
	myArrayPerson<span class="token punctuation">.</span><span class="token function">Push_back</span><span class="token punctuation">(</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br></div></div><h2 id="_6-c-\u7C7B\u578B\u8F6C\u6362" tabindex="-1"><a class="header-anchor" href="#_6-c-\u7C7B\u578B\u8F6C\u6362" aria-hidden="true">#</a> 6.c++\u7C7B\u578B\u8F6C\u6362</h2><p>\u7C7B\u578B\u8F6C\u6362(cast)\u662F\u5C06\u4E00\u79CD\u6570\u636E\u7C7B\u578B\u8F6C\u6362\u6210\u53E6\u4E00\u79CD\u6570\u636E\u7C7B\u578B\u3002\u4F8B\u5982\uFF0C\u5982\u679C\u5C06\u4E00\u4E2A\u6574\u578B\u503C\u8D4B\u7ED9\u4E00\u4E2A\u6D6E\u70B9\u7C7B\u578B\u7684\u53D8\u91CF\uFF0C\u7F16\u8BD1\u5668\u4F1A\u6697\u5730\u91CC\u5C06\u5176\u8F6C\u6362\u6210\u6D6E\u70B9\u7C7B\u578B\u3002</p><p>\u8F6C\u6362\u662F\u975E\u5E38\u6709\u7528\u7684\uFF0C\u4F46\u662F\u5B83\u4E5F\u4F1A\u5E26\u6765\u4E00\u4E9B\u95EE\u9898\uFF0C\u6BD4\u5982\u5728\u8F6C\u6362\u6307\u9488\u65F6\uFF0C\u6211\u4EEC\u5F88\u53EF\u80FD\u5C06\u5176\u8F6C\u6362\u6210\u4E00\u4E2A\u6BD4\u5B83\u66F4\u5927\u7684\u7C7B\u578B\uFF0C\u4F46\u8FD9\u53EF\u80FD\u4F1A\u7834\u574F\u5176\u4ED6\u7684\u6570\u636E\u3002</p><p>\u5E94\u8BE5\u5C0F\u5FC3\u7C7B\u578B\u8F6C\u6362\uFF0C\u56E0\u4E3A\u8F6C\u6362\u4E5F\u5C31\u76F8\u5F53\u4E8E\u5BF9\u7F16\u8BD1\u5668\u8BF4\uFF1A\u5FD8\u8BB0\u7C7B\u578B\u68C0\u67E5\uFF0C\u628A\u5B83\u770B\u505A\u5176\u4ED6\u7684\u7C7B\u578B\u3002</p><p>\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u5C3D\u91CF\u5C11\u7684\u53BB\u4F7F\u7528\u7C7B\u578B\u8F6C\u6362\uFF0C\u9664\u975E\u7528\u6765\u89E3\u51B3\u975E\u5E38\u7279\u6B8A\u7684\u95EE\u9898\u3002</p><p>**\u65E0\u8BBA\u4EC0\u4E48\u539F\u56E0\uFF0C\u4EFB\u4F55\u4E00\u4E2A\u7A0B\u5E8F\u5982\u679C\u4F7F\u7528\u5F88\u591A\u7C7B\u578B\u8F6C\u6362\u90FD\u503C\u5F97\u6000\u7591. **</p><p>\u6807\u51C6c++\u63D0\u4F9B\u4E86\u4E00\u4E2A\u663E\u793A\u7684\u8F6C\u6362\u7684\u8BED\u6CD5\uFF0C\u6765\u66FF\u4EE3\u65E7\u7684C\u98CE\u683C\u7684\u7C7B\u578B\u8F6C\u6362\u3002</p><p>\u4F7F\u7528C\u98CE\u683C\u7684\u5F3A\u5236\u8F6C\u6362\u53EF\u4EE5\u628A\u60F3\u8981\u7684\u4EFB\u4F55\u4E1C\u897F\u8F6C\u6362\u6210\u6211\u4EEC\u9700\u8981\u7684\u7C7B\u578B\u3002\u90A3\u4E3A\u4EC0\u4E48\u8FD8\u9700\u8981\u4E00\u4E2A\u65B0\u7684C++\u7C7B\u578B\u7684\u5F3A\u5236\u8F6C\u6362\u5462\uFF1F</p><p>\u65B0\u7C7B\u578B\u7684\u5F3A\u5236\u8F6C\u6362\u53EF\u4EE5\u63D0\u4F9B\u66F4\u597D\u7684\u63A7\u5236\u5F3A\u5236\u8F6C\u6362\u8FC7\u7A0B\uFF0C\u5141\u8BB8\u63A7\u5236\u5404\u79CD\u4E0D\u540C\u79CD\u7C7B\u7684\u5F3A\u5236\u8F6C\u6362\u3002C++\u98CE\u683C\u7684\u5F3A\u5236\u8F6C\u6362\u5176\u4ED6\u7684\u597D\u5904\u662F\uFF0C\u5B83\u4EEC\u80FD\u66F4\u6E05\u6670\u7684\u8868\u660E\u5B83\u4EEC\u8981\u5E72\u4EC0\u4E48\u3002\u7A0B\u5E8F\u5458\u53EA\u8981\u626B\u4E00\u773C\u8FD9\u6837\u7684\u4EE3\u7801\uFF0C\u5C31\u80FD\u7ACB\u5373\u77E5\u9053\u4E00\u4E2A\u5F3A\u5236\u8F6C\u6362\u7684\u76EE\u7684\u3002</p><h3 id="_6-1-\u9759\u6001\u8F6C\u6362-static-cast" tabindex="-1"><a class="header-anchor" href="#_6-1-\u9759\u6001\u8F6C\u6362-static-cast" aria-hidden="true">#</a> 6.1 \u9759\u6001\u8F6C\u6362\uFF08static_cast\uFF09</h3><ul><li><p>\u7528\u4E8E\u7C7B\u5C42\u6B21\u7ED3\u6784\u4E2D\u57FA\u7C7B\uFF08\u7236\u7C7B\uFF09\u548C\uFF08\u5B50\u7C7B\uFF09\u4E4B\u95F4\u6307\u9488\u6216\u5F15\u7528\u7684\u8F6C\u6362\u3002</p></li><li><p>\u8FDB\u884C\u4E0A\u884C\u8F6C\u6362\uFF08\u628A\u6D3E\u751F\u7C7B\u7684\u6307\u9488\u6216\u5F15\u7528\u8F6C\u6362\u6210\u57FA\u7C7B\u8868\u793A\uFF09\u662F\u5B89\u5168\u7684\uFF1B</p></li><li><p>\u8FDB\u884C\u4E0B\u884C\u8F6C\u6362\uFF08\u628A\u57FA\u7C7B\u6307\u9488\u6216\u5F15\u7528\u8F6C\u6362\u6210\u6D3E\u751F\u7C7B\u8868\u793A\uFF09\u65F6\uFF0C\u7531\u4E8E\u6CA1\u6709\u52A8\u6001\u7C7B\u578B\u68C0\u67E5\uFF0C\u6240\u4EE5\u662F\u4E0D\u5B89\u5168\u7684\u3002</p></li><li><p>\u7528\u4E8E\u57FA\u672C\u6570\u636E\u7C7B\u578B\u4E4B\u95F4\u7684\u8F6C\u6362\uFF0C\u5982\u628Aint\u8F6C\u6362\u6210char\uFF0C\u628Achar\u8F6C\u6362\u6210int\u3002\u8FD9\u79CD\u8F6C\u6362\u7684\u5B89\u5168\u6027\u4E5F\u8981\u5F00\u53D1\u4EBA\u5458\u6765\u4FDD\u8BC1\u3002</p></li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class Animal<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
class Dog <span class="token operator">:</span> public Animal<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
class Other<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//\u57FA\u7840\u6570\u636E\u7C7B\u578B\u8F6C\u6362</span>
<span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">char</span> a <span class="token operator">=</span> <span class="token char">&#39;a&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> b <span class="token operator">=</span> static_cast<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u7EE7\u627F\u5173\u7CFB\u6307\u9488\u4E92\u76F8\u8F6C\u6362</span>
<span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">//\u7EE7\u627F\u5173\u7CFB\u6307\u9488\u8F6C\u6362</span>
	Animal<span class="token operator">*</span> animal01 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	Dog<span class="token operator">*</span> dog01 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token comment">//\u5B50\u7C7B\u6307\u9488\u8F6C\u6210\u7236\u7C7B\u6307\u9488,\u5B89\u5168</span>
	Animal<span class="token operator">*</span> animal02 <span class="token operator">=</span> static_cast<span class="token operator">&lt;</span>Animal<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>dog01<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//\u7236\u7C7B\u6307\u9488\u8F6C\u6210\u5B50\u7C7B\u6307\u9488\uFF0C\u4E0D\u5B89\u5168</span>
	Dog<span class="token operator">*</span> dog02 <span class="token operator">=</span> static_cast<span class="token operator">&lt;</span>Dog<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>animal01<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u7EE7\u627F\u5173\u7CFB\u5F15\u7528\u76F8\u4E92\u8F6C\u6362</span>
<span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	Animal ani_ref<span class="token punctuation">;</span>
	Dog dog_ref<span class="token punctuation">;</span>
	<span class="token comment">//\u7EE7\u627F\u5173\u7CFB\u6307\u9488\u8F6C\u6362</span>
	Animal<span class="token operator">&amp;</span> animal01 <span class="token operator">=</span> ani_ref<span class="token punctuation">;</span>
	Dog<span class="token operator">&amp;</span> dog01 <span class="token operator">=</span> dog_ref<span class="token punctuation">;</span>
	<span class="token comment">//\u5B50\u7C7B\u6307\u9488\u8F6C\u6210\u7236\u7C7B\u6307\u9488,\u5B89\u5168</span>
	Animal<span class="token operator">&amp;</span> animal02 <span class="token operator">=</span> static_cast<span class="token operator">&lt;</span>Animal<span class="token operator">&amp;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>dog01<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//\u7236\u7C7B\u6307\u9488\u8F6C\u6210\u5B50\u7C7B\u6307\u9488\uFF0C\u4E0D\u5B89\u5168</span>
	Dog<span class="token operator">&amp;</span> dog02 <span class="token operator">=</span> static_cast<span class="token operator">&lt;</span>Dog<span class="token operator">&amp;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>animal01<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u65E0\u7EE7\u627F\u5173\u7CFB\u6307\u9488\u8F6C\u6362</span>
<span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	
	Animal<span class="token operator">*</span> animal01 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	Other<span class="token operator">*</span> other01 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

	<span class="token comment">//\u8F6C\u6362\u5931\u8D25</span>
	<span class="token comment">//Animal* animal02 = static_cast&lt;Animal*&gt;(other01);</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h3 id="_6-2-\u52A8\u6001\u8F6C\u6362-dynamic-cast" tabindex="-1"><a class="header-anchor" href="#_6-2-\u52A8\u6001\u8F6C\u6362-dynamic-cast" aria-hidden="true">#</a> 6.2 \u52A8\u6001\u8F6C\u6362\uFF08dynamic_cast\uFF09</h3><ul><li><p>dynamic_cast\u4E3B\u8981\u7528\u4E8E\u7C7B\u5C42\u6B21\u95F4\u7684\u4E0A\u884C\u8F6C\u6362\u548C\u4E0B\u884C\u8F6C\u6362\uFF1B</p></li><li><p>\u5728\u7C7B\u5C42\u6B21\u95F4\u8FDB\u884C\u4E0A\u884C\u8F6C\u6362\u65F6\uFF0Cdynamic_cast\u548Cstatic_cast\u7684\u6548\u679C\u662F\u4E00\u6837\u7684\uFF1B</p></li><li><p>\u5728\u8FDB\u884C\u4E0B\u884C\u8F6C\u6362\u65F6\uFF0Cdynamic_cast\u5177\u6709\u7C7B\u578B\u68C0\u67E5\u7684\u529F\u80FD\uFF0C\u6BD4static_cast\u66F4\u5B89\u5168\uFF1B</p></li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class Animal <span class="token punctuation">{</span>
public<span class="token operator">:</span>
	virtual <span class="token keyword">void</span> <span class="token function">ShowName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class Dog <span class="token operator">:</span> public Animal<span class="token punctuation">{</span>
	virtual <span class="token keyword">void</span> <span class="token function">ShowName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;I am a dog!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
class Other <span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">PrintSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u6211\u662F\u5176\u4ED6\u7C7B!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//\u666E\u901A\u7C7B\u578B\u8F6C\u6362</span>
<span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token comment">//\u4E0D\u652F\u6301\u57FA\u7840\u6570\u636E\u7C7B\u578B</span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token comment">//double a = dynamic_cast&lt;double&gt;(a);</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u7EE7\u627F\u5173\u7CFB\u6307\u9488</span>
<span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	Animal<span class="token operator">*</span> animal01 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	Dog<span class="token operator">*</span> dog01 <span class="token operator">=</span> new Dog<span class="token punctuation">;</span>

	<span class="token comment">//\u5B50\u7C7B\u6307\u9488\u8F6C\u6362\u6210\u7236\u7C7B\u6307\u9488 \u53EF\u4EE5</span>
	Animal<span class="token operator">*</span> animal02 <span class="token operator">=</span> dynamic_cast<span class="token operator">&lt;</span>Animal<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>dog01<span class="token punctuation">)</span><span class="token punctuation">;</span>
	animal02<span class="token operator">-&gt;</span><span class="token function">ShowName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//\u7236\u7C7B\u6307\u9488\u8F6C\u6362\u6210\u5B50\u7C7B\u6307\u9488 \u4E0D\u53EF\u4EE5</span>
	<span class="token comment">//Dog* dog02 = dynamic_cast&lt;Dog*&gt;(animal01);</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u7EE7\u627F\u5173\u7CFB\u5F15\u7528</span>
<span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	Dog dog_ref<span class="token punctuation">;</span>
	Dog<span class="token operator">&amp;</span> dog01 <span class="token operator">=</span> dog_ref<span class="token punctuation">;</span>

	<span class="token comment">//\u5B50\u7C7B\u5F15\u7528\u8F6C\u6362\u6210\u7236\u7C7B\u5F15\u7528 \u53EF\u4EE5</span>
	Animal<span class="token operator">&amp;</span> animal02 <span class="token operator">=</span> dynamic_cast<span class="token operator">&lt;</span>Animal<span class="token operator">&amp;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>dog01<span class="token punctuation">)</span><span class="token punctuation">;</span>
	animal02<span class="token punctuation">.</span><span class="token function">ShowName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u65E0\u7EE7\u627F\u5173\u7CFB\u6307\u9488\u8F6C\u6362</span>
<span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	
	Animal<span class="token operator">*</span> animal01 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	Other<span class="token operator">*</span> other <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

	<span class="token comment">//\u4E0D\u53EF\u4EE5</span>
	<span class="token comment">//Animal* animal02 = dynamic_cast&lt;Animal*&gt;(other);</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><h3 id="_6-3-\u5E38\u91CF\u8F6C\u6362-const-cast" tabindex="-1"><a class="header-anchor" href="#_6-3-\u5E38\u91CF\u8F6C\u6362-const-cast" aria-hidden="true">#</a> 6.3 \u5E38\u91CF\u8F6C\u6362\uFF08const_cast\uFF09</h3><p>\u8BE5\u8FD0\u7B97\u7B26\u7528\u6765\u4FEE\u6539\u7C7B\u578B\u7684const\u5C5E\u6027\u3002\u3002</p><ul><li><p>\u5E38\u91CF\u6307\u9488\u88AB\u8F6C\u5316\u6210\u975E\u5E38\u91CF\u6307\u9488\uFF0C\u5E76\u4E14\u4ECD\u7136\u6307\u5411\u539F\u6765\u7684\u5BF9\u8C61\uFF1B</p></li><li><p>\u5E38\u91CF\u5F15\u7528\u88AB\u8F6C\u6362\u6210\u975E\u5E38\u91CF\u5F15\u7528\uFF0C\u5E76\u4E14\u4ECD\u7136\u6307\u5411\u539F\u6765\u7684\u5BF9\u8C61\uFF1B</p></li></ul><p>**\u6CE8\u610F:**\u4E0D\u80FD\u76F4\u63A5\u5BF9\u975E\u6307\u9488\u548C\u975E\u5F15\u7528\u7684\u53D8\u91CF\u4F7F\u7528const_cast\u64CD\u4F5C\u7B26\u53BB\u76F4\u63A5\u79FB\u9664\u5B83\u7684const.</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u5E38\u91CF\u6307\u9488\u8F6C\u6362\u6210\u975E\u5E38\u91CF\u6307\u9488</span>
<span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	
	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">*</span> np <span class="token operator">=</span> const_cast<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">int</span><span class="token operator">*</span> pp <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> npp <span class="token operator">=</span> const_cast<span class="token operator">&lt;</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>pp<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>  <span class="token comment">//\u4E0D\u80FD\u5BF9\u975E\u6307\u9488\u6216\u975E\u5F15\u7528\u8FDB\u884C\u8F6C\u6362</span>
	<span class="token comment">//int b = const_cast&lt;int&gt;(a); }</span>

<span class="token comment">//\u5E38\u91CF\u5F15\u7528\u8F6C\u6362\u6210\u975E\u5E38\u91CF\u5F15\u7528</span>
<span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> <span class="token operator">&amp;</span> refNum <span class="token operator">=</span> num<span class="token punctuation">;</span>

	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> refNum2 <span class="token operator">=</span> const_cast<span class="token operator">&lt;</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>refNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_6-4-\u91CD\u65B0\u89E3\u91CA\u8F6C\u6362-reinterpret-cast" tabindex="-1"><a class="header-anchor" href="#_6-4-\u91CD\u65B0\u89E3\u91CA\u8F6C\u6362-reinterpret-cast" aria-hidden="true">#</a> 6.4 \u91CD\u65B0\u89E3\u91CA\u8F6C\u6362(reinterpret_cast)</h3><p>\u8FD9\u662F\u6700\u4E0D\u5B89\u5168\u7684\u4E00\u79CD\u8F6C\u6362\u673A\u5236\uFF0C\u6700\u6709\u53EF\u80FD\u51FA\u95EE\u9898\u3002</p><p>\u4E3B\u8981\u7528\u4E8E\u5C06\u4E00\u79CD\u6570\u636E\u7C7B\u578B\u4ECE\u4E00\u79CD\u7C7B\u578B\u8F6C\u6362\u4E3A\u53E6\u4E00\u79CD\u7C7B\u578B\u3002\u5B83\u53EF\u4EE5\u5C06\u4E00\u4E2A\u6307\u9488\u8F6C\u6362\u6210\u4E00\u4E2A\u6574\u6570\uFF0C\u4E5F\u53EF\u4EE5\u5C06\u4E00\u4E2A\u6574\u6570\u8F6C\u6362\u6210\u4E00\u4E2A\u6307\u9488.</p><h2 id="_7-c-\u5F02\u5E38" tabindex="-1"><a class="header-anchor" href="#_7-c-\u5F02\u5E38" aria-hidden="true">#</a> 7.c++\u5F02\u5E38</h2><h3 id="_7-1-\u5F02\u5E38\u57FA\u672C\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#_7-1-\u5F02\u5E38\u57FA\u672C\u6982\u5FF5" aria-hidden="true">#</a> 7.1 \u5F02\u5E38\u57FA\u672C\u6982\u5FF5</h3><p>Bjarne Stroustrup\u8BF4\uFF1A\u63D0\u4F9B\u5F02\u5E38\u7684\u57FA\u672C\u76EE\u7684\u5C31\u662F\u4E3A\u4E86\u5904\u7406\u4E0A\u9762\u7684\u95EE\u9898\u3002\u57FA\u672C\u601D\u60F3\u662F\uFF1A\u8BA9\u4E00\u4E2A\u51FD\u6570\u5728\u53D1\u73B0\u4E86\u81EA\u5DF1\u65E0\u6CD5\u5904\u7406\u7684\u9519\u8BEF\u65F6\u629B\u51FA\uFF08throw\uFF09\u4E00\u4E2A\u5F02\u5E38\uFF0C\u7136\u540E\u5B83\u7684\uFF08\u76F4\u63A5\u6216\u8005\u95F4\u63A5\uFF09\u8C03\u7528\u8005\u80FD\u591F\u5904\u7406\u8FD9\u4E2A\u95EE\u9898\u3002\u4E5F\u5C31\u662F\u300AC++ primer\u300B\u4E2D\u8BF4\u7684\uFF1A\u5C06\u95EE\u9898\u68C0\u6D4B\u548C\u95EE\u9898\u5904\u7406\u76F8\u5206\u79BB\u3002</p><p>\u4E00\u79CD\u601D\u60F3\uFF1A\u5728\u6240\u6709\u652F\u6301\u5F02\u5E38\u5904\u7406\u7684\u7F16\u7A0B\u8BED\u8A00\u4E2D\uFF08\u4F8B\u5982java\uFF09\uFF0C\u8981\u8BA4\u8BC6\u5230\u7684\u4E00\u4E2A\u601D\u60F3\uFF1A\u5728\u5F02\u5E38\u5904\u7406\u8FC7\u7A0B\u4E2D\uFF0C\u7531\u95EE\u9898\u68C0\u6D4B\u4EE3\u7801\u53EF\u4EE5\u629B\u51FA\u4E00\u4E2A\u5BF9\u8C61\u7ED9\u95EE\u9898\u5904\u7406\u4EE3\u7801\uFF0C\u901A\u8FC7\u8FD9\u4E2A\u5BF9\u8C61\u7684\u7C7B\u578B\u548C\u5185\u5BB9\uFF0C\u5B9E\u9645\u4E0A\u5B8C\u6210\u4E86\u4E24\u4E2A\u90E8\u5206\u7684\u901A\u4FE1\uFF0C\u901A\u4FE1\u7684\u5185\u5BB9\u662F\u201C\u51FA\u73B0\u4E86\u4EC0\u4E48\u9519\u8BEF\u201D\u3002\u5F53\u7136\uFF0C\u5404\u79CD\u8BED\u8A00\u5BF9\u5F02\u5E38\u7684\u5177\u4F53\u5B9E\u73B0\u6709\u7740\u6216\u591A\u6216\u5C11\u7684\u533A\u522B\uFF0C\u4F46\u662F\u8FD9\u4E2A\u901A\u4FE1\u7684\u601D\u60F3\u662F\u4E0D\u53D8\u7684\u3002</p><p><strong>\u4E00\u53E5\u8BDD\uFF1A\u5F02\u5E38\u5904\u7406\u5C31\u662F\u5904\u7406\u7A0B\u5E8F\u4E2D\u7684\u9519\u8BEF\u3002\u6240\u8C13\u9519\u8BEF\u662F\u6307\u5728\u7A0B\u5E8F\u8FD0\u884C\u7684\u8FC7\u7A0B\u4E2D\u53D1\u751F\u7684\u4E00\u4E9B\u5F02\u5E38\u4E8B\u4EF6\uFF08\u5982\uFF1A\u96640\u6EA2\u51FA\uFF0C\u6570\u7EC4\u4E0B\u6807\u8D8A\u754C\uFF0C\u6240\u8981\u8BFB\u53D6\u7684\u6587\u4EF6\u4E0D\u5B58\u5728,\u7A7A\u6307\u9488\uFF0C\u5185\u5B58\u4E0D\u8DB3\u7B49\u7B49\uFF09\u3002</strong></p><p><strong>\u56DE\u987E\u4E00\u4E0B\uFF1A\u6211\u4EEC\u4EE5\u524D\u7F16\u5199\u7A0B\u5E8F\u662F\u5982\u4F55\u5904\u7406\u5F02\u5E38\uFF1F</strong></p><p>\u5728C\u8BED\u8A00\u7684\u4E16\u754C\u4E2D\uFF0C\u5BF9\u9519\u8BEF\u7684\u5904\u7406\u603B\u662F\u56F4\u7ED5\u7740\u4E24\u79CD\u65B9\u6CD5\uFF1A\u4E00\u662F\u4F7F\u7528\u6574\u578B\u7684\u8FD4\u56DE\u503C\u6807\u8BC6\u9519\u8BEF\uFF1B\u4E8C\u662F\u4F7F\u7528errno\u5B8F\uFF08\u53EF\u4EE5\u7B80\u5355\u7684\u7406\u89E3\u4E3A\u4E00\u4E2A\u5168\u5C40\u6574\u578B\u53D8\u91CF\uFF09\u53BB\u8BB0\u5F55\u9519\u8BEF\u3002\u5F53\u7136C++\u4E2D\u4ECD\u7136\u662F\u53EF\u4EE5\u7528\u8FD9\u4E24\u79CD\u65B9\u6CD5\u7684\u3002</p><p>\u200B \u8FD9\u4E24\u79CD\u65B9\u6CD5\u6700\u5927\u7684\u7F3A\u9677\u5C31\u662F\u4F1A\u51FA\u73B0\u4E0D\u4E00\u81F4\u95EE\u9898\u3002\u4F8B\u5982\u6709\u4E9B\u51FD\u6570\u8FD4\u56DE1\u8868\u793A\u6210\u529F\uFF0C\u8FD4\u56DE0\u8868\u793A\u51FA\u9519\uFF1B\u800C\u6709\u4E9B\u51FD\u6570\u8FD4\u56DE0\u8868\u793A\u6210\u529F\uFF0C\u8FD4\u56DE\u975E0\u8868\u793A\u51FA\u9519\u3002</p><p>\u200B \u8FD8\u6709\u4E00\u4E2A\u7F3A\u70B9\u5C31\u662F\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u53EA\u6709\u4E00\u4E2A\uFF0C\u4F60\u901A\u8FC7\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u8868\u793A\u9519\u8BEF\u4EE3\u7801\uFF0C\u90A3\u4E48\u51FD\u6570\u5C31\u4E0D\u80FD\u8FD4\u56DE\u5176\u4ED6\u7684\u503C\u3002\u5F53\u7136\uFF0C\u4F60\u4E5F\u53EF\u4EE5\u901A\u8FC7\u6307\u9488\u6216\u8005C++\u7684\u5F15\u7528\u6765\u8FD4\u56DE\u53E6\u5916\u7684\u503C\uFF0C\u4F46\u662F\u8FD9\u6837\u53EF\u80FD\u4F1A\u4EE4\u4F60\u7684\u7A0B\u5E8F\u7565\u5FAE\u6666\u6DA9\u96BE\u61C2\u3002</p><p><strong>c++\u5F02\u5E38\u673A\u5236\u76F8\u6BD4C\u8BED\u8A00\u5F02\u5E38\u5904\u7406\u7684\u4F18\u52BF?</strong></p><ul><li><p>\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u53EF\u4EE5\u5FFD\u7565\uFF0C\u4F46\u5F02\u5E38\u4E0D\u53EF\u5FFD\u7565\u3002\u5982\u679C\u7A0B\u5E8F\u51FA\u73B0\u5F02\u5E38\uFF0C\u4F46\u662F\u6CA1\u6709\u88AB\u6355\u83B7\uFF0C\u7A0B\u5E8F\u5C31\u4F1A\u7EC8\u6B62\uFF0C\u8FD9\u591A\u5C11\u4F1A\u4FC3\u4F7F\u7A0B\u5E8F\u5458\u5F00\u53D1\u51FA\u6765\u7684\u7A0B\u5E8F\u66F4\u5065\u58EE\u4E00\u70B9\u3002\u800C\u5982\u679C\u4F7F\u7528C\u8BED\u8A00\u7684error\u5B8F\u6216\u8005\u51FD\u6570\u8FD4\u56DE\u503C\uFF0C\u8C03\u7528\u8005\u90FD\u6709\u53EF\u80FD\u5FD8\u8BB0\u68C0\u67E5\uFF0C\u4ECE\u800C\u6CA1\u6709\u5BF9\u9519\u8BEF\u8FDB\u884C\u5904\u7406\uFF0C\u7ED3\u679C\u9020\u6210\u7A0B\u5E8F\u83AB\u540D\u5176\u9762\u7684\u7EC8\u6B62\u6216\u51FA\u73B0\u9519\u8BEF\u7684\u7ED3\u679C\u3002</p></li><li><p>\u6574\u578B\u8FD4\u56DE\u503C\u6CA1\u6709\u4EFB\u4F55\u8BED\u4E49\u4FE1\u606F\u3002\u800C\u5F02\u5E38\u5374\u5305\u542B\u8BED\u4E49\u4FE1\u606F\uFF0C\u6709\u65F6\u4F60\u4ECE\u7C7B\u540D\u5C31\u80FD\u591F\u4F53\u73B0\u51FA\u6765\u3002</p></li><li><p>\u6574\u578B\u8FD4\u56DE\u503C\u7F3A\u4E4F\u76F8\u5173\u7684\u4E0A\u4E0B\u6587\u4FE1\u606F\u3002\u5F02\u5E38\u4F5C\u4E3A\u4E00\u4E2A\u7C7B\uFF0C\u53EF\u4EE5\u62E5\u6709\u81EA\u5DF1\u7684\u6210\u5458\uFF0C\u8FD9\u4E9B\u6210\u5458\u5C31\u53EF\u4EE5\u4F20\u9012\u8DB3\u591F\u7684\u4FE1\u606F\u3002</p></li><li><p>\u5F02\u5E38\u5904\u7406\u53EF\u4EE5\u5728\u8C03\u7528\u8DF3\u7EA7\u3002\u8FD9\u662F\u4E00\u4E2A\u4EE3\u7801\u7F16\u5199\u65F6\u7684\u95EE\u9898\uFF1A\u5047\u8BBE\u5728\u6709\u591A\u4E2A\u51FD\u6570\u7684\u8C03\u7528\u6808\u4E2D\u51FA\u73B0\u4E86\u67D0\u4E2A\u9519\u8BEF\uFF0C\u4F7F\u7528\u6574\u578B\u8FD4\u56DE\u7801\u8981\u6C42\u4F60\u5728\u6BCF\u4E00\u7EA7\u51FD\u6570\u4E2D\u90FD\u8981\u8FDB\u884C\u5904\u7406\u3002\u800C\u4F7F\u7528\u5F02\u5E38\u5904\u7406\u7684\u6808\u5C55\u5F00\u673A\u5236\uFF0C\u53EA\u9700\u8981\u5728\u4E00\u5904\u8FDB\u884C\u5904\u7406\u5C31\u53EF\u4EE5\u4E86\uFF0C\u4E0D\u9700\u8981\u6BCF\u7EA7\u51FD\u6570\u90FD\u5904\u7406\u3002</p></li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u5982\u679C\u5224\u65AD\u8FD4\u56DE\u503C\uFF0C\u90A3\u4E48\u8FD4\u56DE\u503C\u662F\u9519\u8BEF\u7801\u8FD8\u662F\u7ED3\u679C\uFF1F</span>
<span class="token comment">//\u5982\u679C\u4E0D\u5224\u65AD\u8FD4\u56DE\u503C\uFF0C\u90A3\u4E48b==0\u65F6\u5019\uFF0C\u7A0B\u5E8F\u7ED3\u679C\u5DF2\u7ECF\u4E0D\u6B63\u786E</span>
<span class="token comment">//A\u5199\u7684\u4EE3\u7801</span>
<span class="token keyword">int</span> <span class="token function">A_MyDivide</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> a <span class="token operator">/</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//B\u5199\u7684\u4EE3\u7801</span>
<span class="token keyword">int</span> <span class="token function">B_MyDivide</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token keyword">int</span> ba <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> bb <span class="token operator">=</span> b<span class="token punctuation">;</span>

	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">A_MyDivide</span><span class="token punctuation">(</span>ba<span class="token punctuation">,</span> bb<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//\u7531\u4E8EB\u6CA1\u6709\u5904\u7406\u5F02\u5E38\uFF0C\u5BFC\u81F4B\u7ED3\u679C\u8FD0\u7B97\u9519\u8BEF</span>

	<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//C\u5199\u7684\u4EE3\u7801</span>
<span class="token keyword">int</span> <span class="token function">C_MyDivide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">B_MyDivide</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u66F4\u4E25\u91CD\u7684\u662F\uFF0C\u7531\u4E8EB\u6CA1\u6709\u7EE7\u7EED\u629B\u51FA\u5F02\u5E38\uFF0C\u5BFC\u81F4C\u7684\u4EE3\u7801\u6CA1\u6709\u529E\u6CD5\u6355\u83B7\u5F02\u5E38</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u6240\u4EE5,\u6211\u4EEC\u5E0C\u671B\uFF1A</span>
<span class="token comment">//1.\u5F02\u5E38\u5E94\u8BE5\u6355\u83B7\uFF0C\u5982\u679C\u4F60\u6355\u83B7\uFF0C\u53EF\u4EE5\uFF0C\u90A3\u4E48\u5F02\u5E38\u5FC5\u987B\u7EE7\u7EED\u629B\u7ED9\u4E0A\u5C42\u51FD\u6570,\u4F60\u4E0D\u5904\u7406\uFF0C\u4E0D\u4EE3\u8868\u4F60\u7684\u4E0A\u5C42\u4E0D\u5904\u7406</span>
<span class="token comment">//2.\u8FD9\u4E2A\u4F8B\u5B50\uFF0C\u5F02\u5E38\u6CA1\u6709\u6355\u83B7\u7684\u7ED3\u679C\u5C31\u662F\u8FD0\u884C\u7ED3\u679C\u9519\u7684\u4E00\u584C\u7CCA\u6D82\uFF0C\u7ED3\u679C\u672A\u77E5\uFF0C\u672A\u77E5\u7684\u7ED3\u679C\u7A0B\u5E8F\u6CA1\u6709\u5FC5\u8981\u6267\u884C\u4E0B\u53BB</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h3 id="_7-2-\u5F02\u5E38\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#_7-2-\u5F02\u5E38\u8BED\u6CD5" aria-hidden="true">#</a> 7.2 \u5F02\u5E38\u8BED\u6CD5</h3><h4 id="_7-2-1-\u5F02\u5E38\u57FA\u672C\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#_7-2-1-\u5F02\u5E38\u57FA\u672C\u8BED\u6CD5" aria-hidden="true">#</a> 7.2.1 \u5F02\u5E38\u57FA\u672C\u8BED\u6CD5</h4><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">A_MyDivide</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		throw <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> a <span class="token operator">/</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//B\u5199\u7684\u4EE3\u7801 B\u5199\u4EE3\u7801\u6BD4\u8F83\u7C97\u5FC3\uFF0C\u5FD8\u8BB0\u5904\u7406\u5F02\u5E38</span>
<span class="token keyword">int</span> <span class="token function">B_MyDivide</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token keyword">int</span> ba <span class="token operator">=</span> a<span class="token punctuation">;</span>
	<span class="token keyword">int</span> bb <span class="token operator">=</span> b<span class="token punctuation">;</span>

	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">A_MyDivide</span><span class="token punctuation">(</span>ba<span class="token punctuation">,</span> bb<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span>  <span class="token comment">//\u7531\u4E8EB\u6CA1\u6709\u5904\u7406\u5F02\u5E38\uFF0C\u5BFC\u81F4B\u7ED3\u679C\u8FD0\u7B97\u9519\u8BEF</span>

	<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//C\u5199\u7684\u4EE3\u7801</span>
<span class="token keyword">int</span> <span class="token function">C_MyDivide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">//\u6CA1\u6709\u5904\u7406\u5F02\u5E38\uFF0C\u7A0B\u5E8F\u76F4\u63A5\u4E2D\u65AD\u6267\u884C</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token number">1</span> </span></span>
	ret <span class="token operator">=</span> <span class="token function">B_MyDivide</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//\u5904\u7406\u5F02\u5E38</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span> </span>
	try<span class="token punctuation">{</span>
		ret <span class="token operator">=</span> <span class="token function">B_MyDivide</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u66F4\u4E25\u91CD\u7684\u662F\uFF0C\u7531\u4E8EB\u6CA1\u6709\u7EE7\u7EED\u629B\u51FA\u5F02\u5E38\uFF0C\u5BFC\u81F4C\u7684\u4EE3\u7801\u6CA1\u6709\u529E\u6CD5\u6355\u83B7\u5F02\u5E38</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span><span class="token keyword">int</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;C_MyDivide Call B_MyDivide \u9664\u6570\u4E3A:&quot;</span> <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
	
	<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token function">C_MyDivide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><p><strong>\u603B\u7ED3:</strong></p><ul><li><p>\u82E5\u6709\u5F02\u5E38\u5219\u901A\u8FC7throw\u64CD\u4F5C\u521B\u5EFA\u4E00\u4E2A\u5F02\u5E38\u5BF9\u8C61\u5E76\u629B\u51FA\u3002</p></li><li><p>\u5C06\u53EF\u80FD\u629B\u51FA\u5F02\u5E38\u7684\u7A0B\u5E8F\u6BB5\u653E\u5230try\u5757\u4E4B\u4E2D\u3002</p></li><li><p>\u5982\u679C\u5728try\u6BB5\u6267\u884C\u671F\u95F4\u6CA1\u6709\u5F15\u8D77\u5F02\u5E38\uFF0C\u90A3\u4E48\u8DDF\u5728try\u540E\u9762\u7684catch\u5B57\u53E5\u5C31\u4E0D\u4F1A\u6267\u884C\u3002</p></li><li><p>catch\u5B50\u53E5\u4F1A\u6839\u636E\u51FA\u73B0\u7684\u5148\u540E\u987A\u5E8F\u88AB\u68C0\u67E5\uFF0C\u5339\u914D\u7684catch\u8BED\u53E5\u6355\u83B7\u5E76\u5904\u7406\u5F02\u5E38(\u6216\u7EE7\u7EED\u629B\u51FA\u5F02\u5E38)</p></li><li><p>\u5982\u679C\u5339\u914D\u7684\u5904\u7406\u672A\u627E\u5230\uFF0C\u5219\u8FD0\u884C\u51FD\u6570terminate\u5C06\u81EA\u52A8\u88AB\u8C03\u7528\uFF0C\u5176\u7F3A\u7701\u529F\u80FD\u8C03\u7528abort\u7EC8\u6B62\u7A0B\u5E8F\u3002</p></li><li><p>\u5904\u7406\u4E0D\u4E86\u7684\u5F02\u5E38\uFF0C\u53EF\u4EE5\u5728catch\u7684\u6700\u540E\u4E00\u4E2A\u5206\u652F\uFF0C\u4F7F\u7528throw\uFF0C\u5411\u4E0A\u629B\u3002</p></li></ul><p>c++\u5F02\u5E38\u5904\u7406\u4F7F\u5F97\u5F02\u5E38\u7684\u5F15\u53D1\u548C\u5F02\u5E38\u7684\u5904\u7406\u4E0D\u5FC5\u5728\u4E00\u4E2A\u51FD\u6570\u4E2D\uFF0C\u8FD9\u6837\u5E95\u5C42\u7684\u51FD\u6570\u53EF\u4EE5\u7740\u91CD\u89E3\u51B3\u5177\u4F53\u95EE\u9898\uFF0C\u800C\u4E0D\u5FC5\u8FC7\u591A\u7684\u8003\u8651\u5F02\u5E38\u7684\u5904\u7406\u3002\u4E0A\u5C42\u8C03\u7528\u8005\u53EF\u4EE5\u5728\u9002\u5F53\u7684\u4F4D\u7F6E\u8BBE\u8BA1\u5BF9\u4E0D\u540C\u7C7B\u578B\u5F02\u5E38\u7684\u5904\u7406\u3002</p><h4 id="_7-2-2-\u5F02\u5E38\u4E25\u683C\u7C7B\u578B\u5339\u914D" tabindex="-1"><a class="header-anchor" href="#_7-2-2-\u5F02\u5E38\u4E25\u683C\u7C7B\u578B\u5339\u914D" aria-hidden="true">#</a> 7.2.2 \u5F02\u5E38\u4E25\u683C\u7C7B\u578B\u5339\u914D</h4><p>\u5F02\u5E38\u673A\u5236\u548C\u51FD\u6570\u673A\u5236\u4E92\u4E0D\u5E72\u6D89,\u4F46\u662F<strong>\u6355\u6349\u65B9\u5F0F\u662F\u901A\u8FC7\u4E25\u683C\u7C7B\u578B\u5339\u914D</strong>\u3002</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">TestFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u5F00\u59CB\u629B\u51FA\u5F02\u5E38...&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//throw 10; //\u629B\u51FAint\u7C7B\u578B\u5F02\u5E38</span>
	<span class="token comment">//throw &#39;a&#39;; //\u629B\u51FAchar\u7C7B\u578B\u5F02\u5E38</span>
	<span class="token comment">//throw &quot;abcd&quot;; //\u629B\u51FAchar*\u7C7B\u578B\u5F02\u5E38</span>
	string ex <span class="token operator">=</span> <span class="token string">&quot;string exception!&quot;</span><span class="token punctuation">;</span>
	throw ex<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	try<span class="token punctuation">{</span>
		<span class="token function">TestFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u629B\u51FAInt\u7C7B\u578B\u5F02\u5E38!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u629B\u51FAChar\u7C7B\u578B\u5F02\u5E38!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u629B\u51FAChar*\u7C7B\u578B\u5F02\u5E38!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u629B\u51FAstring\u7C7B\u578B\u5F02\u5E38!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u6355\u83B7\u6240\u6709\u5F02\u5E38</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u629B\u51FA\u5176\u4ED6\u7C7B\u578B\u5F02\u5E38!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>


	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h4 id="_7-2-3-\u6808\u89E3\u65CB-unwinding" tabindex="-1"><a class="header-anchor" href="#_7-2-3-\u6808\u89E3\u65CB-unwinding" aria-hidden="true">#</a> 7.2.3 \u6808\u89E3\u65CB\uFF08unwinding\uFF09</h4><p>\u5F02\u5E38\u88AB\u629B\u51FA\u540E\uFF0C\u4ECE\u8FDB\u5165try\u5757\u8D77\uFF0C\u5230\u5F02\u5E38\u88AB\u629B\u63B7\u524D\uFF0C\u8FD9\u671F\u95F4\u5728\u6808\u4E0A\u6784\u9020\u7684\u6240\u6709\u5BF9\u8C61\uFF0C\u90FD\u4F1A\u88AB\u81EA\u52A8\u6790\u6784\u3002\u6790\u6784\u7684\u987A\u5E8F\u4E0E\u6784\u9020\u7684\u987A\u5E8F\u76F8\u53CD\uFF0C\u8FD9\u4E00\u8FC7\u7A0B\u79F0\u4E3A\u6808\u7684\u89E3\u65CB(unwinding).</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class Person<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">)</span><span class="token punctuation">{</span>
		mName <span class="token operator">=</span> name<span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u5BF9\u8C61\u88AB\u521B\u5EFA!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u5BF9\u8C61\u88AB\u6790\u6784!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
public<span class="token operator">:</span>
	string mName<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">TestFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	
	Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Person <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">&quot;bbb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Person <span class="token function">p3</span><span class="token punctuation">(</span><span class="token string">&quot;ccc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//\u629B\u51FA\u5F02\u5E38</span>
	throw <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	try<span class="token punctuation">{</span>
		<span class="token function">TestFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u5F02\u5E38\u88AB\u6355\u83B7!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h4 id="_7-2-4-\u5F02\u5E38\u63A5\u53E3\u58F0\u660E" tabindex="-1"><a class="header-anchor" href="#_7-2-4-\u5F02\u5E38\u63A5\u53E3\u58F0\u660E" aria-hidden="true">#</a> 7.2.4 \u5F02\u5E38\u63A5\u53E3\u58F0\u660E</h4><ul><li><p>\u4E3A\u4E86\u52A0\u5F3A\u7A0B\u5E8F\u7684\u53EF\u8BFB\u6027\uFF0C\u53EF\u4EE5\u5728\u51FD\u6570\u58F0\u660E\u4E2D\u5217\u51FA\u53EF\u80FD\u629B\u51FA\u5F02\u5E38\u7684\u6240\u6709\u7C7B\u578B\uFF0C\u4F8B\u5982\uFF1Avoid func() throw(A,B,C);\u8FD9\u4E2A\u51FD\u6570func\u80FD\u591F\u4E14\u53EA\u80FD\u629B\u51FA\u7C7B\u578BA,B,C\u53CA\u5176\u5B50\u7C7B\u578B\u7684\u5F02\u5E38\u3002</p></li><li><p>\u5982\u679C\u5728\u51FD\u6570\u58F0\u660E\u4E2D\u6CA1\u6709\u5305\u542B\u5F02\u5E38\u63A5\u53E3\u58F0\u660E\uFF0C\u5219\u6B64\u51FD\u6570\u53EF\u4EE5\u629B\u4EFB\u4F55\u7C7B\u578B\u7684\u5F02\u5E38\uFF0C\u4F8B\u5982:void func()</p></li><li><p>\u4E00\u4E2A\u4E0D\u629B\u4EFB\u4F55\u7C7B\u578B\u5F02\u5E38\u7684\u51FD\u6570\u53EF\u58F0\u660E\u4E3A:void func() throw()</p></li><li><p>\u5982\u679C\u4E00\u4E2A\u51FD\u6570\u629B\u51FA\u4E86\u5B83\u7684\u5F02\u5E38\u63A5\u53E3\u58F0\u660E\u6240\u4E0D\u5141\u8BB8\u629B\u51FA\u7684\u5F02\u5E38,unexcepted\u51FD\u6570\u4F1A\u88AB\u8C03\u7528\uFF0C\u8BE5\u51FD\u6570\u9ED8\u8BA4\u884C\u4E3A\u8C03\u7528terminate\u51FD\u6570\u4E2D\u65AD\u7A0B\u5E8F\u3002</p></li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u53EF\u629B\u51FA\u6240\u6709\u7C7B\u578B\u5F02\u5E38</span>
<span class="token keyword">void</span> <span class="token function">TestFunction01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	throw <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u53EA\u80FD\u629B\u51FAint char char*\u7C7B\u578B\u5F02\u5E38</span>
<span class="token keyword">void</span> <span class="token function">TestFunction02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token function">throw</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">char</span><span class="token punctuation">,</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	string exception <span class="token operator">=</span> <span class="token string">&quot;error!&quot;</span><span class="token punctuation">;</span>
	throw exception<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u4E0D\u80FD\u629B\u51FA\u4EFB\u4F55\u7C7B\u578B\u5F02\u5E38</span>
<span class="token keyword">void</span> <span class="token function">TestFunction03</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token function">throw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	throw <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	try<span class="token punctuation">{</span>
		<span class="token comment">//TestFunction01();</span>
		<span class="token comment">//TestFunction02();</span>
		<span class="token comment">//TestFunction03();</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u6355\u83B7\u5F02\u5E38!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>\u53EF\u4EE5\u5206\u522B\u5728qt vs linux\u4E0B\u505A\u6D4B\u8BD5! Qt and Linux \u6B63\u786E!</p><h4 id="_7-2-5-\u5F02\u5E38\u53D8\u91CF\u751F\u547D\u5468\u671F" tabindex="-1"><a class="header-anchor" href="#_7-2-5-\u5F02\u5E38\u53D8\u91CF\u751F\u547D\u5468\u671F" aria-hidden="true">#</a> 7.2.5 \u5F02\u5E38\u53D8\u91CF\u751F\u547D\u5468\u671F</h4><ul><li><p>throw\u7684\u5F02\u5E38\u662F\u6709\u7C7B\u578B\u7684\uFF0C\u53EF\u4EE5\u662F\u6570\u5B57\u3001\u5B57\u7B26\u4E32\u3001\u7C7B\u5BF9\u8C61\u3002</p></li><li><p>throw\u7684\u5F02\u5E38\u662F\u6709\u7C7B\u578B\u7684\uFF0Ccatch\u9700\u4E25\u683C\u5339\u914D\u5F02\u5E38\u7C7B\u578B\u3002</p></li></ul><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class MyException
<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">MyException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u5F02\u5E38\u53D8\u91CF\u6784\u9020&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">MyException</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyException <span class="token operator">&amp;</span> e<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u62F7\u8D1D\u6784\u9020&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">MyException</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u5F02\u5E38\u53D8\u91CF\u6790\u6784&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">DoWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	throw new <span class="token function">MyException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//test1 2\u90FD\u7528 throw MyExecption();</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	try
	<span class="token punctuation">{</span>
		<span class="token function">DoWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span>MyException e<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u6355\u83B7 \u5F02\u5E38&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	try
	<span class="token punctuation">{</span>
		<span class="token function">DoWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span>MyException <span class="token operator">&amp;</span>e<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u6355\u83B7 \u5F02\u5E38&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	try
	<span class="token punctuation">{</span>
		<span class="token function">DoWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span>MyException <span class="token operator">*</span>e<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u6355\u83B7 \u5F02\u5E38&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		delete e<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h4 id="_7-2-6-\u5F02\u5E38\u7684\u591A\u6001\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_7-2-6-\u5F02\u5E38\u7684\u591A\u6001\u4F7F\u7528" aria-hidden="true">#</a> 7.2.6 \u5F02\u5E38\u7684\u591A\u6001\u4F7F\u7528</h4><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u5F02\u5E38\u57FA\u7C7B</span>
class BaseException<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	virtual <span class="token keyword">void</span> <span class="token function">printError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//\u7A7A\u6307\u9488\u5F02\u5E38</span>
class NullPointerException <span class="token operator">:</span> public BaseException<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	virtual <span class="token keyword">void</span> <span class="token function">printError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u7A7A\u6307\u9488\u5F02\u5E38!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//\u8D8A\u754C\u5F02\u5E38</span>
class OutOfRangeException <span class="token operator">:</span> public BaseException<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	virtual <span class="token keyword">void</span> <span class="token function">printError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u8D8A\u754C\u5F02\u5E38!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">doWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	throw <span class="token function">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	try<span class="token punctuation">{</span>
		<span class="token function">doWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span>BaseException<span class="token operator">&amp;</span> ex<span class="token punctuation">)</span><span class="token punctuation">{</span>
		ex<span class="token punctuation">.</span><span class="token function">printError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="_7-3-c-\u6807\u51C6\u5E93\u5F02\u5E38" tabindex="-1"><a class="header-anchor" href="#_7-3-c-\u6807\u51C6\u5E93\u5F02\u5E38" aria-hidden="true">#</a> 7.3 c++\u6807\u51C6\u5E93\u5F02\u5E38</h3><h4 id="_7-3-1-\u6807\u51C6\u5E93\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#_7-3-1-\u6807\u51C6\u5E93\u4ECB\u7ECD" aria-hidden="true">#</a> 7.3.1 \u6807\u51C6\u5E93\u4ECB\u7ECD</h4><p>\u6807\u51C6\u5E93\u4E2D\u4E5F\u63D0\u4F9B\u4E86\u5F88\u591A\u7684\u5F02\u5E38\u7C7B\uFF0C\u5B83\u4EEC\u662F\u901A\u8FC7\u7C7B\u7EE7\u627F\u7EC4\u7EC7\u8D77\u6765\u7684\u3002\u5F02\u5E38\u7C7B\u7EE7\u627F\u5C42\u7EA7\u7ED3\u6784\u56FE\u5982\u4E0B\uFF1A</p><p><img src="`+A+`" alt="wps4A21.tmp.jpg"></p><p>\u6BCF\u4E2A\u7C7B\u6240\u5728\u7684\u5934\u6587\u4EF6\u5728\u56FE\u4E0B\u65B9\u6807\u8BC6\u51FA\u6765\u3002</p><p><strong>\u6807\u51C6\u5F02\u5E38\u7C7B\u7684\u6210\u5458\uFF1A</strong></p><p>\u2460 \u5728\u4E0A\u8FF0\u7EE7\u627F\u4F53\u7CFB\u4E2D\uFF0C\u6BCF\u4E2A\u7C7B\u90FD\u6709\u63D0\u4F9B\u4E86\u6784\u9020\u51FD\u6570\u3001\u590D\u5236\u6784\u9020\u51FD\u6570\u3001\u548C\u8D4B\u503C\u64CD\u4F5C\u7B26\u91CD\u8F7D\u3002</p><p>\u2461 logic_error\u7C7B\u53CA\u5176\u5B50\u7C7B\u3001runtime_error\u7C7B\u53CA\u5176\u5B50\u7C7B\uFF0C\u5B83\u4EEC\u7684\u6784\u9020\u51FD\u6570\u662F\u63A5\u53D7\u4E00\u4E2Astring\u7C7B\u578B\u7684\u5F62\u5F0F\u53C2\u6570\uFF0C\u7528\u4E8E\u5F02\u5E38\u4FE1\u606F\u7684\u63CF\u8FF0</p><p>\u2462 \u6240\u6709\u7684\u5F02\u5E38\u7C7B\u90FD\u6709\u4E00\u4E2Awhat()\u65B9\u6CD5\uFF0C\u8FD4\u56DEconst char* \u7C7B\u578B\uFF08C\u98CE\u683C\u5B57\u7B26\u4E32\uFF09\u7684\u503C\uFF0C\u63CF\u8FF0\u5F02\u5E38\u4FE1\u606F\u3002</p><p><strong>\u6807\u51C6\u5F02\u5E38\u7C7B\u7684\u5177\u4F53\u63CF\u8FF0\uFF1A</strong></p><table><thead><tr><th>\u5F02\u5E38\u540D\u79F0</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>exception</td><td>\u6240\u6709\u6807\u51C6\u5F02\u5E38\u7C7B\u7684\u7236\u7C7B</td></tr><tr><td>bad_alloc</td><td>\u5F53operator new and operator new[]\uFF0C\u8BF7\u6C42\u5206\u914D\u5185\u5B58\u5931\u8D25\u65F6</td></tr><tr><td>bad_exception</td><td>\u8FD9\u662F\u4E2A\u7279\u6B8A\u7684\u5F02\u5E38\uFF0C\u5982\u679C\u51FD\u6570\u7684\u5F02\u5E38\u629B\u51FA\u5217\u8868\u91CC\u58F0\u660E\u4E86bad_exception\u5F02\u5E38\uFF0C\u5F53\u51FD\u6570\u5185\u90E8\u629B\u51FA\u4E86\u5F02\u5E38\u629B\u51FA\u5217\u8868\u4E2D\u6CA1\u6709\u7684\u5F02\u5E38\uFF0C\u8FD9\u662F\u8C03\u7528\u7684unexpected\u51FD\u6570\u4E2D\u82E5\u629B\u51FA\u5F02\u5E38\uFF0C\u4E0D\u8BBA\u4EC0\u4E48\u7C7B\u578B\uFF0C\u90FD\u4F1A\u88AB\u66FF\u6362\u4E3Abad_exception\u7C7B\u578B</td></tr><tr><td>bad_typeid</td><td>\u4F7F\u7528typeid\u64CD\u4F5C\u7B26\uFF0C\u64CD\u4F5C\u4E00\u4E2ANULL\u6307\u9488\uFF0C\u800C\u8BE5\u6307\u9488\u662F\u5E26\u6709\u865A\u51FD\u6570\u7684\u7C7B\uFF0C\u8FD9\u65F6\u629B\u51FAbad_typeid\u5F02\u5E38</td></tr><tr><td>bad_cast</td><td>\u4F7F\u7528dynamic_cast\u8F6C\u6362\u5F15\u7528\u5931\u8D25\u7684\u65F6\u5019</td></tr><tr><td>ios_base::failure</td><td>io\u64CD\u4F5C\u8FC7\u7A0B\u51FA\u73B0\u9519\u8BEF</td></tr><tr><td>logic_error</td><td>\u903B\u8F91\u9519\u8BEF\uFF0C\u53EF\u4EE5\u5728\u8FD0\u884C\u524D\u68C0\u6D4B\u7684\u9519\u8BEF</td></tr><tr><td>runtime_error</td><td>\u8FD0\u884C\u65F6\u9519\u8BEF\uFF0C\u4EC5\u5728\u8FD0\u884C\u65F6\u624D\u53EF\u4EE5\u68C0\u6D4B\u7684\u9519\u8BEF</td></tr></tbody></table><p><strong>logic_error\u7684\u5B50\u7C7B\uFF1A</strong></p><table><thead><tr><th>\u5F02\u5E38\u540D\u79F0</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>length_error</td><td>\u8BD5\u56FE\u751F\u6210\u4E00\u4E2A\u8D85\u51FA\u8BE5\u7C7B\u578B\u6700\u5927\u957F\u5EA6\u7684\u5BF9\u8C61\u65F6\uFF0C\u4F8B\u5982vector\u7684resize\u64CD\u4F5C</td></tr><tr><td>domain_error</td><td>\u53C2\u6570\u7684\u503C\u57DF\u9519\u8BEF\uFF0C\u4E3B\u8981\u7528\u5728\u6570\u5B66\u51FD\u6570\u4E2D\u3002\u4F8B\u5982\u4F7F\u7528\u4E00\u4E2A\u8D1F\u503C\u8C03\u7528\u53EA\u80FD\u64CD\u4F5C\u975E\u8D1F\u6570\u7684\u51FD\u6570</td></tr><tr><td>out_of_range</td><td>\u8D85\u51FA\u6709\u6548\u8303\u56F4</td></tr><tr><td>invalid_argument</td><td>\u53C2\u6570\u4E0D\u5408\u9002\u3002\u5728\u6807\u51C6\u5E93\u4E2D\uFF0C\u5F53\u5229\u7528string\u5BF9\u8C61\u6784\u9020bitset\u65F6\uFF0C\u800Cstring\u4E2D\u7684\u5B57\u7B26\u4E0D\u662F\u20190\u2019\u6216\u20191\u2019\u7684\u65F6\u5019\uFF0C\u629B\u51FA\u8BE5\u5F02\u5E38</td></tr></tbody></table><p><strong>runtime_error\u7684\u5B50\u7C7B\uFF1A</strong></p><table><thead><tr><th>\u5F02\u5E38\u540D\u79F0</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>range_error</td><td>\u8BA1\u7B97\u7ED3\u679C\u8D85\u51FA\u4E86\u6709\u610F\u4E49\u7684\u503C\u57DF\u8303\u56F4</td></tr><tr><td>overflow_error</td><td>\u7B97\u672F\u8BA1\u7B97\u4E0A\u6EA2</td></tr><tr><td>underflow_error</td><td>\u7B97\u672F\u8BA1\u7B97\u4E0B\u6EA2</td></tr><tr><td>invalid_argument</td><td>\u53C2\u6570\u4E0D\u5408\u9002\u3002\u5728\u6807\u51C6\u5E93\u4E2D\uFF0C\u5F53\u5229\u7528string\u5BF9\u8C61\u6784\u9020bitset\u65F6\uFF0C\u800Cstring\u4E2D\u7684\u5B57\u7B26\u4E0D\u662F\u20190\u2019\u6216\u20191\u2019\u7684\u65F6\u5019\uFF0C\u629B\u51FA\u8BE5\u5F02\u5E38</td></tr></tbody></table><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdexcept&gt;</span></span>
class Person<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> age <span class="token operator">&gt;</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			throw <span class="token function">out_of_range</span><span class="token punctuation">(</span><span class="token string">&quot;\u5E74\u9F84\u5E94\u8BE5\u57280-150\u5C81\u4E4B\u95F4!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
public<span class="token operator">:</span>
	<span class="token keyword">int</span> mAge<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	try<span class="token punctuation">{</span>
		Person <span class="token function">p</span><span class="token punctuation">(</span><span class="token number">151</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span>out_of_range<span class="token operator">&amp;</span> ex<span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> ex<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="_7-3-2-\u7F16\u5199\u81EA\u5DF1\u7684\u5F02\u5E38\u7C7B" tabindex="-1"><a class="header-anchor" href="#_7-3-2-\u7F16\u5199\u81EA\u5DF1\u7684\u5F02\u5E38\u7C7B" aria-hidden="true">#</a> 7.3.2 \u7F16\u5199\u81EA\u5DF1\u7684\u5F02\u5E38\u7C7B</h4><p>\u2460 \u6807\u51C6\u5E93\u4E2D\u7684\u5F02\u5E38\u662F\u6709\u9650\u7684\uFF1B</p><p>\u2461 \u5728\u81EA\u5DF1\u7684\u5F02\u5E38\u7C7B\u4E2D\uFF0C\u53EF\u4EE5\u6DFB\u52A0\u81EA\u5DF1\u7684\u4FE1\u606F\u3002\uFF08\u6807\u51C6\u5E93\u4E2D\u7684\u5F02\u5E38\u7C7B\u503C\u5141\u8BB8\u8BBE\u7F6E\u4E00\u4E2A\u7528\u6765\u63CF\u8FF0\u5F02\u5E38\u7684\u5B57\u7B26\u4E32\uFF09\u3002</p><p><strong>\u5982\u4F55\u7F16\u5199\u81EA\u5DF1\u7684\u5F02\u5E38\u7C7B\uFF1F</strong></p><p>\u2460 \u5EFA\u8BAE\u81EA\u5DF1\u7684\u5F02\u5E38\u7C7B\u8981\u7EE7\u627F\u6807\u51C6\u5F02\u5E38\u7C7B\u3002\u56E0\u4E3AC++\u4E2D\u53EF\u4EE5\u629B\u51FA\u4EFB\u4F55\u7C7B\u578B\u7684\u5F02\u5E38\uFF0C\u6240\u4EE5\u6211\u4EEC\u7684\u5F02\u5E38\u7C7B\u53EF\u4EE5\u4E0D\u7EE7\u627F\u81EA\u6807\u51C6\u5F02\u5E38\uFF0C\u4F46\u662F\u8FD9\u6837\u53EF\u80FD\u4F1A\u5BFC\u81F4\u7A0B\u5E8F\u6DF7\u4E71\uFF0C\u5C24\u5176\u662F\u5F53\u6211\u4EEC\u591A\u4EBA\u534F\u540C\u5F00\u53D1\u65F6\u3002</p><p>\u2461 \u5F53\u7EE7\u627F\u6807\u51C6\u5F02\u5E38\u7C7B\u65F6\uFF0C\u5E94\u8BE5\u91CD\u8F7D\u7236\u7C7B\u7684what\u51FD\u6570\u548C\u865A\u6790\u6784\u51FD\u6570\u3002</p><p>\u2462 \u56E0\u4E3A\u6808\u5C55\u5F00\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u8981\u590D\u5236\u5F02\u5E38\u7C7B\u578B\uFF0C\u90A3\u4E48\u8981\u6839\u636E\u4F60\u5728\u7C7B\u4E2D\u6DFB\u52A0\u7684\u6210\u5458\u8003\u8651\u662F\u5426\u63D0\u4F9B\u81EA\u5DF1\u7684\u590D\u5236\u6784\u9020\u51FD\u6570\u3002</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u81EA\u5B9A\u4E49\u5F02\u5E38\u7C7B</span>
class MyOutOfRange<span class="token operator">:</span>public exception
<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">MyOutOfRange</span><span class="token punctuation">(</span><span class="token keyword">const</span> string  errorInfo<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>m_Error <span class="token operator">=</span> errorInfo<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">MyOutOfRange</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> errorInfo<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		this<span class="token operator">-&gt;</span>m_Error <span class="token operator">=</span> <span class="token function">string</span><span class="token punctuation">(</span> errorInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	virtual  <span class="token operator">~</span><span class="token function">MyOutOfRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
	
	<span class="token punctuation">}</span>
	virtual <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>  <span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">return</span> this<span class="token operator">-&gt;</span>m_Error<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	string m_Error<span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

class Person
<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> age <span class="token operator">&gt;</span> <span class="token number">150</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token comment">//\u629B\u51FA\u5F02\u5E38 \u8D8A\u754C</span>
			<span class="token comment">//cout &lt;&lt; &quot;\u8D8A\u754C&quot; &lt;&lt; endl;</span>
			<span class="token comment">//throw  out_of_range(&quot;\u5E74\u9F84\u5FC5\u987B\u57280~150\u4E4B\u95F4&quot;);</span>

			<span class="token comment">//throw length_error(&quot;\u957F\u5EA6\u5F02\u5E38&quot;);</span>
			throw <span class="token function">MyOutOfRange</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;\u6211\u7684\u5F02\u5E38 \u5E74\u9F84\u5FC5\u987B\u57280~150\u4E4B\u95F4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{</span>
			this<span class="token operator">-&gt;</span>m_Age <span class="token operator">=</span> age<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
	<span class="token punctuation">}</span>

	<span class="token keyword">int</span> m_Age<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	try
	<span class="token punctuation">{</span>
		Person <span class="token function">p</span><span class="token punctuation">(</span><span class="token number">151</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span> out_of_range <span class="token operator">&amp;</span> e <span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span>length_error <span class="token operator">&amp;</span> e<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span> <span class="token punctuation">(</span>MyOutOfRange e<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div><h2 id="_8-c-\u8F93\u5165\u548C\u8F93\u51FA\u6D41" tabindex="-1"><a class="header-anchor" href="#_8-c-\u8F93\u5165\u548C\u8F93\u51FA\u6D41" aria-hidden="true">#</a> 8.c++\u8F93\u5165\u548C\u8F93\u51FA\u6D41</h2><h3 id="_8-1-\u6D41\u7684\u6982\u5FF5\u548C\u6D41\u7C7B\u5E93\u7684\u7ED3\u6784" tabindex="-1"><a class="header-anchor" href="#_8-1-\u6D41\u7684\u6982\u5FF5\u548C\u6D41\u7C7B\u5E93\u7684\u7ED3\u6784" aria-hidden="true">#</a> 8.1 \u6D41\u7684\u6982\u5FF5\u548C\u6D41\u7C7B\u5E93\u7684\u7ED3\u6784</h3><p>\u7A0B\u5E8F\u7684\u8F93\u5165\u6307\u7684\u662F\u4ECE\u8F93\u5165\u6587\u4EF6\u5C06\u6570\u636E\u4F20\u9001\u7ED9\u7A0B\u5E8F\uFF0C\u7A0B\u5E8F\u7684\u8F93\u51FA\u6307\u7684\u662F\u4ECE\u7A0B\u5E8F\u5C06\u6570\u636E\u4F20\u9001\u7ED9\u8F93\u51FA\u6587\u4EF6\u3002</p><p>C++\u8F93\u5165\u8F93\u51FA\u5305\u542B\u4EE5\u4E0B\u4E09\u4E2A\u65B9\u9762\u7684\u5185\u5BB9\uFF1A</p><p>\u5BF9\u7CFB\u7EDF\u6307\u5B9A\u7684\u6807\u51C6\u8BBE\u5907\u7684\u8F93\u5165\u548C\u8F93\u51FA\u3002\u5373\u4ECE\u952E\u76D8\u8F93\u5165\u6570\u636E\uFF0C\u8F93\u51FA\u5230\u663E\u793A\u5668\u5C4F\u5E55\u3002\u8FD9\u79CD\u8F93\u5165\u8F93\u51FA\u79F0\u4E3A\u6807\u51C6\u7684\u8F93\u5165\u8F93\u51FA\uFF0C\u7B80\u79F0\u6807\u51C6I/O\u3002</p><p>\u4EE5\u5916\u5B58\u78C1\u76D8\u6587\u4EF6\u4E3A\u5BF9\u8C61\u8FDB\u884C\u8F93\u5165\u548C\u8F93\u51FA\uFF0C\u5373\u4ECE\u78C1\u76D8\u6587\u4EF6\u8F93\u5165\u6570\u636E\uFF0C\u6570\u636E\u8F93\u51FA\u5230\u78C1\u76D8\u6587\u4EF6\u3002\u4EE5\u5916\u5B58\u6587\u4EF6\u4E3A\u5BF9\u8C61\u7684\u8F93\u5165\u8F93\u51FA\u79F0\u4E3A\u6587\u4EF6\u7684\u8F93\u5165\u8F93\u51FA\uFF0C\u7B80\u79F0\u6587\u4EF6I/O\u3002</p><p>\u5BF9\u5185\u5B58\u4E2D\u6307\u5B9A\u7684\u7A7A\u95F4\u8FDB\u884C\u8F93\u5165\u548C\u8F93\u51FA\u3002\u901A\u5E38\u6307\u5B9A\u4E00\u4E2A\u5B57\u7B26\u6570\u7EC4\u4F5C\u4E3A\u5B58\u50A8\u7A7A\u95F4(\u5B9E\u9645\u4E0A\u53EF\u4EE5\u5229\u7528\u8BE5\u7A7A\u95F4\u5B58\u50A8\u4EFB\u4F55\u4FE1\u606F)\u3002\u8FD9\u79CD\u8F93\u5165\u548C\u8F93\u51FA\u79F0\u4E3A\u5B57\u7B26\u4E32\u8F93\u5165\u8F93\u51FA\uFF0C\u7B80\u79F0\u4E32I/O\u3002</p><p>\u200B C++\u7F16\u8BD1\u7CFB\u7EDF\u63D0\u4F9B\u4E86\u7528\u4E8E\u8F93\u5165\u8F93\u51FA\u7684iostream\u7C7B\u5E93\u3002iostream\u8FD9\u4E2A\u5355\u8BCD\u662F\u75313\u4E2A\u90E8 \u5206\u7EC4\u6210\u7684\uFF0C\u5373i-o-stream\uFF0C\u610F\u4E3A\u8F93\u5165\u8F93\u51FA\u6D41\u3002\u5728iostream\u7C7B\u5E93\u4E2D\u5305\u542B\u8BB8\u591A\u7528\u4E8E\u8F93\u5165\u8F93\u51FA\u7684 \u7C7B\u3002\u5E38\u7528\u7684\u89C1\u8868</p><p><img src="`+P+'" alt="wpsD01B.tmp.jpg"></p><p><img src="'+C+'" alt="wps1B2F.tmp.jpg"></p><p>ios\u662F\u62BD\u8C61\u57FA\u7C7B\uFF0C\u7531\u5B83\u6D3E\u751F\u51FAistream\u7C7B\u548Costream\u7C7B\uFF0C\u4E24\u4E2A\u7C7B\u540D\u4E2D\u7B2C1\u4E2A\u5B57\u6BCDi\u548Co\u5206\u522B\u4EE3\u8868\u8F93\u5165(input)\u548C\u8F93\u51FA(output)\u3002 istream\u7C7B\u652F\u6301\u8F93\u5165\u64CD\u4F5C\uFF0Costream\u7C7B\u652F\u6301\u8F93\u51FA\u64CD\u4F5C\uFF0C iostream\u7C7B\u652F\u6301\u8F93\u5165\u8F93\u51FA\u64CD\u4F5C\u3002iostream\u7C7B\u662F\u4ECEistream\u7C7B\u548Costream\u7C7B\u901A\u8FC7\u591A\u91CD\u7EE7\u627F\u800C\u6D3E\u751F\u7684\u7C7B\u3002\u5176\u7EE7\u627F\u5C42\u6B21\u89C1\u4E0A\u56FE\u8868\u793A\u3002</p><p>C++\u5BF9\u6587\u4EF6\u7684\u8F93\u5165\u8F93\u51FA\u9700\u8981\u7528ifstrcam\u548Cofstream\u7C7B\uFF0C\u4E24\u4E2A\u7C7B\u540D\u4E2D\u7B2C1\u4E2A\u5B57\u6BCDi\u548Co\u5206\u522B\u4EE3\u8868\u8F93\u5165\u548C\u8F93\u51FA\uFF0C\u7B2C2\u4E2A\u5B57\u6BCDf\u4EE3\u8868\u6587\u4EF6 (file)\u3002ifstream\u652F\u6301\u5BF9\u6587\u4EF6\u7684\u8F93\u5165\u64CD\u4F5C\uFF0C ofstream\u652F\u6301\u5BF9\u6587\u4EF6\u7684\u8F93\u51FA\u64CD\u4F5C\u3002\u7C7Bifstream\u7EE7\u627F\u4E86\u7C7Bistream\uFF0C\u7C7Bofstream\u7EE7\u627F\u4E86\u7C7Bostream\uFF0C\u7C7Bfstream\u7EE7\u627F\u4E86 \u7C7Biostream\u3002\u89C1\u56FE</p><p><img src="'+x+'" alt="wps5B94.tmp.jpg"></p><p>I/O\u7C7B\u5E93\u4E2D\u8FD8\u6709\u5176\u4ED6\u4E00\u4E9B\u7C7B\uFF0C\u4F46\u662F\u5BF9\u4E8E\u4E00\u822C\u7528\u6237\u6765\u8BF4\uFF0C\u4EE5\u4E0A\u8FD9\u4E9B\u5DF2\u80FD\u6EE1\u8DB3\u9700\u8981\u4E86\u3002</p><p><strong>\u4E0Eiostream\u7C7B\u5E93\u6709\u5173\u7684\u5934\u6587\u4EF6</strong></p><p>iostream\u7C7B\u5E93\u4E2D\u4E0D\u540C\u7684\u7C7B\u7684\u58F0\u660E\u88AB\u653E\u5728\u4E0D\u540C\u7684\u5934\u6587\u4EF6\u4E2D\uFF0C\u7528\u6237\u5728\u81EA\u5DF1\u7684\u7A0B\u5E8F\u4E2D\u7528#include\u547D\u4EE4\u5305\u542B\u4E86\u6709\u5173\u7684\u5934\u6587\u4EF6\u5C31\u76F8\u5F53\u4E8E\u5728\u672C\u7A0B\u5E8F\u4E2D\u58F0\u660E\u4E86\u6240\u9700 \u8981\u7528\u5230\u7684\u7C7B\u3002\u53EF\u4EE5\u6362 \u2014\u79CD\u8BF4\u6CD5\uFF1A\u5934\u6587\u4EF6\u662F\u7A0B\u5E8F\u4E0E\u7C7B\u5E93\u7684\u63A5\u53E3\uFF0Ciostream\u7C7B\u5E93\u7684\u63A5\u53E3\u5206\u522B\u7531\u4E0D\u540C\u7684\u5934\u6587\u4EF6\u6765\u5B9E\u73B0\u3002\u5E38\u7528\u7684\u6709</p><ul><li><p>iostream \u5305\u542B\u4E86\u5BF9\u8F93\u5165\u8F93\u51FA\u6D41\u8FDB\u884C\u64CD\u4F5C\u6240\u9700\u7684\u57FA\u672C\u4FE1\u606F\u3002</p></li><li><p>fstream \u7528\u4E8E\u7528\u6237\u7BA1\u7406\u7684\u6587\u4EF6\u7684I/O\u64CD\u4F5C\u3002</p></li><li><p>strstream \u7528\u4E8E\u5B57\u7B26\u4E32\u6D41I/O\u3002</p></li><li><p>stdiostream \u7528\u4E8E\u6DF7\u5408\u4F7F\u7528C\u548CC + +\u7684I/O\u673A\u5236\u65F6\uFF0C\u4F8B\u5982\u60F3\u5C06C\u7A0B\u5E8F\u8F6C\u53D8\u4E3AC++\u7A0B\u5E8F\u3002</p></li><li><p>iomanip \u5728\u4F7F\u7528\u683C\u5F0F\u5316I/O\u65F6\u5E94\u5305\u542B\u6B64\u5934\u6587\u4EF6\u3002</p></li></ul><p><strong>\u5728iostream\u5934\u6587\u4EF6\u4E2D\u5B9A\u4E49\u7684\u6D41\u5BF9\u8C61</strong></p><p>\u5728 iostream \u5934\u6587\u4EF6\u4E2D\u5B9A\u4E49\u7684\u7C7B\u6709 ios\uFF0Cistream\uFF0Costream\uFF0Ciostream\uFF0Cistream \u7B49\u3002</p><p>\u5728iostream\u5934\u6587\u4EF6\u4E2D\u4E0D\u4EC5\u5B9A\u4E49\u4E86\u6709\u5173\u7684\u7C7B\uFF0C\u8FD8\u5B9A\u4E49\u4E864\u79CD\u6D41\u5BF9\u8C61\uFF0C</p><table><thead><tr><th><strong>\u5BF9\u8C61</strong></th><th><strong>\u542B\u4E49</strong></th><th><strong>\u5BF9\u5E94\u8BBE\u5907</strong></th><th><strong>\u5BF9\u5E94\u7684\u7C7B</strong></th><th><strong>c\u8BED\u8A00\u4E2D\u76F8\u5E94\u7684\u6807\u51C6\u6587\u4EF6</strong></th></tr></thead><tbody><tr><td>cin</td><td>\u6807\u51C6\u8F93\u5165\u6D41</td><td>\u952E\u76D8</td><td>istream_withassign</td><td>stdin</td></tr><tr><td>cout</td><td>\u6807\u51C6\u8F93\u51FA\u6D41</td><td>\u5C4F\u5E55</td><td>ostream_withassign</td><td>stdout</td></tr><tr><td>cerr</td><td>\u6807\u51C6\u9519\u8BEF\u6D41</td><td>\u5C4F\u5E55</td><td>ostream_withassign</td><td>stderr</td></tr><tr><td>clog</td><td>\u6807\u51C6\u65E5\u5FD7\u6D41</td><td>\u5C4F\u5E55</td><td>ostream_withassign</td><td>stderr</td></tr></tbody></table><p>\u7F13\u51B2\u533A\u7684\u6982\u5FF5:</p><p><img src="'+T+`" alt="wps96BA.tmp.jpg"></p><h3 id="_8-2-\u6807\u51C6\u8F93\u5165\u6D41" tabindex="-1"><a class="header-anchor" href="#_8-2-\u6807\u51C6\u8F93\u5165\u6D41" aria-hidden="true">#</a> 8.2 \u6807\u51C6\u8F93\u5165\u6D41</h3><p>\u6807\u51C6\u8F93\u5165\u6D41\u5BF9\u8C61cin\uFF0C\u91CD\u70B9\u638C\u63E1\u7684\u51FD\u6570</p><p>cin.get() //\u4E00\u6B21\u53EA\u80FD\u8BFB\u53D6\u4E00\u4E2A\u5B57\u7B26</p><p>cin.get(\u4E00\u4E2A\u53C2\u6570) //\u8BFB\u4E00\u4E2A\u5B57\u7B26</p><p>cin.get(\u4E24\u4E2A\u53C2\u6570) //\u53EF\u4EE5\u8BFB\u5B57\u7B26\u4E32</p><p>cin.getline()</p><p>cin.ignore()</p><p>cin.peek()</p><p>cin.putback()</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//cin.get</span>
<span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token number">0</span></span></span>
	<span class="token keyword">char</span> ch <span class="token operator">=</span> cin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> ch <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	cin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> ch <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>


	<span class="token comment">//\u94FE\u5F0F\u7F16\u7A0B</span>
	<span class="token keyword">char</span> char1<span class="token punctuation">,</span> char2<span class="token punctuation">,</span> char3<span class="token punctuation">,</span> char4<span class="token punctuation">;</span>
	cin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>char1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>char2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>char3<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>char4<span class="token punctuation">)</span><span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> char1 <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; &quot;</span> <span class="token operator">&lt;&lt;</span> char2 <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&lt;&lt;</span> char3 <span class="token operator">&lt;&lt;</span>  <span class="token string">&quot; &quot;</span> <span class="token operator">&lt;&lt;</span> char4 <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>

	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token comment">//cin.get(buf.1024);</span>
	cin<span class="token punctuation">.</span><span class="token function">getline</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> buf<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//cin.ignore</span>
<span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	cin<span class="token punctuation">.</span><span class="token function">ignore</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5FFD\u7565\u7F13\u51B2\u533A\u5F53\u524D\u5B57\u7B26</span>
	cin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> buf <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//cin.putback \u5C06\u6570\u636E\u653E\u56DE\u7F13\u51B2\u533A</span>
<span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token comment">//\u4ECE\u7F13\u51B2\u533A\u53D6\u8D70\u4E00\u4E2A\u5B57\u7B26</span>
	<span class="token keyword">char</span> ch <span class="token operator">=</span> cin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u4ECE\u7F13\u51B2\u533A\u53D6\u8D70\u7684\u5B57\u7B26:&quot;</span> <span class="token operator">&lt;&lt;</span> ch <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//\u5C06\u6570\u636E\u518D\u653E\u56DE\u7F13\u51B2\u533A</span>
	cin<span class="token punctuation">.</span><span class="token function">putback</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	cin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> buf <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token comment">//cin.peek \u5077\u7AA5</span>
<span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	
	<span class="token comment">//\u5077\u7AA5\u4E0B\u7F13\u51B2\u533A\u7684\u6570\u636E</span>
	<span class="token keyword">char</span> ch <span class="token operator">=</span> cin<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u5077\u7AA5\u7F13\u51B2\u533A\u6570\u636E:&quot;</span> <span class="token operator">&lt;&lt;</span> ch <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	cin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> buf <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u7EC3\u4E60  \u4F5C\u4E1A \u4F7F\u7528cin.get\u548Cputback\u5B8C\u6210\u7C7B\u4F3C\u529F\u80FD</span>
<span class="token keyword">void</span> <span class="token function">test05</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u8BF7\u8F93\u5165\u4E00\u4E2A\u6570\u5B57\u6216\u8005\u5B57\u7B26\u4E32:&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">char</span> ch <span class="token operator">=</span> cin<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>ch <span class="token operator">&gt;=</span> <span class="token char">&#39;0&#39;</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token char">&#39;9&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">int</span> number<span class="token punctuation">;</span>
		cin <span class="token operator">&gt;&gt;</span> number<span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u6570\u5B57:&quot;</span> <span class="token operator">&lt;&lt;</span> number <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span><span class="token punctuation">{</span>
		<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
		cin<span class="token punctuation">.</span><span class="token function">getline</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u5B57\u7B26\u4E32:&quot;</span> <span class="token operator">&lt;&lt;</span>  buf <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br></div></div><h3 id="_8-3-\u6807\u51C6\u8F93\u51FA\u6D41" tabindex="-1"><a class="header-anchor" href="#_8-3-\u6807\u51C6\u8F93\u51FA\u6D41" aria-hidden="true">#</a> 8.3 \u6807\u51C6\u8F93\u51FA\u6D41</h3><h4 id="_8-3-1-\u5B57\u7B26\u8F93\u51FA" tabindex="-1"><a class="header-anchor" href="#_8-3-1-\u5B57\u7B26\u8F93\u51FA" aria-hidden="true">#</a> 8.3.1 \u5B57\u7B26\u8F93\u51FA</h4><p>cout.flush() //\u5237\u65B0\u7F13\u51B2\u533A Linux\u4E0B\u6709\u6548</p><p>cout.put() //\u5411\u7F13\u51B2\u533A\u5199\u5B57\u7B26</p><p>cout.write() //\u4ECEbuffer\u4E2D\u5199num\u4E2A\u5B57\u8282\u5230\u5F53\u524D\u8F93\u51FA\u6D41\u4E2D\u3002</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//cout.flush \u5237\u65B0\u7F13\u51B2\u533A\uFF0Clinux\u4E0B\u6709\u6548</span>
<span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>	
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
	<span class="token comment">//\u5237\u65B0\u7F13\u51B2\u533A</span>
	cout<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

<span class="token comment">//cout.put \u8F93\u51FA\u4E00\u4E2A\u5B57\u7B26</span>
<span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	
	cout<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token char">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//\u94FE\u5F0F\u7F16\u7A0B</span>
	cout<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token char">&#39;h&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token char">&#39;e&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token char">&#39;l&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//cout.write \u8F93\u51FA\u5B57\u7B26\u4E32 buf,\u8F93\u51FA\u591A\u5C11\u4E2A</span>
<span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	
	<span class="token comment">//char* str = &quot;hello world!&quot;;</span>
	<span class="token comment">//cout.write(str, strlen(str));</span>
	<span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">&quot;*************&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h4 id="_8-3-2-\u683C\u5F0F\u5316\u8F93\u51FA" tabindex="-1"><a class="header-anchor" href="#_8-3-2-\u683C\u5F0F\u5316\u8F93\u51FA" aria-hidden="true">#</a> 8.3.2 \u683C\u5F0F\u5316\u8F93\u51FA</h4><p>\u5728\u8F93\u51FA\u6570\u636E\u65F6\uFF0C\u4E3A\u7B80\u4FBF\u8D77\u89C1\uFF0C\u5F80\u5F80\u4E0D\u6307\u5B9A\u8F93\u51FA\u7684\u683C\u5F0F\uFF0C\u7531\u7CFB\u7EDF\u6839\u636E\u6570\u636E\u7684\u7C7B\u578B\u91C7\u53D6\u9ED8\u8BA4\u7684\u683C\u5F0F\uFF0C\u4F46\u6709\u65F6\u5E0C\u671B\u6570\u636E\u6309\u6307\u5B9A\u7684\u683C\u5F0F\u8F93\u51FA\uFF0C\u5982\u8981\u6C42\u4EE5\u5341\u516D\u8FDB\u5236\u6216\u516B\u8FDB\u5236\u5F62\u5F0F\u8F93\u51FA\u4E00\u4E2A\u6574\u6570\uFF0C\u5BF9\u8F93\u51FA\u7684\u5C0F\u6570\u53EA\u4FDD\u7559\u4E24\u4F4D\u5C0F\u6570\u7B49\u3002\u6709\u4E24\u79CD\u65B9\u6CD5\u53EF\u4EE5\u8FBE\u5230\u6B64\u76EE\u7684\u3002</p><p>1\uFF09\u4F7F\u7528\u63A7\u5236\u7B26\u7684\u65B9\u6CD5\uFF1B</p><p>2\uFF09\u4F7F\u7528\u6D41\u5BF9\u8C61\u7684\u6709\u5173\u6210\u5458\u51FD\u6570\u3002</p><h5 id="_8-3-2-1-\u4F7F\u7528\u6D41\u5BF9\u8C61\u7684\u6709\u5173\u6210\u5458\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#_8-3-2-1-\u4F7F\u7528\u6D41\u5BF9\u8C61\u7684\u6709\u5173\u6210\u5458\u51FD\u6570" aria-hidden="true">#</a> 8.3.2.1 \u4F7F\u7528\u6D41\u5BF9\u8C61\u7684\u6709\u5173\u6210\u5458\u51FD\u6570</h5><p>\u901A\u8FC7\u8C03\u7528\u6D41\u5BF9\u8C61cout\u4E2D\u7528\u4E8E\u63A7\u5236\u8F93\u51FA\u683C\u5F0F\u7684\u6210\u5458\u51FD\u6570\u6765\u63A7\u5236\u8F93\u51FA\u683C\u5F0F\u3002\u7528\u4E8E\u63A7\u5236\u8F93\u51FA\u683C\u5F0F\u7684\u5E38\u7528\u7684\u6210\u5458\u51FD\u6570\u5982\u4E0B\uFF1A</p><p><img src="`+j+'" alt="wpsE392.tmp.jpg"></p><p>\u6D41\u6210\u5458\u51FD\u6570setf\u548C\u63A7\u5236\u7B26setiosflags\u62EC\u53F7\u4E2D\u7684\u53C2\u6570\u8868\u793A\u683C\u5F0F\u72B6\u6001\uFF0C\u5B83\u662F\u901A\u8FC7\u683C\u5F0F\u6807\u5FD7\u6765\u6307\u5B9A\u7684\u3002\u683C\u5F0F\u6807\u5FD7\u5728\u7C7Bios\u4E2D\u88AB\u5B9A\u4E49\u4E3A\u679A\u4E3E\u503C\u3002\u56E0\u6B64\u5728\u5F15\u7528\u8FD9\u4E9B\u683C\u5F0F\u6807\u5FD7\u65F6\u8981\u5728\u524D\u9762\u52A0\u4E0A\u7C7B\u540Dios\u548C\u57DF\u8FD0\u7B97\u7B26\u201C::\u201D\u3002\u683C\u5F0F\u6807\u5FD7\u89C1\u886813.5\u3002</p><p><img src="'+N+'" alt="wps1487.tmp.jpg"></p><h5 id="_8-3-2-2-\u63A7\u5236\u7B26\u683C\u5F0F\u5316\u8F93\u51FA" tabindex="-1"><a class="header-anchor" href="#_8-3-2-2-\u63A7\u5236\u7B26\u683C\u5F0F\u5316\u8F93\u51FA" aria-hidden="true">#</a> 8.3.2.2 \u63A7\u5236\u7B26\u683C\u5F0F\u5316\u8F93\u51FA</h5><p>C++\u63D0\u4F9B\u4E86\u5728\u8F93\u5165\u8F93\u51FA\u6D41\u4E2D\u4F7F\u7528\u7684\u63A7\u5236\u7B26(\u6709\u7684\u4E66\u4E2D\u79F0\u4E3A\u64CD\u7EB5\u7B26)\u3002</p><p><img src="'+D+`" alt="wps888F.tmp.jpg"></p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u901A\u8FC7\u6D41\u6210\u5458\u51FD\u6570</span>
<span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	
	<span class="token keyword">int</span> number <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span>
	cout<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token char">&#39;*&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout<span class="token punctuation">.</span><span class="token function">setf</span><span class="token punctuation">(</span>ios<span class="token operator">::</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout<span class="token punctuation">.</span><span class="token function">unsetf</span><span class="token punctuation">(</span>ios<span class="token operator">::</span>dec<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5378\u8F7D\u5341\u8FDB\u5236</span>
	cout<span class="token punctuation">.</span><span class="token function">setf</span><span class="token punctuation">(</span>ios<span class="token operator">::</span>hex<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout<span class="token punctuation">.</span><span class="token function">setf</span><span class="token punctuation">(</span>ios<span class="token operator">::</span>showbase<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout<span class="token punctuation">.</span><span class="token function">unsetf</span><span class="token punctuation">(</span>ios<span class="token operator">::</span>hex<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout<span class="token punctuation">.</span><span class="token function">setf</span><span class="token punctuation">(</span>ios<span class="token operator">::</span>oct<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> number <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token comment">//\u4F7F\u7528\u63A7\u5236\u7B26</span>
<span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token keyword">int</span> number <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
		<span class="token operator">&lt;&lt;</span> <span class="token function">setfill</span><span class="token punctuation">(</span><span class="token char">&#39;~&#39;</span><span class="token punctuation">)</span>
		<span class="token operator">&lt;&lt;</span> <span class="token function">setiosflags</span><span class="token punctuation">(</span>ios<span class="token operator">::</span>showbase<span class="token punctuation">)</span>
		<span class="token operator">&lt;&lt;</span> <span class="token function">setiosflags</span><span class="token punctuation">(</span>ios<span class="token operator">::</span>left<span class="token punctuation">)</span>
		<span class="token operator">&lt;&lt;</span> hex
		<span class="token operator">&lt;&lt;</span> number
		<span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h5 id="_8-3-2-3-\u5BF9\u7A0B\u5E8F\u7684\u51E0\u70B9\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#_8-3-2-3-\u5BF9\u7A0B\u5E8F\u7684\u51E0\u70B9\u8BF4\u660E" aria-hidden="true">#</a> 8.3.2.3 \u5BF9\u7A0B\u5E8F\u7684\u51E0\u70B9\u8BF4\u660E</h5><ol><li>\u6210\u5458\u51FD\u6570width(n)\u548C\u63A7\u5236\u7B26setw(n)\u53EA\u5BF9\u5176\u540E\u7684\u7B2C\u4E00\u4E2A\u8F93\u51FA\u9879\u6709\u6548\u3002\u5982\uFF1A</li></ol><p>cout. width(6); cout &lt;&lt;20 &lt;&lt;3.14&lt;&lt;endl; \u8F93\u51FA\u7ED3\u679C\u4E3A 203.14</p><p>\u5728\u8F93\u51FA\u7B2C\u4E00\u4E2A\u8F93\u51FA\u987920\u65F6\uFF0C\u57DF\u5BBD\u4E3A6\uFF0C\u56E0\u6B64\u572820\u524D\u9762\u67094\u4E2A\u7A7A\u683C\uFF0C\u5728\u8F93\u51FA3.14\u65F6\uFF0Cwidth (6)\u5DF2\u4E0D\u8D77\u4F5C\u7528\uFF0C\u6B64\u65F6\u6309\u7CFB\u7EDF\u9ED8\u8BA4\u7684\u57DF\u5BBD\u8F93\u51FA\uFF08\u6309\u6570\u636E\u5B9E\u9645\u957F\u5EA6\u8F93\u51FA\uFF09\u3002\u5982\u679C\u8981\u6C42\u5728\u8F93\u51FA\u6570\u636E\u65F6\u90FD\u6309\u6307\u5B9A\u7684\u540C\u4E00\u57DF\u5BBDn\u8F93\u51FA\uFF0C\u4E0D\u80FD\u53EA\u8C03\u7528\u4E00\u6B21width(n)\uFF0C \u800C\u5FC5\u987B\u5728\u8F93\u51FA\u6BCF\u4E00\u9879\u524D\u90FD\u8C03\u7528\u4E00\u6B21width(n&gt;\uFF0C\u4E0A\u9762\u7684\u7A0B\u5E8F\u4E2D\u5C31\u662F\u8FD9\u6837\u505A\u7684\u3002</p><ol start="2"><li>\u5728\u886813.5\u4E2D\u7684\u8F93\u51FA\u683C\u5F0F\u72B6\u6001\u5206\u4E3A5\u7EC4\uFF0C\u6BCF\u4E00\u7EC4\u4E2D\u540C\u65F6\u53EA\u80FD\u9009\u7528\u4E00\u79CD\uFF08\u4F8B\u5982dec\u3001hex\u548Coct\u4E2D\u53EA\u80FD\u9009\u4E00\uFF0C\u5B83\u4EEC\u662F\u4E92\u76F8\u6392\u65A5\u7684\uFF09\u3002\u5728\u7528\u6210\u5458\u51FD\u6570setf\u548C \u63A7\u5236\u7B26setiosflags\u8BBE\u7F6E\u8F93\u51FA\u683C\u5F0F\u72B6\u6001\u540E\uFF0C\u5982\u679C\u60F3\u6539\u8BBE\u7F6E\u4E3A\u540C\u7EC4\u7684\u53E6\u4E00\u72B6\u6001\uFF0C\u5E94\u5F53\u8C03\u7528\u6210\u5458\u51FD\u6570unsetf\uFF08\u5BF9\u5E94\u4E8E\u6210\u5458\u51FD\u6570self\uFF09\u6216 resetiosflags\uFF08\u5BF9\u5E94\u4E8E\u63A7\u5236\u7B26setiosflags\uFF09\uFF0C\u5148\u7EC8\u6B62\u539F\u6765\u8BBE\u7F6E\u7684\u72B6\u6001\u3002\u7136\u540E\u518D\u8BBE\u7F6E\u5176\u4ED6\u72B6\u6001\uFF0C\u5927\u5BB6\u53EF\u4EE5\u4ECE\u672C\u7A0B\u5E8F\u4E2D\u770B\u5230\u8FD9\u70B9\u3002\u7A0B\u5E8F\u5728\u5F00 \u59CB\u867D\u7136\u6CA1\u6709\u7528\u6210\u5458\u51FD\u6570self\u548C\u63A7\u5236\u7B26setiosflags\u8BBE\u7F6E\u7528dec\u8F93\u51FA\u683C\u5F0F\u72B6\u6001\uFF0C\u4F46\u7CFB\u7EDF\u9ED8\u8BA4\u6307\u5B9A\u4E3Adec\uFF0C\u56E0\u6B64\u8981\u6539\u53D8\u4E3Ahex\u6216oct\uFF0C\u4E5F\u5E94\u5F53\u5148 \u7528unsetf \u51FD\u6570\u7EC8\u6B62\u539F\u6765\u8BBE\u7F6E\u3002\u5982\u679C\u5220\u53BB\u7A0B\u5E8F\u4E2D\u7684\u7B2C7\u884C\u548C\u7B2C10\u884C\uFF0C\u867D\u7136\u5728\u7B2C8\u884C\u548C\u7B2C11\u884C\u4E2D\u7528\u6210\u5458\u51FD\u6570setf\u8BBE\u7F6E\u4E86hex\u548Coct\u683C\u5F0F\uFF0C\u7531\u4E8E\u672A\u7EC8\u6B62dec\u683C\u5F0F\uFF0C\u56E0 \u6B64hex\u548Coct\u7684\u8BBE\u7F6E\u5747\u4E0D\u8D77\u4F5C\u7528\uFF0C\u7CFB\u7EDF\u4F9D\u7136\u4EE5\u5341\u8FDB\u5236\u5F62\u5F0F\u8F93\u51FA\u3002</li></ol><p>\u540C\u7406\uFF0C\u7A0B\u5E8F\u5012\u6570\u7B2C8\u884C\u7684unsetf \u51FD\u6570\u7684\u8C03\u7528\u4E5F\u662F\u4E0D\u53EF\u7F3A\u5C11\u7684\u3002</p><ol start="3"><li>\u7528setf \u51FD\u6570\u8BBE\u7F6E\u683C\u5F0F\u72B6\u6001\u65F6\uFF0C\u53EF\u4EE5\u5305\u542B\u4E24\u4E2A\u6216\u591A\u4E2A\u683C\u5F0F\u6807\u5FD7\uFF0C\u7531\u4E8E\u8FD9\u4E9B\u683C\u5F0F\u6807\u5FD7\u5728ios\u7C7B\u4E2D\u88AB\u5B9A\u4E49\u4E3A\u679A\u4E3E\u503C\uFF0C\u6BCF\u4E00\u4E2A\u683C\u5F0F\u6807\u5FD7\u4EE5\u4E00\u4E2A\u4E8C\u8FDB\u4F4D\u4EE3\u8868\uFF0C\u56E0\u6B64\u53EF\u4EE5\u7528\u4F4D\u6216\u8FD0\u7B97\u7B26\u201C|\u201D\u7EC4\u5408\u591A\u4E2A\u683C\u5F0F\u6807\u5FD7\u3002\u5982\u5012\u6570\u7B2C5\u3001\u7B2C6\u884C\u53EF\u4EE5\u7528\u4E0B\u9762\u4E00\u884C\u4EE3\u66FF\uFF1A</li></ol><p>cout.setf(ios::internal I ios::showpos); //\u5305\u542B\u4E24\u4E2A\u72B6\u6001\u6807\u5FD7\uFF0C\u7528&quot;|&quot;\u7EC4\u5408</p><ol><li>\u53EF\u4EE5\u770B\u5230\uFF1A\u5BF9\u8F93\u51FA\u683C\u5F0F\u7684\u63A7\u5236\uFF0C\u65E2\u53EF\u4EE5\u7528\u63A7\u5236\u7B26(\u5982\u4F8B13.2)\uFF0C\u4E5F\u53EF\u4EE5\u7528cout\u6D41\u7684\u6709\u5173\u6210\u5458\u51FD\u6570(\u5982\u4F8B13.3)\uFF0C\u4E8C\u8005\u7684\u4F5C\u7528\u662F\u76F8\u540C\u7684\u3002\u63A7\u5236\u7B26\u662F\u5728\u5934\u6587\u4EF6iomanip\u4E2D\u5B9A\u4E49\u7684\uFF0C\u56E0\u6B64\u7528\u63A7\u5236\u7B26\u65F6\uFF0C\u5FC5\u987B\u5305\u542Biomanip\u5934\u6587\u4EF6\u3002cout\u6D41\u7684\u6210\u5458\u51FD\u6570\u662F\u5728\u5934\u6587\u4EF6iostream \u4E2D\u5B9A\u4E49\u7684\uFF0C\u56E0\u6B64\u53EA\u9700\u5305\u542B\u5934\u6587\u4EF6iostream\uFF0C\u4E0D\u5FC5\u5305\u542Biomanip\u3002\u8BB8\u591A\u7A0B\u5E8F\u4EBA\u5458\u611F\u5230\u4F7F\u7528\u63A7\u5236\u7B26\u65B9\u4FBF\u7B80\u5355\uFF0C\u53EF\u4EE5\u5728\u4E00\u4E2Acout\u8F93\u51FA\u8BED\u53E5\u4E2D\u8FDE\u7EED\u4F7F\u7528\u591A\u79CD\u63A7\u5236\u7B26\u3002</li></ol><h3 id="_8-4-\u6587\u4EF6\u8BFB\u5199" tabindex="-1"><a class="header-anchor" href="#_8-4-\u6587\u4EF6\u8BFB\u5199" aria-hidden="true">#</a> 8.4 \u6587\u4EF6\u8BFB\u5199</h3><h4 id="_8-4-1-\u6587\u4EF6\u6D41\u7C7B\u548C\u6587\u4EF6\u6D41\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#_8-4-1-\u6587\u4EF6\u6D41\u7C7B\u548C\u6587\u4EF6\u6D41\u5BF9\u8C61" aria-hidden="true">#</a> 8.4.1 \u6587\u4EF6\u6D41\u7C7B\u548C\u6587\u4EF6\u6D41\u5BF9\u8C61</h4><p>\u8F93\u5165\u8F93\u51FA\u662F\u4EE5\u7CFB\u7EDF\u6307\u5B9A\u7684\u6807\u51C6\u8BBE\u5907\uFF08\u8F93\u5165\u8BBE\u5907\u4E3A\u952E\u76D8\uFF0C\u8F93\u51FA\u8BBE\u5907\u4E3A\u663E\u793A\u5668\uFF09\u4E3A\u5BF9\u8C61\u7684\u3002\u5728\u5B9E\u9645\u5E94\u7528\u4E2D\uFF0C\u5E38\u4EE5\u78C1\u76D8\u6587\u4EF6\u4F5C\u4E3A\u5BF9\u8C61\u3002\u5373\u4ECE\u78C1\u76D8\u6587\u4EF6\u8BFB\u53D6\u6570\u636E\uFF0C\u5C06\u6570\u636E\u8F93\u51FA\u5230\u78C1\u76D8\u6587\u4EF6\u3002</p><p>\u548C\u6587\u4EF6\u6709\u5173\u7CFB\u7684\u8F93\u5165\u8F93\u51FA\u7C7B\u4E3B\u8981\u5728fstream.h\u8FD9\u4E2A\u5934\u6587\u4EF6\u4E2D\u88AB\u5B9A\u4E49\uFF0C\u5728\u8FD9\u4E2A\u5934\u6587\u4EF6\u4E2D\u4E3B\u8981\u88AB\u5B9A\u4E49\u4E86\u4E09\u4E2A\u7C7B\uFF0C\u7531\u8FD9\u4E09\u4E2A\u7C7B\u63A7\u5236\u5BF9\u6587\u4EF6\u7684\u5404\u79CD\u8F93\u5165\u8F93\u51FA\u64CD\u4F5C\uFF0C\u4ED6\u4EEC\u5206\u522B\u662Fifstream\u3001ofstream\u3001fstream\uFF0C\u5176\u4E2Dfstream\u7C7B\u662F\u7531iostream\u7C7B\u6D3E\u751F\u800C\u6765\uFF0C\u4ED6\u4EEC\u4E4B\u95F4\u7684\u7EE7\u627F\u5173\u7CFB\u89C1\u4E0B\u56FE\u6240\u793A\uFF1A</p><p><img src="`+S+'" alt="wpsEAE4.tmp.jpg"></p><p>\u7531\u4E8E\u6587\u4EF6\u8BBE\u5907\u5E76\u4E0D\u50CF\u663E\u793A\u5668\u5C4F\u5E55\u4E0E\u952E\u76D8\u90A3\u6837\u662F\u6807\u51C6\u9ED8\u8BA4\u8BBE\u5907\uFF0C\u6240\u4EE5\u5B83\u5728fstream\u5934\u6587\u4EF6\u4E2D\u662F\u6CA1\u6709\u50CFcout\u90A3\u6837\u9884\u5148\u5B9A\u4E49\u7684\u5168\u5C40\u5BF9\u8C61\uFF0C\u6240\u4EE5\u6211\u4EEC\u5FC5\u987B\u81EA\u5DF1\u5B9A\u4E49\u4E00\u4E2A\u8BE5\u7C7B\u7684\u5BF9\u8C61\u3002ifstream\u7C7B\uFF0C\u5B83\u662F\u4ECEistream\u7C7B\u6D3E\u751F\u7684\uFF0C\u7528\u6765\u652F\u6301\u4ECE\u78C1\u76D8\u6587\u4EF6\u7684\u8F93\u5165\u3002ofstream\u7C7B\uFF0C\u5B83\u662F\u4ECEostream\u7C7B\u6D3E\u751F\u7684\uFF0C\u7528\u6765\u652F\u6301\u5411\u78C1\u76D8\u6587\u4EF6\u7684\u8F93\u51FA\u3002</p><p>fstream\u7C7B\uFF0C\u5B83\u662F\u4ECEiostream\u7C7B\u6D3E\u751F\u7684\uFF0C\u7528\u6765\u652F\u6301\u5BF9\u78C1\u76D8\u6587\u4EF6\u7684\u8F93\u5165\u8F93\u51FA\u3002</p><h4 id="_8-4-2-c-\u6253\u5F00\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_8-4-2-c-\u6253\u5F00\u6587\u4EF6" aria-hidden="true">#</a> 8.4.2 c++\u6253\u5F00\u6587\u4EF6</h4><p>\u6240\u8C13\u6253\u5F00(open)\u6587\u4EF6\u662F\u4E00\u79CD\u5F62\u8C61\u7684\u8BF4\u6CD5\uFF0C\u5982\u540C\u6253\u5F00\u623F\u95E8\u5C31\u53EF\u4EE5\u8FDB\u5165\u623F\u95F4\u6D3B\u52A8\u4E00\u6837\u3002 \u6253\u5F00\u6587\u4EF6\u662F\u6307\u5728\u6587\u4EF6\u8BFB\u5199\u4E4B\u524D\u505A\u5FC5\u8981\u7684\u51C6\u5907\u5DE5\u4F5C\uFF0C\u5305\u62EC\uFF1A</p><p>1\uFF09\u4E3A\u6587\u4EF6\u6D41\u5BF9\u8C61\u548C\u6307\u5B9A\u7684\u78C1\u76D8\u6587\u4EF6\u5EFA\u7ACB\u5173\u8054\uFF0C\u4EE5\u4FBF\u4F7F\u6587\u4EF6\u6D41\u6D41\u5411\u6307\u5B9A\u7684\u78C1\u76D8\u6587\u4EF6\u3002</p><p>2\uFF09\u6307\u5B9A\u6587\u4EF6\u7684\u5DE5\u4F5C\u65B9\u5F0F\uFF0C\u5982\uFF1A\u8BE5\u6587\u4EF6\u662F\u4F5C\u4E3A\u8F93\u5165\u6587\u4EF6\u8FD8\u662F\u8F93\u51FA\u6587\u4EF6\uFF0C\u662FASCII\u6587\u4EF6\u8FD8\u662F\u4E8C\u8FDB\u5236\u6587\u4EF6\u7B49\u3002</p><p>\u4EE5\u4E0A\u5DE5\u4F5C\u53EF\u4EE5\u901A\u8FC7\u4E24\u79CD\u4E0D\u540C\u7684\u65B9\u6CD5\u5B9E\u73B0:</p><ol><li>\u8C03\u7528\u6587\u4EF6\u6D41\u7684\u6210\u5458\u51FD\u6570open\u3002\u5982</li></ol><p>ofstream outfile; //\u5B9A\u4E49ofstream\u7C7B(\u8F93\u51FA\u6587\u4EF6\u6D41\u7C7B)\u5BF9\u8C61outfile</p><p>outfile.open(&quot;f1.dat&quot;,ios::out); //\u4F7F\u6587\u4EF6\u6D41\u4E0Ef1.dat\u6587\u4EF6\u5EFA\u7ACB\u5173\u8054</p><p>\u7B2C2\u884C\u662F\u8C03\u7528\u8F93\u51FA\u6587\u4EF6\u6D41\u7684\u6210\u5458\u51FD\u6570open\u6253\u5F00\u78C1\u76D8\u6587\u4EF6f1.dat\uFF0C\u5E76\u6307\u5B9A\u5B83\u4E3A\u8F93\u51FA\u6587\u4EF6\uFF0C \u6587\u4EF6\u6D41\u5BF9\u8C61outfile\u5C06\u5411\u78C1\u76D8\u6587\u4EF6f1.dat\u8F93\u51FA\u6570\u636E\u3002ios::out\u662FI/O\u6A21\u5F0F\u7684\u4E00\u79CD\uFF0C\u8868\u793A \u4EE5\u8F93\u51FA\u65B9\u5F0F\u6253\u5F00\u4E00\u4E2A\u6587\u4EF6\u3002\u6216\u8005\u7B80\u5355\u5730\u8BF4\uFF0C\u6B64\u65F6f1.dat\u662F\u4E00\u4E2A\u8F93\u51FA\u6587\u4EF6\uFF0C\u63A5\u6536\u4ECE\u5185\u5B58 \u8F93\u51FA\u7684\u6570\u636E\u3002</p><p>\u78C1\u76D8\u6587\u4EF6\u540D\u53EF\u4EE5\u5305\u62EC\u8DEF\u5F84\uFF0C\u5982&quot;c:\\new\\f1.dat&quot;\uFF0C\u5982\u7F3A\u7701\u8DEF\u5F84\uFF0C\u5219\u9ED8\u8BA4\u4E3A\u5F53\u524D\u76EE\u5F55\u4E0B\u7684\u6587\u4EF6\u3002</p><ol start="2"><li>\u5728\u5B9A\u4E49\u6587\u4EF6\u6D41\u5BF9\u8C61\u65F6\u6307\u5B9A\u53C2\u6570</li></ol><p>\u5728\u58F0\u660E\u6587\u4EF6\u6D41\u7C7B\u65F6\u5B9A\u4E49\u4E86\u5E26\u53C2\u6570\u7684\u6784\u9020\u51FD\u6570\uFF0C\u5176\u4E2D\u5305\u542B\u4E86\u6253\u5F00\u78C1\u76D8\u6587\u4EF6\u7684\u529F\u80FD\u3002\u56E0\u6B64\uFF0C \u53EF\u4EE5\u5728\u5B9A\u4E49\u6587\u4EF6\u6D41\u5BF9\u8C61\u65F6\u6307\u5B9A\u53C2\u6570\uFF0C\u8C03\u7528\u6587\u4EF6\u6D41\u7C7B\u7684\u6784\u9020\u51FD\u6570\u6765\u5B9E\u73B0\u6253\u5F00\u6587\u4EF6\u7684\u529F\u80FD\u3002</p><p><img src="'+E+`" alt="wps2221.tmp.jpg"></p><p>\u51E0\u70B9\u8BF4\u660E\uFF1A</p><ol><li><p>\u65B0\u7248\u672C\u7684I/O\u7C7B\u5E93\u4E2D\u4E0D\u63D0\u4F9Bios::nocreate\u548Cios::noreplace\u3002</p></li><li><p>\u6BCF\u4E00\u4E2A\u6253\u5F00\u7684\u6587\u4EF6\u90FD\u6709\u4E00\u4E2A\u6587\u4EF6\u6307\u9488\uFF0C\u8BE5\u6307\u9488\u7684\u521D\u59CB\u4F4D\u7F6E\u7531I/O\u65B9\u5F0F\u6307\u5B9A\uFF0C\u6BCF\u6B21\u8BFB\u5199\u90FD\u4ECE\u6587\u4EF6\u6307\u9488\u7684\u5F53\u524D\u4F4D\u7F6E\u5F00\u59CB\u3002\u6BCF\u8BFB\u5165\u4E00\u4E2A\u5B57\u8282\uFF0C\u6307\u9488\u5C31\u540E\u79FB\u4E00\u4E2A\u5B57\u8282\u3002\u5F53\u6587\u4EF6\u6307\u9488\u79FB\u5230\u6700\u540E\uFF0C\u5C31\u4F1A\u9047\u5230\u6587\u4EF6\u7ED3\u675FEOF\uFF08\u6587\u4EF6\u7ED3\u675F\u7B26\u4E5F\u5360\u4E00\u4E2A\u5B57\u8282\uFF0C\u5176\u503C\u4E3A-1)\uFF0C\u6B64\u65F6\u6D41\u5BF9\u8C61\u7684\u6210\u5458\u51FD\u6570eof\u7684\u503C\u4E3A\u975E0\u503C(\u4E00\u822C\u8BBE\u4E3A1)\uFF0C\u8868\u793A\u6587\u4EF6\u7ED3\u675F \u4E86\u3002</p></li><li><p>\u53EF\u4EE5\u7528\u201C\u4F4D\u6216\u201D\u8FD0\u7B97\u7B26\u201C|\u201D\u5BF9\u8F93\u5165\u8F93\u51FA\u65B9\u5F0F\u8FDB\u884C\u7EC4\u5408\uFF0C\u5982\u886813.6\u4E2D\u6700\u540E3\u884C\u6240\u793A\u90A3\u6837\u3002\u8FD8\u53EF\u4EE5\u4E3E\u51FA\u4E0B\u9762\u4E00\u4E9B\u4F8B\u5B50\uFF1A ios::in | ios:: noreplace //\u6253\u5F00\u4E00\u4E2A\u8F93\u5165\u6587\u4EF6\uFF0C\u82E5\u6587\u4EF6\u4E0D\u5B58\u5728\u5219\u8FD4\u56DE\u6253\u5F00\u5931\u8D25\u7684\u4FE1\u606F ios::app | ios::nocreate //\u6253\u5F00\u4E00\u4E2A\u8F93\u51FA\u6587\u4EF6\uFF0C\u5728\u6587\u4EF6\u5C3E\u63A5\u7740\u5199\u6570\u636E\uFF0C\u82E5\u6587\u4EF6\u4E0D\u5B58\u5728\uFF0C\u5219\u8FD4\u56DE\u6253\u5F00\u5931\u8D25\u7684\u4FE1\u606F ios::out l ios::noreplace //\u6253\u5F00\u4E00\u4E2A\u65B0\u6587\u4EF6\u4F5C\u4E3A\u8F93\u51FA\u6587\u4EF6\uFF0C\u5982\u679C\u6587\u4EF6\u5DF2\u5B58\u5728\u5219\u8FD4\u56DE\u6253\u5F00\u5931\u8D25\u7684\u4FE1\u606F ios::in l ios::out I ios::binary //\u6253\u5F00\u4E00\u4E2A\u4E8C\u8FDB\u5236\u6587\u4EF6\uFF0C\u53EF\u8BFB\u53EF\u5199 \u4F46\u4E0D\u80FD\u7EC4\u5408\u4E92\u76F8\u6392\u65A5\u7684\u65B9\u5F0F\uFF0C\u5982 ios::nocreate l ios::noreplace\u3002</p></li><li><p>\u5982\u679C\u6253\u5F00\u64CD\u4F5C\u5931\u8D25\uFF0Copen\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u4E3A0(\u5047)\uFF0C\u5982\u679C\u662F\u7528\u8C03\u7528\u6784\u9020\u51FD\u6570\u7684\u65B9\u5F0F\u6253\u5F00\u6587\u4EF6\u7684\uFF0C\u5219\u6D41\u5BF9\u8C61\u7684\u503C\u4E3A0\u3002\u53EF\u4EE5\u636E\u6B64\u6D4B\u8BD5\u6253\u5F00\u662F\u5426\u6210\u529F\u3002\u5982 if(outfile.open(&quot;f1.bat&quot;, ios::app) ==0) cout &lt;&lt;&quot;open error&quot;; \u6216 if( !outfile.open(&quot;f1.bat&quot;, ios::app) ) cout &lt;&lt;&quot;open error&quot;;</p></li></ol><h4 id="_8-4-3-\u6587\u4EF6\u5173\u95ED" tabindex="-1"><a class="header-anchor" href="#_8-4-3-\u6587\u4EF6\u5173\u95ED" aria-hidden="true">#</a> 8.4.3 \u6587\u4EF6\u5173\u95ED</h4><p>\u5728\u5BF9\u5DF2\u6253\u5F00\u7684\u78C1\u76D8\u6587\u4EF6\u7684\u8BFB\u5199\u64CD\u4F5C\u5B8C\u6210\u540E\uFF0C\u5E94\u5173\u95ED\u8BE5\u6587\u4EF6\u3002\u5173\u95ED\u6587\u4EF6\u7528\u6210\u5458\u51FD\u6570close\u3002\u5982\uFF1Aoutfile.close( ); //\u5C06\u8F93\u51FA\u6587\u4EF6\u6D41\u6240\u5173\u8054\u7684\u78C1\u76D8\u6587\u4EF6\u5173\u95ED \u6240\u8C13\u5173\u95ED\uFF0C\u5B9E\u9645\u4E0A\u662F\u89E3\u9664\u8BE5\u78C1\u76D8\u6587\u4EF6\u4E0E\u6587\u4EF6\u6D41\u7684\u5173\u8054\uFF0C\u539F\u6765\u8BBE\u7F6E\u7684\u5DE5\u4F5C\u65B9\u5F0F\u4E5F\u5931\u6548\uFF0C\u8FD9\u6837\uFF0C\u5C31\u4E0D\u80FD\u518D\u901A\u8FC7\u6587\u4EF6\u6D41\u5BF9\u8BE5\u6587\u4EF6\u8FDB\u884C\u8F93\u5165\u6216\u8F93\u51FA\u3002\u6B64\u65F6\u53EF\u4EE5\u5C06\u6587\u4EF6\u6D41\u4E0E\u5176\u4ED6\u78C1\u76D8\u6587\u4EF6\u5EFA\u7ACB\u5173\u8054\uFF0C\u901A\u8FC7\u6587\u4EF6\u6D41\u5BF9\u65B0\u7684\u6587\u4EF6\u8FDB\u884C\u8F93\u5165\u6216\u8F93\u51FA\u3002\u5982: outfile.open(&quot;f2.dat&quot;,ios::app|ios::nocreate)\uFF1B</p><p>\u6B64\u65F6\u6587\u4EF6\u6D41outfile\u4E0Ef2.dat\u5EFA\u7ACB\u5173\u8054\uFF0C\u5E76\u6307\u5B9A\u4E86f2.dat\u7684\u5DE5\u4F5C\u65B9\u5F0F\u3002</p><h4 id="_8-4-4-c-\u5BF9ascll\u6587\u4EF6\u7684\u8BFB\u5199\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#_8-4-4-c-\u5BF9ascll\u6587\u4EF6\u7684\u8BFB\u5199\u64CD\u4F5C" aria-hidden="true">#</a> 8.4.4 c++\u5BF9ASCll\u6587\u4EF6\u7684\u8BFB\u5199\u64CD\u4F5C</h4><p>\u5982\u679C\u6587\u4EF6\u7684\u6BCF\u4E00\u4E2A\u5B57\u8282\u4E2D\u5747\u4EE5ASCII\u4EE3\u7801\u5F62\u5F0F\u5B58\u653E\u6570\u636E,\u5373\u4E00\u4E2A\u5B57\u8282\u5B58\u653E\u4E00\u4E2A\u5B57\u7B26,\u8FD9\u4E2A\u6587\u4EF6\u5C31\u662FASCII\u6587\u4EF6(\u6216\u79F0\u5B57\u7B26\u6587\u4EF6)\u3002\u7A0B\u5E8F\u53EF\u4EE5\u4ECEASCII\u6587\u4EF6\u4E2D\u8BFB\u5165\u82E5\u5E72\u4E2A\u5B57\u7B26,\u4E5F\u53EF\u4EE5\u5411\u5B83\u8F93\u51FA\u4E00\u4E9B\u5B57\u7B26\u3002</p><ol><li><p>\u7528\u6D41\u63D2\u5165\u8FD0\u7B97\u7B26\u201C&lt;&lt;\u201D\u548C\u6D41\u63D0\u53D6\u8FD0\u7B97\u7B26\u201C&gt;&gt;\u201D\u8F93\u5165\u8F93\u51FA\u6807\u51C6\u7C7B\u578B\u7684\u6570\u636E\u3002\u201C&lt;&lt;\u201D\u548C\u201C &gt;&gt;\u201D\u90FD\u5DF3\u5728iostream\u4E2D\u88AB\u91CD\u8F7D\u4E3A\u80FD\u7528\u4E8Eostream\u548Cistream\u7C7B\u5BF9\u8C61\u7684\u6807\u51C6\u7C7B\u578B\u7684\u8F93\u5165\u8F93\u51FA\u3002\u7531\u4E8Eifstream\u548C ofstream\u5206\u522B\u662Fostream\u548Cistream\u7C7B\u7684\u6D3E\u751F\u7C7B\uFF1B\u56E0\u6B64\u5B83\u4EEC\u4ECEostream\u548Cistream\u7C7B\u7EE7\u627F\u4E86\u516C\u7528\u7684\u91CD\u8F7D\u51FD\u6570\uFF0C\u6240\u4EE5\u5728\u5BF9\u78C1\u76D8\u6587\u4EF6\u7684\u64CD\u4F5C\u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6587\u4EF6\u6D41\u5BF9\u8C61\u548C\u6D41\u63D2\u5165\u8FD0\u7B97\u7B26\u201C&lt;&lt;\u201D\u53CA \u6D41\u63D0\u53D6\u8FD0\u7B97\u7B26\u201C&gt;&gt;\u201D\u5B9E\u73B0\u5BF9\u78C1\u76D8 \u6587\u4EF6\u7684\u8BFB\u5199\uFF0C\u5982\u540C\u7528cin\u3001cout\u548C&lt;&lt;\u3001&gt;&gt;\u5BF9\u6807\u51C6\u8BBE\u5907\u8FDB\u884C\u8BFB\u5199\u4E00\u6837\u3002</p></li><li><p>\u7528\u6587\u4EF6\u6D41\u7684put\u3001get\u3001geiline\u7B49\u6210\u5458\u51FD\u6570\u8FDB\u884C\u5B57\u7B26\u7684\u8F93\u5165\u8F93\u51FA\uFF0C\uFF1A\u7528C++\u6D41\u6210\u5458\u51FD\u6570put\u8F93\u51FA\u5355\u4E2A\u5B57\u7B26\u3001C++ get()\u51FD\u6570\u8BFB\u5165\u4E00\u4E2A\u5B57\u7B26\u548CC++ getline()\u51FD\u6570\u8BFB\u5165\u4E00\u884C\u5B57\u7B26\u3002</p></li></ol><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token keyword">char</span><span class="token operator">*</span> sourceFileName <span class="token operator">=</span> <span class="token string">&quot;./source.txt&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> targetFileName <span class="token operator">=</span> <span class="token string">&quot;./target.txt&quot;</span><span class="token punctuation">;</span>
	<span class="token comment">//\u521B\u5EFA\u6587\u4EF6\u8F93\u5165\u6D41\u5BF9\u8C61</span>
	ifstream <span class="token function">ism</span><span class="token punctuation">(</span>sourceFileName<span class="token punctuation">,</span> ios<span class="token operator">::</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//\u521B\u5EFA\u6587\u4EF6\u8F93\u51FA\u6D41\u5BF9\u8C61</span>
	ofstream <span class="token function">osm</span><span class="token punctuation">(</span>targetFileName<span class="token punctuation">,</span>ios<span class="token operator">::</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ism<span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u6587\u4EF6\u6253\u5F00\u5931\u8D25!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>ism<span class="token punctuation">.</span><span class="token function">eof</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
		ism<span class="token punctuation">.</span><span class="token function">getline</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> buf <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		osm <span class="token operator">&lt;&lt;</span> buf <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//\u5173\u95ED\u6587\u4EF6\u6D41\u5BF9\u8C61</span>
	ism<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	osm<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h4 id="_8-4-5-c-\u5BF9\u4E8C\u8FDB\u5236\u6587\u4EF6\u7684\u8BFB\u5199\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#_8-4-5-c-\u5BF9\u4E8C\u8FDB\u5236\u6587\u4EF6\u7684\u8BFB\u5199\u64CD\u4F5C" aria-hidden="true">#</a> 8.4.5 c++\u5BF9\u4E8C\u8FDB\u5236\u6587\u4EF6\u7684\u8BFB\u5199\u64CD\u4F5C</h4><p>\u4E8C\u8FDB\u5236\u6587\u4EF6\u4E0D\u662F\u4EE5ASCII\u4EE3\u7801\u5B58\u653E\u6570\u636E\u7684\uFF0C\u5B83\u5C06\u5185\u5B58\u4E2D\u6570\u636E\u5B58\u50A8\u5F62\u5F0F\u4E0D\u52A0\u8F6C\u6362\u5730\u4F20\u9001\u5230\u78C1\u76D8\u6587\u4EF6\uFF0C\u56E0\u6B64\u5B83\u53C8\u79F0\u4E3A\u5185\u5B58\u6570\u636E\u7684\u6620\u50CF\u6587\u4EF6\u3002\u56E0\u4E3A\u6587\u4EF6\u4E2D\u7684\u4FE1\u606F\u4E0D\u662F\u5B57\u7B26\u6570\u636E\uFF0C\u800C\u662F\u5B57\u8282\u4E2D\u7684\u4E8C\u8FDB\u5236\u5F62\u5F0F\u7684\u4FE1\u606F\uFF0C\u56E0\u6B64\u5B83\u53C8\u79F0\u4E3A\u5B57\u8282\u6587\u4EF6\u3002</p><p>\u5BF9\u4E8C\u8FDB\u5236\u6587\u4EF6\u7684\u64CD\u4F5C\u4E5F\u9700\u8981\u5148\u6253\u5F00\u6587\u4EF6\uFF0C\u7528\u5B8C\u540E\u8981\u5173\u95ED\u6587\u4EF6\u3002\u5728\u6253\u5F00\u65F6\u8981\u7528ios::binary\u6307\u5B9A\u4E3A\u4EE5\u4E8C\u8FDB\u5236\u5F62\u5F0F\u4F20\u9001\u548C\u5B58\u50A8\u3002\u4E8C\u8FDB\u5236\u6587\u4EF6\u9664\u4E86\u53EF\u4EE5\u4F5C\u4E3A\u8F93\u5165\u6587\u4EF6\u6216\u8F93\u51FA\u6587\u4EF6\u5916,\u8FD8\u53EF\u4EE5\u662F\u65E2\u80FD\u8F93\u5165\u53C8\u80FD\u8F93\u51FA\u7684\u6587\u4EF6\u3002\u8FD9\u662F\u548CASCII\u6587\u4EF6\u4E0D\u540C\u7684\u5730\u65B9\u3002</p><p><strong>\u7528\u6210\u5458\u51FD\u6570read\u548Cwrite\u8BFB\u5199\u4E8C\u8FDB\u5236\u6587\u4EF6</strong></p><p>\u5BF9\u4E8C\u8FDB\u5236\u6587\u4EF6\u7684\u8BFB\u5199\u4E3B\u8981\u7528istream\u7C7B\u7684\u6210\u5458\u51FD\u6570read\u548Cwrite\u6765\u5B9E\u73B0\u3002\u8FD9\u4E24\u4E2A\u6210\u5458\u51FD\u6570\u7684\u539F\u578B\u4E3A istream&amp; read(char *buffer,int len); ostream&amp; write(const char * buffer,int len); \u5B57\u7B26\u6307\u9488buffer\u6307\u5411\u5185\u5B58\u4E2D\u4E00\u6BB5\u5B58\u50A8\u7A7A\u95F4\u3002len\u662F\u8BFB\u5199\u7684\u5B57\u8282\u6570\u3002\u8C03\u7528\u7684\u65B9\u5F0F\u4E3A\uFF1A a. write(p1,50); b. read(p2,30); \u4E0A\u9762\u7B2C\u4E00\u884C\u4E2D\u7684a\u662F\u8F93\u51FA\u6587\u4EF6\u6D41\u5BF9\u8C61\uFF0Cwrite\u51FD\u6570\u5C06\u5B57\u7B26\u6307\u9488p1\u6240\u7ED9\u51FA\u7684\u5730\u5740\u5F00\u59CB\u768450\u4E2A\u5B57\u8282\u7684\u5185\u5BB9\u4E0D\u52A0\u8F6C\u6362\u5730\u5199\u5230\u78C1\u76D8\u6587\u4EF6\u4E2D\u3002\u5728\u7B2C\u4E8C\u884C\u4E2D\uFF0Cb\u662F\u8F93\u5165\u6587\u4EF6\u6D41\u5BF9\u8C61\uFF0Cread \u51FD\u6570\u4ECEb\u6240\u5173\u8054\u7684\u78C1\u76D8\u6587\u4EF6\u4E2D\uFF0C\u8BFB\u516530\u4E2A\u5B57\u8282(\u6216\u9047EOF\u7ED3\u675F\uFF09\uFF0C\u5B58\u653E\u5728\u5B57\u7B26\u6307\u9488p2\u6240\u6307\u7684\u4E00\u6BB5\u7A7A\u95F4\u5185\u3002</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>class Person<span class="token punctuation">{</span>
public<span class="token operator">:</span>
	<span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> name<span class="token punctuation">,</span><span class="token keyword">int</span> age<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">strcpy</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>mName<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
		this<span class="token operator">-&gt;</span>mAge <span class="token operator">=</span> age<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
public<span class="token operator">:</span>
	<span class="token keyword">char</span> mName<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> mAge<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

	<span class="token keyword">char</span><span class="token operator">*</span> fileName <span class="token operator">=</span> <span class="token string">&quot;person.txt&quot;</span><span class="token punctuation">;</span>
	<span class="token comment">//\u4E8C\u8FDB\u5236\u6A21\u5F0F\u8BFB\u5199\u6587\u4EF6</span>
	<span class="token comment">//\u521B\u5EFA\u6587\u4EF6\u5BF9\u8C61\u8F93\u51FA\u6D41</span>
	ofstream <span class="token function">osm</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span> ios<span class="token operator">::</span>out <span class="token operator">|</span> ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>

	Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Person <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">&quot;Edward&quot;</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//Person\u5BF9\u8C61\u5199\u5165\u6587\u4EF6</span>
	osm<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p1<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	osm<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p2<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//\u5173\u95ED\u6587\u4EF6\u8F93\u51FA\u6D41</span>
	osm<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//\u4ECE\u6587\u4EF6\u4E2D\u8BFB\u53D6\u5BF9\u8C61\u6570\u7EC4</span>
	ifstream <span class="token function">ism</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span> ios<span class="token operator">::</span>in <span class="token operator">|</span> ios<span class="token operator">::</span>binary<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ism<span class="token punctuation">)</span><span class="token punctuation">{</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u6253\u5F00\u5931\u8D25!&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	Person p3<span class="token punctuation">;</span>
	Person p4<span class="token punctuation">;</span>

	ism<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p3<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ism<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p4<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Name:&quot;</span> <span class="token operator">&lt;&lt;</span> p3<span class="token punctuation">.</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; Age:&quot;</span> <span class="token operator">&lt;&lt;</span> p3<span class="token punctuation">.</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Age:&quot;</span> <span class="token operator">&lt;&lt;</span> p4<span class="token punctuation">.</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; Age:&quot;</span> <span class="token operator">&lt;&lt;</span> p4<span class="token punctuation">.</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">//\u5173\u95ED\u6587\u4EF6\u8F93\u5165\u6D41</span>
	ism<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div>`,397);function O(L,F){return I}var R=s(M,[["render",O]]);export{R as default};
