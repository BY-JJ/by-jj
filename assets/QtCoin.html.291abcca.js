import{e as n}from"./app.f5f78651.js";import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";var a="/by-jj/QtCoin/image-20220329192254890.png",p="/by-jj/QtCoin/image-20220329192509731.png",t="/by-jj/QtCoin/image-20220329192525936.png",o="/by-jj/QtCoin/image-20220329192536528.png",e="/by-jj/QtCoin/image-20220329192552364.png",c="/by-jj/QtCoin/image-20220329192603230.png",u="/by-jj/QtCoin/image-20220329192613697.png",l="/by-jj/QtCoin/image-20220329192622398.png",i="/by-jj/QtCoin/image-20220329192630235.png",r="/by-jj/QtCoin/image-20220329192636974.png",k="/by-jj/QtCoin/image-20220329192647613.png",m="/by-jj/QtCoin/image-20220329192702167.png",b="/by-jj/QtCoin/image-20220329192709770.png",d="/by-jj/QtCoin/image-20220329192718338.png",g="/by-jj/QtCoin/image-20220329192724334.png",h="/by-jj/QtCoin/image-20220329192819944.png",f="/by-jj/QtCoin/image-20220329192836789.png",v="/by-jj/QtCoin/image-20220329192842751.png",x="/by-jj/QtCoin/image-20220329192846899.png",y="/by-jj/QtCoin/image-20220329192852535.png",_="/by-jj/QtCoin/image-20220329192902630.png",Q="/by-jj/QtCoin/image-20220329192914099.png",w="/by-jj/QtCoin/image-20220329192920469.png",S="/by-jj/QtCoin/image-20220329192927749.png",q="/by-jj/QtCoin/image-20220329192933931.png",P="/by-jj/QtCoin/image-20220329192946648.png",j="/by-jj/QtCoin/image-20220329192952885.png",C="/by-jj/QtCoin/image-20220329193006780.png",B="/by-jj/QtCoin/image-20220329193014966.png",M="/by-jj/QtCoin/image-20220329193023966.png",A="/by-jj/QtCoin/image-20220329193031908.png",I="/by-jj/QtCoin/image-20220329193038470.png",L="/by-jj/QtCoin/image-20220329193048482.png",E="/by-jj/QtCoin/image-20220329193057694.png",z="/by-jj/QtCoin/image-20220329193103452.png",W="/by-jj/QtCoin/image-20220329193108611.png",F="/by-jj/QtCoin/image-20220329193122520.png",D="/by-jj/QtCoin/image-20220329193148495.png",T="/by-jj/QtCoin/image-20220329193223163.png",X="/by-jj/QtCoin/image-20220329193236230.png",Y="/by-jj/QtCoin/image-20220329193243231.png",V="/by-jj/QtCoin/image-20220329193249859.png",R="/by-jj/QtCoin/image-20220329193258101.png",N="/by-jj/QtCoin/image-20220329193317334.png",O="/by-jj/QtCoin/image-20220329193322786.png";const G={},U=n('<h1 id="_1-\u9879\u76EE\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#_1-\u9879\u76EE\u7B80\u4ECB" aria-hidden="true">#</a> 1.\u9879\u76EE\u7B80\u4ECB</h1><p>\u7FFB\u91D1\u5E01\u9879\u76EE\u662F\u4E00\u6B3E\u7ECF\u5178\u7684\u76CA\u667A\u7C7B\u6E38\u620F\uFF0C\u6211\u4EEC\u9700\u8981\u5C06\u91D1\u5E01\u90FD\u7FFB\u6210\u540C\u8272\uFF0C\u624D\u89C6\u4E3A\u80DC\u5229\u3002\u9996\u5148\uFF0C\u5F00\u59CB\u754C\u9762\u5982\u4E0B\uFF1A</p><p><img src="'+a+'" alt="image-20220329192254890.png"></p><p>\u70B9\u51FBstart\u6309\u94AE\uFF0C\u8FDB\u5165\u4E0B\u5C42\u754C\u9762\uFF0C\u9009\u62E9\u5173\u5361\uFF1A</p><p><img src="'+p+'" alt="image-20220329192509731"></p><p>\u5728\u8FD9\u91CC\u6211\u4EEC\u8BBE\u7ACB\u4E8620\u4E2A\u5173\u5361\u4F9B\u73A9\u5BB6\u9009\u62E9\uFF0C\u5047\u8BBE\u6211\u4EEC\u70B9\u51FB\u4E86\u7B2C1\u5173\uFF0C\u754C\u9762\u5982\u4E0B\uFF1A</p><p><img src="'+t+'" alt="image-20220329192525936"></p><p>\u5982\u679C\u60F3\u8981\u8D62\u53D6\u80DC\u5229\uFF0C\u6211\u4EEC\u9700\u8981\u70B9\u51FB\u4E0A\u56FE\u4E2D\u7EA2\u8272\u65B9\u6846\u9009\u53D6\u7684\u533A\u57DF\uFF0C\u7FFB\u52A8\u5176\u4E0A\u4E0B\u5DE6\u53F3\u7684\u91D1\u5E01\uFF0C\u7136\u540E\u5F53\u6240\u6709\u91D1\u5E01\u90FD\u53D8\u4E3A\u91D1\u8272\uFF0C\u89C6\u4E3A\u80DC\u5229\uFF0C\u80DC\u5229\u754C\u9762\u5982\u4E0B\uFF1A</p><p><img src="'+o+'" alt="image-20220329192536528"></p><h1 id="_2-\u9879\u76EE\u57FA\u672C\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_2-\u9879\u76EE\u57FA\u672C\u914D\u7F6E" aria-hidden="true">#</a> 2.\u9879\u76EE\u57FA\u672C\u914D\u7F6E</h1><h2 id="_2-1-\u521B\u5EFA\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#_2-1-\u521B\u5EFA\u9879\u76EE" aria-hidden="true">#</a> 2.1 \u521B\u5EFA\u9879\u76EE</h2><p>\u6253\u5F00Qt-Creator\uFF0C\u521B\u5EFA\u9879\u76EE\uFF1A\u6CE8\u610F\u540D\u79F0\u4E0D\u8981\u5305\u542B\u7A7A\u683C\u548C\u56DE\u8F66\uFF0C\u8DEF\u5F84\u4E0D\u8981\u6709\u4E2D\u6587</p><p><img src="'+e+'" alt="image-20220329192552364"></p><p>\u7C7B\u4FE1\u606F\u4E2D\uFF0C\u9009\u62E9\u57FA\u7C7B\u4E3AQMainWindow\uFF0C\u7C7B\u540D\u79F0\u4E3A MainScene\uFF0C\u4EE3\u8868\u7740\u4E3B\u573A\u666F\u3002</p><p><img src="'+c+'" alt="image-20220329192603230"></p><p>\u70B9\u51FB\u5B8C\u6210\uFF0C\u521B\u5EFA\u51FA\u9879\u76EE\uFF1A</p><p><img src="'+u+'" alt="image-20220329192613697"></p><p>\u521B\u5EFA\u7684\u9879\u76EE\u7ED3\u6784\u5982\u4E0B\uFF1A</p><p><img src="'+l+'" alt="image-20220329192622398"></p><h2 id="_2-2\u6DFB\u52A0\u8D44\u6E90" tabindex="-1"><a class="header-anchor" href="#_2-2\u6DFB\u52A0\u8D44\u6E90" aria-hidden="true">#</a> 2.2\u6DFB\u52A0\u8D44\u6E90</h2><p>\u5C06\u8D44\u6E90\u6DFB\u52A0\u5230\u5F53\u524D\u9879\u76EE\u4E0B</p><p><img src="'+i+'" alt="image-20220329192630235"></p><p>\u7136\u540E\u521B\u5EFA.qrc\u6587\u4EF6</p><p><img src="'+r+'" alt="image-20220329192636974"></p><p>\u8FDB\u5165\u7F16\u8F91\u6A21\u5F0F\uFF0C\u6DFB\u52A0\u524D\u7F00\u201C/\u201D\uFF0C\u6DFB\u52A0\u6587\u4EF6</p><p><img src="'+k+'" alt="image-20220329192647613"></p><p><img src="'+m+'" alt="image-20220329192702167"></p><p>\u5C06\u6240\u6709\u8D44\u6E90\u6587\u4EF6\u8FDB\u884C\u6DFB\u52A0</p><p><img src="'+b+'" alt="image-20220329192709770"></p><p>\u81F3\u6B64\uFF0C\u6211\u4EEC\u5C06\u6240\u6709\u9700\u8981\u7684\u8D44\u6E90\u6DFB\u52A0\u5230\u4E86\u672C\u9879\u76EE\u4E2D</p><h1 id="_3-\u4E3B\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#_3-\u4E3B\u573A\u666F" aria-hidden="true">#</a> 3.\u4E3B\u573A\u666F</h1><h2 id="_3-1\u8BBE\u7F6E\u6E38\u620F\u4E3B\u573A\u666F\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_3-1\u8BBE\u7F6E\u6E38\u620F\u4E3B\u573A\u666F\u914D\u7F6E" aria-hidden="true">#</a> 3.1\u8BBE\u7F6E\u6E38\u620F\u4E3B\u573A\u666F\u914D\u7F6E</h2><p>\u70B9\u51FBmainscene.ui\uFF0C\u8BBE\u8BA1\u5176\u83DC\u5355\u680F\u5982\u4E0B\uFF1A</p><p><img src="'+d+'" alt="image-20220329192718338"></p><p>\u8BBE\u8BA1\u201C\u9000\u51FA\u201D\u83DC\u5355\u9879\uFF0CobjectName\u4E3AactionQuit\uFF0Ctext\u4E3A\u9000\u51FA\uFF1B</p><p>\u79FB\u9664\u81EA\u5E26\u7684\u5DE5\u5177\u680F\u4E0E\u72B6\u6001\u680F</p><p><img src="'+g+`" alt="image-20220329192724334"></p><p>\u56DE\u5230MainScene.cpp\u6587\u4EF6\u4E2D\uFF0C\u8FDB\u5165\u6784\u9020\u51FD\u6570\uFF0C\u8FDB\u884C\u573A\u666F\u7684\u57FA\u672C\u914D\u7F6E\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u8BBE\u7F6E\u56FA\u5B9A\u5927\u5C0F</span>
this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span><span class="token number">320</span><span class="token punctuation">,</span><span class="token number">588</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u8BBE\u7F6E\u5E94\u7528\u56FE\u7247</span>
this<span class="token operator">-&gt;</span><span class="token function">setWindowIcon</span><span class="token punctuation">(</span><span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Coin0001.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u8BBE\u7F6E\u7A97\u53E3\u6807\u9898</span>
this<span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">&quot;\u7FFB\u91D1\u5E01\u5C0F\u6E38\u620F&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u8FD0\u884C\u6548\u679C\u5982\u56FE\uFF1A</p><p><img src="`+h+`" alt="image-20220329192819944"></p><p>\u5B9E\u73B0\u70B9\u51FB\u5F00\u59CB\uFF0C\u9000\u51FA\u6E38\u620F\u529F\u80FD\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u70B9\u51FB\u9000\u51FA\uFF0C\u9000\u51FA\u7A0B\u5E8F</span>
<span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-&gt;</span>actionQuit<span class="token punctuation">,</span><span class="token operator">&amp;</span>QAction<span class="token operator">::</span>triggered<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>this<span class="token operator">-&gt;</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_3-2\u8BBE\u7F6E\u80CC\u666F\u56FE\u7247" tabindex="-1"><a class="header-anchor" href="#_3-2\u8BBE\u7F6E\u80CC\u666F\u56FE\u7247" aria-hidden="true">#</a> 3.2\u8BBE\u7F6E\u80CC\u666F\u56FE\u7247</h2><p>\u91CD\u5199MainScene\u7684PaintEvent\u4E8B\u4EF6\uFF0C\u5E76\u6DFB\u52A0\u4EE5\u4E0B\u4EE3\u7801\uFF0C\u7ED8\u5236\u80CC\u666F\u56FE\u7247</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> MainScene<span class="token operator">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//\u521B\u5EFA\u753B\u5BB6\uFF0C\u6307\u5B9A\u7ED8\u56FE\u8BBE\u5907</span>
    QPainter <span class="token function">painter</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u521B\u5EFAQPixmap\u5BF9\u8C61</span>
    QPixmap pix<span class="token punctuation">;</span>
    <span class="token comment">//\u52A0\u8F7D\u56FE\u7247</span>
    pix<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/PlayLevelSceneBg.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u7ED8\u5236\u80CC\u666F\u56FE</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">//\u52A0\u8F7D\u6807\u9898</span>
    pix<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Title.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u7F29\u653E\u56FE\u7247</span>
    pix <span class="token operator">=</span> pix<span class="token punctuation">.</span><span class="token function">scaled</span><span class="token punctuation">(</span>pix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u7ED8\u5236\u6807\u9898</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>\u8FD0\u884C\u6548\u679C\u5982\u56FE\uFF1A</p><p><img src="`+f+'" alt="image-20220329192836789"></p><h2 id="_3-3\u521B\u5EFA\u5F00\u59CB\u6309\u94AE" tabindex="-1"><a class="header-anchor" href="#_3-3\u521B\u5EFA\u5F00\u59CB\u6309\u94AE" aria-hidden="true">#</a> 3.3\u521B\u5EFA\u5F00\u59CB\u6309\u94AE</h2><p>\u5F00\u59CB\u6309\u94AE\u70B9\u51FB\u540E\u6709\u5F39\u8DF3\u6548\u679C\uFF0C\u8FD9\u4E2A\u6548\u679C\u662F\u6211\u4EEC\u5229\u7528\u81EA\u5B9A\u4E49\u63A7\u4EF6\u5B9E\u73B0\u7684\uFF08QPushButton\u4E0D\u4F1A\u81EA\u5E26\u8FD9\u7C7B\u7279\u6548\uFF09\uFF0C\u6211\u4EEC\u53EF\u4EE5\u81EA\u5DF1\u5C01\u88C5\u51FA\u4E00\u4E2A\u6309\u94AE\u63A7\u4EF6\uFF0C\u6765\u5B9E\u73B0\u8FD9\u4E9B\u6548\u679C\u3002</p><p>\u521B\u5EFAMyPushButton\uFF0C\u7EE7\u627F\u4E0EQPushButton</p><p><img src="'+v+'" alt="image-20220329192842751"></p><p><img src="'+x+'" alt="image-20220329192846899"></p><p>\u70B9\u51FB\u5B8C\u6210</p><p>\u4FEE\u6539MyPushButton\u7684\u7236\u7C7B</p><p><img src="'+y+`" alt="image-20220329192852535"></p><p>\u63D0\u4F9BMyPushButton\u7684\u6784\u9020\u7684\u91CD\u8F7D\u7248\u672C\uFF0C\u53EF\u4EE5\u8BA9MyPushButton\u63D0\u4F9B\u6B63\u5E38\u663E\u793A\u7684\u56FE\u7247\u4EE5\u53CA\u6309\u4E0B\u540E\u663E\u793A\u7684\u56FE\u7247</p><p>\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//normalImg \u4EE3\u8868\u6B63\u5E38\u663E\u793A\u7684\u56FE\u7247</span>
    <span class="token comment">//pressImg  \u4EE3\u8868\u6309\u4E0B\u540E\u663E\u793A\u7684\u56FE\u7247\uFF0C\u9ED8\u8BA4\u4E3A\u7A7A</span>
    <span class="token function">MyPushButton</span><span class="token punctuation">(</span>QString normalImg<span class="token punctuation">,</span>QString pressImg <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    QString normalImgPath<span class="token punctuation">;</span>  <span class="token comment">//\u9ED8\u8BA4\u663E\u793A\u56FE\u7247\u8DEF\u5F84</span>
    QString pressedImgPath<span class="token punctuation">;</span> <span class="token comment">//\u6309\u4E0B\u540E\u663E\u793A\u56FE\u7247\u8DEF\u5F84</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u5B9E\u73B0\u7684\u91CD\u8F7D\u7248\u672CMyPushButton\u6784\u9020\u51FD\u6570\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>MyPushButton<span class="token operator">::</span><span class="token function">MyPushButton</span><span class="token punctuation">(</span>QString normalImg<span class="token punctuation">,</span>QString pressImg<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//\u6210\u5458\u53D8\u91CFnormalImgPath\u4FDD\u5B58\u6B63\u5E38\u663E\u793A\u56FE\u7247\u8DEF\u5F84</span>
    normalImgPath <span class="token operator">=</span> normalImg<span class="token punctuation">;</span>
    <span class="token comment">//\u6210\u5458\u53D8\u91CFpressedImgPath\u4FDD\u5B58\u6309\u4E0B\u540E\u663E\u793A\u7684\u56FE\u7247</span>
    pressedImgPath <span class="token operator">=</span> pressImg<span class="token punctuation">;</span>
    <span class="token comment">//\u521B\u5EFAQPixmap\u5BF9\u8C61</span>
    QPixmap pixmap<span class="token punctuation">;</span>
    <span class="token comment">//\u5224\u65AD\u662F\u5426\u80FD\u591F\u52A0\u8F7D\u6B63\u5E38\u663E\u793A\u7684\u56FE\u7247\uFF0C\u82E5\u4E0D\u80FD\u63D0\u793A\u52A0\u8F7D\u5931\u8D25</span>
    bool ret <span class="token operator">=</span> pixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>normalImgPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ret<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> normalImg <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u52A0\u8F7D\u56FE\u7247\u5931\u8D25!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//\u8BBE\u7F6E\u56FE\u7247\u7684\u56FA\u5B9A\u5C3A\u5BF8</span>
    this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span> pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u7F6E\u4E0D\u89C4\u5219\u56FE\u7247\u7684\u6837\u5F0F\u8868</span>
    this<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span><span class="token string">&quot;QPushButton{border:0px;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u7F6E\u56FE\u6807</span>
    this<span class="token operator">-&gt;</span><span class="token function">setIcon</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u7F6E\u56FE\u6807\u5927\u5C0F</span>
    this<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>\u56DE\u5230MainScene\u7684\u6784\u9020\u51FD\u6570\u4E2D\uFF0C\u521B\u5EFA\u5F00\u59CB\u6309\u94AE</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u521B\u5EFA\u5F00\u59CB\u6309\u94AE</span>
MyPushButton <span class="token operator">*</span> startBtn <span class="token operator">=</span> new <span class="token function">MyPushButton</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/MenuSceneStartButton.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    startBtn<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    startBtn<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token operator">-</span>startBtn<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u8FD0\u884C\u6548\u679C\u5982\u56FE\uFF1A</p><p><img src="`+_+`" alt="image-20220329192902630"></p><p>\u4E0D\u89C4\u5219\u7684\u5F00\u59CB\u6309\u94AE\u6DFB\u52A0\u5B8C\u6210</p><h2 id="_3-4\u5F00\u59CB\u6309\u94AE\u8DF3\u8DC3\u7279\u6548\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_3-4\u5F00\u59CB\u6309\u94AE\u8DF3\u8DC3\u7279\u6548\u5B9E\u73B0" aria-hidden="true">#</a> 3.4\u5F00\u59CB\u6309\u94AE\u8DF3\u8DC3\u7279\u6548\u5B9E\u73B0</h2><p>\u8FDE\u63A5\u4FE1\u53F7\u69FD\uFF0C\u76D1\u542C\u5F00\u59CB\u6309\u94AE\u70B9\u51FB</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u76D1\u542C\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u6267\u884C\u7279\u6548</span>
   <span class="token function">connect</span><span class="token punctuation">(</span>startBtn<span class="token punctuation">,</span><span class="token operator">&amp;</span>MyPushButton<span class="token operator">::</span>clicked<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       startBtn<span class="token operator">-&gt;</span><span class="token function">zoom1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5411\u4E0B\u8DF3\u8DC3</span>
       startBtn<span class="token operator">-&gt;</span><span class="token function">zoom2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5411\u4E0A\u8DF3\u8DC3</span>
     
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>zoom1\u4E0Ezoom2 \u4E3AMyPushButton\u4E2D\u6269\u5C55\u7684\u7279\u6548\u4EE3\u7801\uFF0C\u5177\u4F53\u5982\u4E0B:</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> MyPushButton<span class="token operator">::</span><span class="token function">zoom1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//\u521B\u5EFA\u52A8\u753B\u5BF9\u8C61</span>
    QPropertyAnimation <span class="token operator">*</span> animation1 <span class="token operator">=</span> new <span class="token function">QPropertyAnimation</span><span class="token punctuation">(</span>this<span class="token punctuation">,</span><span class="token string">&quot;geometry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u7F6E\u65F6\u95F4\u95F4\u9694\uFF0C\u5355\u4F4D\u6BEB\u79D2</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">setDuration</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u521B\u5EFA\u8D77\u59CB\u4F4D\u7F6E</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">setStartValue</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u521B\u5EFA\u7ED3\u675F\u4F4D\u7F6E</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">setEndValue</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u7F6E\u7F13\u548C\u66F2\u7EBF\uFF0CQEasingCurve::OutBounce \u4E3A\u5F39\u8DF3\u6548\u679C    animation1-&gt;setEasingCurve(QEasingCurve::OutBounce);</span>
    <span class="token comment">//\u5F00\u59CB\u6267\u884C\u52A8\u753B</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">start</span><span class="token punctuation">(</span>QAbstractAnimation<span class="token operator">::</span>DeleteWhenStopped<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MyPushButton<span class="token operator">::</span><span class="token function">zoom2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    QPropertyAnimation <span class="token operator">*</span> animation1 <span class="token operator">=</span>  new <span class="token function">QPropertyAnimation</span><span class="token punctuation">(</span>this<span class="token punctuation">,</span><span class="token string">&quot;geometry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">setDuration</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">setStartValue</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">setEndValue</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">setEasingCurve</span><span class="token punctuation">(</span>QEasingCurve<span class="token operator">::</span>OutBounce<span class="token punctuation">)</span><span class="token punctuation">;</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">start</span><span class="token punctuation">(</span>QAbstractAnimation<span class="token operator">::</span>DeleteWhenStopped<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>\u8FD0\u884C\u4EE3\u7801\uFF0C\u70B9\u51FB\u6309\u94AE\uFF0C\u6D4B\u8BD5\u5F39\u8DF3\u6548\u679C</p><h2 id="_3-5\u521B\u5EFA\u9009\u62E9\u5173\u5361\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#_3-5\u521B\u5EFA\u9009\u62E9\u5173\u5361\u573A\u666F" aria-hidden="true">#</a> 3.5\u521B\u5EFA\u9009\u62E9\u5173\u5361\u573A\u666F</h2><p>\u70B9\u51FB\u5F00\u59CB\u6309\u94AE\u540E\uFF0C\u8FDB\u5165\u9009\u62E9\u5173\u5361\u573A\u666F\u3002</p><p>\u9996\u5148\u6211\u4EEC\u5148\u521B\u5EFA\u9009\u62E9\u5173\u5361\u573A\u666F\uFF0C\u6DFB\u52A0\u65B0\u7684C++\u6587\u4EF6</p><p><img src="`+Q+'" alt="image-20220329192914099"></p><p><img src="'+w+`" alt="image-20220329192920469"></p><p>\u7C7B\u540D\u4E3AChooseLevelScene \u9009\u62E9\u57FA\u7C7B\u4E3AQMainWindow\uFF0C\u70B9\u51FB\u4E0B\u4E00\u6B65\uFF0C\u7136\u540E\u70B9\u51FB\u5B8C\u6210\u3002</p><h2 id="_3-6\u70B9\u51FB\u5F00\u59CB\u6309\u94AE\u8FDB\u5165\u9009\u62E9\u5173\u5361\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#_3-6\u70B9\u51FB\u5F00\u59CB\u6309\u94AE\u8FDB\u5165\u9009\u62E9\u5173\u5361\u573A\u666F" aria-hidden="true">#</a> 3.6\u70B9\u51FB\u5F00\u59CB\u6309\u94AE\u8FDB\u5165\u9009\u62E9\u5173\u5361\u573A\u666F</h2><p>\u76EE\u524D\u70B9\u51FB\u4E3B\u573A\u666F\u7684\u5F00\u59CB\u6309\u94AE\uFF0C\u53EA\u6709\u5F39\u8DF3\u7279\u6548\uFF0C\u4F46\u662F\u6211\u4EEC\u8FD8\u9700\u8981\u6709\u529F\u80FD\u4E0A\u7684\u5B9E\u73B0\uFF0C\u7279\u6548\u7ED3\u675F\u540E\uFF0C\u6211\u4EEC\u5E94\u8BE5\u8FDB\u5165\u9009\u62E9\u5173\u5361\u573A\u666F</p><p>\u5728MainScene.h\u4E2D \u4FDD\u5B58ChooseScene\u9009\u62E9\u5173\u5361\u573A\u666F\u5BF9\u8C61</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u9009\u62E9\u5173\u5361\u573A\u666F</span>
    ChooseLevelScene <span class="token operator">*</span>chooseScene <span class="token operator">=</span> new ChooseLevelScene<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5728zoom1\u548Czoom2\u7279\u6548\u540E\uFF0C\u5EF6\u65F60.5\u79D2\uFF0C\u8FDB\u5165\u9009\u62E9\u5173\u5361\u573A\u666F\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u5EF6\u65F60.5\u79D2\u540E \u8FDB\u5165\u9009\u62E9\u573A\u666F</span>
        QTimer<span class="token operator">::</span><span class="token function">singleShot</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> this<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            this<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            chooseScene<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="`+S+`" alt="image-20220329192927749"></p><p>\u6D4B\u8BD5\u70B9\u51FB\u5F00\u59CB\uFF0C\u6267\u884C\u7279\u6548\u540E\u5EF6\u65F60.5\u79D2\u8FDB\u5165\u9009\u62E9\u5173\u5361\u573A\u666F</p><h1 id="_4-\u9009\u62E9\u5173\u5361\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#_4-\u9009\u62E9\u5173\u5361\u573A\u666F" aria-hidden="true">#</a> 4.\u9009\u62E9\u5173\u5361\u573A\u666F</h1><h2 id="_4-1\u573A\u666F\u57FA\u672C\u8BBE\u7F6E" tabindex="-1"><a class="header-anchor" href="#_4-1\u573A\u666F\u57FA\u672C\u8BBE\u7F6E" aria-hidden="true">#</a> 4.1\u573A\u666F\u57FA\u672C\u8BBE\u7F6E</h2><p>\u9009\u62E9\u5173\u5361\u6784\u9020\u51FD\u6570\u5982\u4E0B\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u8BBE\u7F6E\u7A97\u53E3\u56FA\u5B9A\u5927\u5C0F</span>
    this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span><span class="token number">320</span><span class="token punctuation">,</span><span class="token number">588</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u7F6E\u56FE\u6807</span>
    this<span class="token operator">-&gt;</span><span class="token function">setWindowIcon</span><span class="token punctuation">(</span><span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Coin0001.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u7F6E\u6807\u9898</span>
    this<span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">&quot;\u9009\u62E9\u5173\u5361&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u521B\u5EFA\u83DC\u5355\u680F</span>
    QMenuBar <span class="token operator">*</span> bar <span class="token operator">=</span> this<span class="token operator">-&gt;</span><span class="token function">menuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    this<span class="token operator">-&gt;</span><span class="token function">setMenuBar</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u521B\u5EFA\u5F00\u59CB\u83DC\u5355</span>
    QMenu <span class="token operator">*</span> startMenu <span class="token operator">=</span> bar<span class="token operator">-&gt;</span><span class="token function">addMenu</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F00\u59CB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u521B\u5EFA\u6309\u94AE\u83DC\u5355\u9879</span>
    QAction <span class="token operator">*</span> quitAction <span class="token operator">=</span> startMenu<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">&quot;\u9000\u51FA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u70B9\u51FB\u9000\u51FA \u9000\u51FA\u6E38\u620F</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>quitAction<span class="token punctuation">,</span><span class="token operator">&amp;</span>QAction<span class="token operator">::</span>triggered<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>this<span class="token operator">-&gt;</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>\u8FD0\u884C\u6548\u679C\u5982\u56FE\uFF1A</p><p><img src="`+q+`" alt="image-20220329192933931"></p><h2 id="_4-2-\u80CC\u666F\u8BBE\u7F6E" tabindex="-1"><a class="header-anchor" href="#_4-2-\u80CC\u666F\u8BBE\u7F6E" aria-hidden="true">#</a> 4.2 \u80CC\u666F\u8BBE\u7F6E</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> ChooseLevelScene<span class="token operator">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    QPainter <span class="token function">painter</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    QPixmap pix<span class="token punctuation">;</span>
    pix<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/OtherSceneBg.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token comment">//\u52A0\u8F7D\u6807\u9898</span>
    pix<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Title.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_4-3-\u521B\u5EFA\u8FD4\u56DE\u6309\u94AE" tabindex="-1"><a class="header-anchor" href="#_4-3-\u521B\u5EFA\u8FD4\u56DE\u6309\u94AE" aria-hidden="true">#</a> 4.3 \u521B\u5EFA\u8FD4\u56DE\u6309\u94AE</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u8FD4\u56DE\u6309\u94AE</span>
    MyPushButton <span class="token operator">*</span> closeBtn <span class="token operator">=</span> new <span class="token function">MyPushButton</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/BackButton.png&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;:/res/BackButtonSelected.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    closeBtn<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    closeBtn<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>closeBtn<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>closeBtn<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u8FD4\u56DE\u6309\u94AE\u662F\u6709\u6B63\u5E38\u663E\u793A\u56FE\u7247\u548C\u70B9\u51FB\u540E\u663E\u793A\u56FE\u7247\u7684\u4E24\u79CD\u6A21\u5F0F\uFF0C\u6240\u4EE5\u6211\u4EEC\u9700\u8981\u91CD\u5199MyPushButton\u4E2D\u7684 MousePressEvent\u548CMouseReleaseEvent</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u9F20\u6807\u4E8B\u4EF6</span>
<span class="token keyword">void</span> MyPushButton<span class="token operator">::</span><span class="token function">mousePressEvent</span><span class="token punctuation">(</span>QMouseEvent <span class="token operator">*</span>e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pressedImgPath <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token comment">//\u9009\u4E2D\u8DEF\u5F84\u4E0D\u4E3A\u7A7A\uFF0C\u663E\u793A\u9009\u4E2D\u56FE\u7247</span>
    <span class="token punctuation">{</span>
        QPixmap pixmap<span class="token punctuation">;</span>
        bool ret <span class="token operator">=</span> pixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>pressedImgPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ret<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> pressedImgPath <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u52A0\u8F7D\u56FE\u7247\u5931\u8D25!&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span> pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span><span class="token string">&quot;QPushButton{border:0px;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIcon</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//\u4EA4\u7ED9\u7236\u7C7B\u6267\u884C\u6309\u4E0B\u4E8B\u4EF6</span>
    <span class="token keyword">return</span> QPushButton<span class="token operator">::</span><span class="token function">mousePressEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> MyPushButton<span class="token operator">::</span><span class="token function">mouseReleaseEvent</span><span class="token punctuation">(</span>QMouseEvent <span class="token operator">*</span>e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>normalImgPath <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token comment">//\u9009\u4E2D\u8DEF\u5F84\u4E0D\u4E3A\u7A7A\uFF0C\u663E\u793A\u9009\u4E2D\u56FE\u7247</span>
    <span class="token punctuation">{</span>
        QPixmap pixmap<span class="token punctuation">;</span>
        bool ret <span class="token operator">=</span> pixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>normalImgPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ret<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> normalImgPath <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u52A0\u8F7D\u56FE\u7247\u5931\u8D25!&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span> pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span><span class="token string">&quot;QPushButton{border:0px;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIcon</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//\u4EA4\u7ED9\u7236\u7C7B\u6267\u884C \u91CA\u653E\u4E8B\u4EF6</span>
    <span class="token keyword">return</span> QPushButton<span class="token operator">::</span><span class="token function">mouseReleaseEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h2 id="_4-4-\u8FD4\u56DE\u6309\u94AE" tabindex="-1"><a class="header-anchor" href="#_4-4-\u8FD4\u56DE\u6309\u94AE" aria-hidden="true">#</a> 4.4 \u8FD4\u56DE\u6309\u94AE</h2><p>\u5728\u8FD9\u91CC\u70B9\u51FB\u8FD4\u56DE\u540E\uFF0C\u5EF6\u65F60.5\u540E\u9690\u85CF\u81EA\u8EAB\uFF0C\u5E76\u4E14\u53D1\u9001\u81EA\u5B9A\u4E49\u4FE1\u53F7\uFF0C\u544A\u8BC9\u5916\u754C\u81EA\u8EAB\u5DF2\u7ECF\u9009\u62E9\u4E86\u8FD4\u56DE\u6309\u94AE\u3002</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u8FD4\u56DE\u6309\u94AE\u529F\u80FD\u5B9E\u73B0</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>closeBtn<span class="token punctuation">,</span><span class="token operator">&amp;</span>MyPushButton<span class="token operator">::</span>clicked<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        QTimer<span class="token operator">::</span><span class="token function">singleShot</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> this<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            this<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//\u89E6\u53D1\u81EA\u5B9A\u4E49\u4FE1\u53F7\uFF0C\u5173\u95ED\u81EA\u8EAB\uFF0C\u8BE5\u4FE1\u53F7\u5199\u5230 signals\u4E0B\u505A\u58F0\u660E</span>
            emit this<span class="token operator">-&gt;</span><span class="token function">chooseSceneBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u5728\u4E3B\u573A\u666FMainScene\u4E2D \u70B9\u51FB\u5F00\u59CB\u6309\u94AE\u663E\u793A\u9009\u62E9\u5173\u5361\u7684\u540C\u65F6\uFF0C\u76D1\u542C\u9009\u62E9\u5173\u5361\u7684\u8FD4\u56DE\u6309\u94AE\u6D88\u606F</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u76D1\u542C\u9009\u62E9\u573A\u666F\u7684\u8FD4\u56DE\u6309\u94AE    </span>
<span class="token function">connect</span><span class="token punctuation">(</span>chooseScene<span class="token punctuation">,</span><span class="token operator">&amp;</span>ChooseLevelScene<span class="token operator">::</span>chooseSceneBack<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		chooseScene <span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                this<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u6D4B\u8BD5\u4E3B\u573A\u666F\u4E0E\u9009\u62E9\u5173\u5361\u573A\u666F\u7684\u5207\u6362\u529F\u80FD\u3002</p><h2 id="_4-5\u521B\u5EFA\u9009\u62E9\u5173\u5361\u6309\u94AE" tabindex="-1"><a class="header-anchor" href="#_4-5\u521B\u5EFA\u9009\u62E9\u5173\u5361\u6309\u94AE" aria-hidden="true">#</a> 4.5\u521B\u5EFA\u9009\u62E9\u5173\u5361\u6309\u94AE</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u521B\u5EFA\u5173\u5361\u6309\u94AE</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        MyPushButton <span class="token operator">*</span> menuBtn <span class="token operator">=</span> new <span class="token function">MyPushButton</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/LevelIcon.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        menuBtn<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
        menuBtn<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">25</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token operator">%</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">70</span> <span class="token punctuation">,</span> <span class="token number">130</span><span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//\u6309\u94AE\u4E0A\u663E\u793A\u7684\u6587\u5B57</span>
        QLabel <span class="token operator">*</span> label <span class="token operator">=</span> new QLabel<span class="token punctuation">;</span>
        label<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
        label<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span>menuBtn<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>menuBtn<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        label<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">number</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        label<span class="token operator">-&gt;</span><span class="token function">setAlignment</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>AlignHCenter <span class="token operator">|</span> Qt<span class="token operator">::</span>AlignVCenter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6E\u5C45\u4E2D</span>
        label<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">25</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token operator">%</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">70</span> <span class="token punctuation">,</span> <span class="token number">130</span><span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        label<span class="token operator">-&gt;</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>WA_TransparentForMouseEvents<span class="token punctuation">,</span>true<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//\u9F20\u6807\u4E8B\u4EF6\u7A7F\u900F</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>\u8FD0\u884C\u6548\u679C\u5982\u56FE\uFF1A</p><p><img src="`+P+'" alt="image-20220329192946648"></p><h2 id="_4-6\u521B\u5EFA\u7FFB\u91D1\u5E01\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#_4-6\u521B\u5EFA\u7FFB\u91D1\u5E01\u573A\u666F" aria-hidden="true">#</a> 4.6\u521B\u5EFA\u7FFB\u91D1\u5E01\u573A\u666F</h2><p>\u70B9\u51FB\u5173\u5361\u6309\u94AE\u540E\uFF0C\u4F1A\u8FDB\u5165\u6E38\u620F\u7684\u6838\u5FC3\u573A\u666F\uFF0C\u4E5F\u5C31\u662F\u7FFB\u91D1\u5E01\u7684\u573A\u666F\uFF0C\u9996\u5148\u5148\u521B\u5EFA\u51FA\u8BE5\u573A\u666F\u7684.h\u548C.cpp\u6587\u4EF6</p><p>\u521B\u5EFAPlayScene</p><p><img src="'+j+`" alt="image-20220329192952885"></p><p>\u70B9\u51FB\u9009\u62E9\u5173\u5361\u6309\u94AE\u540E\u4F1A\u8DF3\u5165\u5230\u8BE5\u573A\u666F</p><p>\u5EFA\u7ACB\u70B9\u51FB\u6309\u94AE\uFF0C\u8DF3\u8F6C\u573A\u666F\u7684\u4FE1\u53F7\u69FD\u8FDE\u63A5</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>\u5728ChooseLevelScene<span class="token punctuation">.</span>h \u4E2D\u58F0\u660E
PlayScene <span class="token operator">*</span>pScene <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u76D1\u542C\u9009\u62E9\u5173\u5361\u6309\u94AE\u7684\u4FE1\u53F7\u69FD</span>
        <span class="token function">connect</span><span class="token punctuation">(</span>menuBtn<span class="token punctuation">,</span><span class="token operator">&amp;</span>MyPushButton<span class="token operator">::</span>clicked<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token comment">// qDebug() &lt;&lt; &quot;select: &quot; &lt;&lt; i;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>pScene <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>  <span class="token comment">//\u6E38\u620F\u573A\u666F\u6700\u597D\u4E0D\u7528\u590D\u7528\uFF0C\u76F4\u63A5\u79FB\u9664\u6389\u521B\u5EFA\u65B0\u7684\u573A\u666F</span>
            <span class="token punctuation">{</span>
                this<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                pScene <span class="token operator">=</span> new <span class="token function">PlayScene</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5C06\u9009\u62E9\u7684\u5173\u5361\u53F7 \u4F20\u5165\u7ED9PlayerScene</span>
                pScene<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u8FD9\u91CCpScene = new PlayScene(i+1); \u5C06\u7528\u6237\u6240\u9009\u7684\u5173\u5361\u53F7\u53D1\u9001\u7ED9pScene\uFF0C\u4E5F\u5C31\u662F\u7FFB\u91D1\u5E01\u573A\u666F\uFF0C\u5F53\u7136PlayScene \u8981\u63D0\u4F9B\u91CD\u8F7D\u7684\u6709\u53C2\u6784\u9020\u7248\u672C\uFF0C\u6765\u63A5\u53D7\u8FD9\u4E2A\u53C2\u6570</p><h1 id="_5-\u7FFB\u91D1\u5E01\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#_5-\u7FFB\u91D1\u5E01\u573A\u666F" aria-hidden="true">#</a> 5.\u7FFB\u91D1\u5E01\u573A\u666F</h1><h2 id="_5-1-\u573A\u666F\u57FA\u672C\u8BBE\u7F6E" tabindex="-1"><a class="header-anchor" href="#_5-1-\u573A\u666F\u57FA\u672C\u8BBE\u7F6E" aria-hidden="true">#</a> 5.1 \u573A\u666F\u57FA\u672C\u8BBE\u7F6E</h2><p>PlayScene.h\u4E2D \u58F0\u660E\u6210\u5458\u53D8\u91CF\uFF0C\u7528\u4E8E\u8BB0\u5F55\u5F53\u524D\u7528\u6237\u9009\u62E9\u7684\u5173\u5361</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u6210\u5458\u53D8\u91CF \u8BB0\u5F55\u5173\u5361\u7D22\u5F15</span>
<span class="token keyword">int</span> levalIndex<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>PlayScene.cpp\u4E2D \u521D\u59CB\u5316\u8BE5\u573A\u666F\u914D\u7F6E</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>PlayScene<span class="token operator">::</span><span class="token function">PlayScene</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//qDebug() &lt;&lt; &quot;\u5F53\u524D\u5173\u5361\u4E3A&quot;&lt;&lt; index;</span>
    this<span class="token operator">-&gt;</span>levalIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u7F6E\u7A97\u53E3\u56FA\u5B9A\u5927\u5C0F</span>
    this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span><span class="token number">320</span><span class="token punctuation">,</span><span class="token number">588</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u7F6E\u56FE\u6807</span>
    this<span class="token operator">-&gt;</span><span class="token function">setWindowIcon</span><span class="token punctuation">(</span><span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Coin0001.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u7F6E\u6807\u9898</span>
    this<span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">&quot;\u7FFB\u91D1\u5E01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u521B\u5EFA\u83DC\u5355\u680F</span>
    QMenuBar <span class="token operator">*</span> bar <span class="token operator">=</span> this<span class="token operator">-&gt;</span><span class="token function">menuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    this<span class="token operator">-&gt;</span><span class="token function">setMenuBar</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u521B\u5EFA\u5F00\u59CB\u83DC\u5355</span>
    QMenu <span class="token operator">*</span> startMenu <span class="token operator">=</span> bar<span class="token operator">-&gt;</span><span class="token function">addMenu</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F00\u59CB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u521B\u5EFA\u6309\u94AE\u83DC\u5355\u9879</span>
    QAction <span class="token operator">*</span> quitAction <span class="token operator">=</span> startMenu<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">&quot;\u9000\u51FA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u70B9\u51FB\u9000\u51FA \u9000\u51FA\u6E38\u620F</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>quitAction<span class="token punctuation">,</span><span class="token operator">&amp;</span>QAction<span class="token operator">::</span>triggered<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>this<span class="token operator">-&gt;</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="_5-2\u80CC\u666F\u8BBE\u7F6E" tabindex="-1"><a class="header-anchor" href="#_5-2\u80CC\u666F\u8BBE\u7F6E" aria-hidden="true">#</a> 5.2\u80CC\u666F\u8BBE\u7F6E</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> PlayScene<span class="token operator">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//\u52A0\u8F7D\u80CC\u666F</span>
    QPainter <span class="token function">painter</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    QPixmap pix<span class="token punctuation">;</span>
    pix<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/PlayLevelSceneBg.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u52A0\u8F7D\u6807\u9898</span>
    pix<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Title.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pix <span class="token operator">=</span> pix<span class="token punctuation">.</span><span class="token function">scaled</span><span class="token punctuation">(</span>pix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_5-3\u8FD4\u56DE\u6309\u94AE" tabindex="-1"><a class="header-anchor" href="#_5-3\u8FD4\u56DE\u6309\u94AE" aria-hidden="true">#</a> 5.3\u8FD4\u56DE\u6309\u94AE</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>  <span class="token comment">//\u8FD4\u56DE\u6309\u94AE</span>
    MyPushButton <span class="token operator">*</span> closeBtn <span class="token operator">=</span> new <span class="token function">MyPushButton</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/BackButton.png&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;:/res/BackButtonSelected.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    closeBtn<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    closeBtn<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>closeBtn<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>closeBtn<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u8FD4\u56DE\u6309\u94AE\u529F\u80FD\u5B9E\u73B0</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>closeBtn<span class="token punctuation">,</span><span class="token operator">&amp;</span>MyPushButton<span class="token operator">::</span>clicked<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        QTimer<span class="token operator">::</span><span class="token function">singleShot</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> this<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            this<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//\u89E6\u53D1\u81EA\u5B9A\u4E49\u4FE1\u53F7\uFF0C\u5173\u95ED\u81EA\u8EAB\uFF0C\u8BE5\u4FE1\u53F7\u5199\u5230 signals\u4E0B\u505A\u58F0\u660E</span>
            emit this<span class="token operator">-&gt;</span><span class="token function">chooseSceneBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_5-4\u5728choosescene\u9009\u62E9\u5173\u5361\u573A\u666F\u4E2D-\u76D1\u542Cplayscene\u7684\u8FD4\u56DE\u4FE1\u53F7" tabindex="-1"><a class="header-anchor" href="#_5-4\u5728choosescene\u9009\u62E9\u5173\u5361\u573A\u666F\u4E2D-\u76D1\u542Cplayscene\u7684\u8FD4\u56DE\u4FE1\u53F7" aria-hidden="true">#</a> 5.4\u5728ChooseScene\u9009\u62E9\u5173\u5361\u573A\u666F\u4E2D\uFF0C\u76D1\u542CPlayScene\u7684\u8FD4\u56DE\u4FE1\u53F7</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token function">connect</span><span class="token punctuation">(</span>pScene<span class="token punctuation">,</span><span class="token operator">&amp;</span>PlayScene<span class="token operator">::</span>chooseSceneBack<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    this<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    delete pScene<span class="token punctuation">;</span>
                    pScene <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="`+C+`" alt="image-20220329193006780"></p><h2 id="_5-5-\u663E\u793A\u5F53\u524D\u5173\u5361" tabindex="-1"><a class="header-anchor" href="#_5-5-\u663E\u793A\u5F53\u524D\u5173\u5361" aria-hidden="true">#</a> 5.5 \u663E\u793A\u5F53\u524D\u5173\u5361</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u5F53\u524D\u5173\u5361\u6807\u9898</span>
    QLabel <span class="token operator">*</span> label <span class="token operator">=</span> new QLabel<span class="token punctuation">;</span>
    label<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    QFont font<span class="token punctuation">;</span>
    font<span class="token punctuation">.</span><span class="token function">setFamily</span><span class="token punctuation">(</span><span class="token string">&quot;\u534E\u6587\u65B0\u9B4F&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    font<span class="token punctuation">.</span><span class="token function">setPointSize</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    label<span class="token operator">-&gt;</span><span class="token function">setFont</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span>
    QString str <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">&quot;Leavel: %1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>levalIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
label<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	label<span class="token operator">-&gt;</span><span class="token function">setGeometry</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">50</span><span class="token punctuation">,</span> this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">50</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        label<span class="token operator">-&gt;</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>WA_TransparentForMouseEvents<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u5047\u8BBE\u6211\u4EEC\u9009\u62E9\u4E86\u7B2C15\u5173\u5361\uFF0C\u8FD0\u884C\u6548\u679C\u5982\u679C\uFF1A</p><p><img src="`+B+`" alt="image-20220329193014966"></p><h2 id="_5-6\u521B\u5EFA\u91D1\u5E01\u80CC\u666F\u56FE\u7247" tabindex="-1"><a class="header-anchor" href="#_5-6\u521B\u5EFA\u91D1\u5E01\u80CC\u666F\u56FE\u7247" aria-hidden="true">#</a> 5.6\u521B\u5EFA\u91D1\u5E01\u80CC\u666F\u56FE\u7247</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code> <span class="token comment">//\u521B\u5EFA\u91D1\u5E01\u7684\u80CC\u666F\u56FE\u7247</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
           <span class="token comment">//\u7ED8\u5236\u80CC\u666F\u56FE\u7247</span>
            QLabel<span class="token operator">*</span> label <span class="token operator">=</span> new QLabel<span class="token punctuation">;</span>
            label<span class="token operator">-&gt;</span><span class="token function">setGeometry</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            label<span class="token operator">-&gt;</span><span class="token function">setPixmap</span><span class="token punctuation">(</span><span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/BoardNode.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            label<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
            label<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">57</span> <span class="token operator">+</span> i<span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token operator">+</span>j<span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u8FD0\u884C\u6548\u679C\u5982\u56FE\uFF1A</p><p><img src="`+M+'" alt="image-20220329193023966"></p><h2 id="_5-7-\u521B\u5EFA\u91D1\u5E01\u7C7B" tabindex="-1"><a class="header-anchor" href="#_5-7-\u521B\u5EFA\u91D1\u5E01\u7C7B" aria-hidden="true">#</a> 5.7 \u521B\u5EFA\u91D1\u5E01\u7C7B</h2><p>\u91D1\u5E01\u662F\u672C\u6E38\u620F\u7684\u6838\u5FC3\u5BF9\u8C61\uFF0C\u5E76\u4E14\u5728\u6E38\u620F\u4E2D\u53EF\u4EE5\u5229\u7528\u4E8C\u7EF4\u6570\u7EC4\u8FDB\u884C\u7EF4\u62A4\uFF0C\u62E5\u6709\u652F\u6301\u70B9\u51FB\uFF0C\u7FFB\u8F6C\u7279\u6548\u7B49\u7279\u6B8A\u6027\uFF0C\u56E0\u6B64\u4E0D\u59A8\u5C06\u91D1\u5E01\u5355\u72EC\u5C01\u88C5\u5230\u4E00\u4E2A\u7C7B\u4E2D\uFF0C\u5B8C\u6210\u91D1\u5E01\u6240\u9700\u7684\u6240\u6709\u529F\u80FD\u3002</p><h3 id="_5-7-1-\u521B\u5EFA\u91D1\u5E01\u7C7Bmycoin" tabindex="-1"><a class="header-anchor" href="#_5-7-1-\u521B\u5EFA\u91D1\u5E01\u7C7Bmycoin" aria-hidden="true">#</a> 5.7.1 \u521B\u5EFA\u91D1\u5E01\u7C7BMyCoin</h3><p><img src="'+A+'" alt="image-20220329193031908"></p><p>\u5E76\u4FEE\u6539MyCoin\u7684\u57FA\u7C7B\u4E3AQPushButton</p><h3 id="_5-7-2-\u6784\u9020\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#_5-7-2-\u6784\u9020\u51FD\u6570" aria-hidden="true">#</a> 5.7.2 \u6784\u9020\u51FD\u6570</h3><p>\u5728\u8D44\u6E90\u56FE\u7247\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\uFF0C\u91D1\u5E01\u7FFB\u8F6C\u7684\u6548\u679C\u539F\u7406\u662F\u591A\u5F20\u56FE\u7247\u5207\u6362\u800C\u5F62\u6210\u7684\uFF0C\u800C\u4EE5\u4E0B\u516B\u5F20\u56FE\u7247\u4E2D\uFF0C\u7B2C\u4E00\u5F20\u4E0E\u6700\u540E\u4E00\u5F20\u6BD4\u8F83\u7279\u6B8A\uFF0C\u56E0\u6B64\u6211\u4EEC\u5728\u7ED9\u7528\u6237\u770B\u7684\u65F6\u5019\uFF0C\u65E0\u975E\u662F\u91D1\u5E01Coin0001\u6216\u8005\u662F\u94F6\u5E01 Coin0008\u8FD9\u4E24\u79CD\u56FE\u3002</p><p>\u200B \u56E0\u6B64\u6211\u4EEC\u5728\u521B\u5EFA\u4E00\u4E2A\u91D1\u5E01\u5BF9\u8C61\u65F6\u5019\uFF0C\u5E94\u8BE5\u63D0\u4F9B\u4E00\u4E2A\u53C2\u6570\uFF0C\u4EE3\u8868\u7740\u4F20\u5165\u7684\u662F\u91D1\u5E01\u8D44\u6E90\u8DEF\u5F84\u8FD8\u662F\u94F6\u5E01\u8D44\u6E90\u8DEF\u5F84\uFF0C\u6839\u636E\u8DEF\u5F84\u6211\u4EEC\u521B\u5EFA\u4E0D\u540C\u6837\u5F0F\u7684\u56FE\u6848\u3002</p><p><img src="'+I+`" alt="image-20220329193038470"></p><p>\u5728MyCoin.h\u4E2D\u58F0\u660E\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token function">MyCoin</span><span class="token punctuation">(</span>QString butImg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u4EE3\u8868\u56FE\u7247\u8DEF\u5F84</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5728MyCoin.cpp\u4E2D\u8FDB\u884C\u5B9E\u73B0</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>MyCoin<span class="token operator">::</span><span class="token function">MyCoin</span><span class="token punctuation">(</span>QString butImg<span class="token punctuation">)</span>
<span class="token punctuation">{</span>

    QPixmap pixmap<span class="token punctuation">;</span>
    bool ret <span class="token operator">=</span> pixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>butImg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ret<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> butImg <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u52A0\u8F7D\u56FE\u7247\u5931\u8D25!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span> pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    this<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span><span class="token string">&quot;QPushButton{border:0px;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    this<span class="token operator">-&gt;</span><span class="token function">setIcon</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    this<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_5-7-3\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#_5-7-3\u6D4B\u8BD5" aria-hidden="true">#</a> 5.7.3\u6D4B\u8BD5</h3><p>\u5728\u7FFB\u91D1\u5E01\u573A\u666F PlayScene\u4E2D\uFF0C\u6211\u4EEC\u6D4B\u8BD5\u4E0B\u5C01\u88C5\u7684\u91D1\u5E01\u7C7B\u662F\u5426\u53EF\u7528\uFF0C\u53EF\u4EE5\u5728\u521B\u5EFA\u597D\u7684\u91D1\u5E01\u80CC\u666F\u4EE3\u7801\u540E\uFF0C\u6DFB\u52A0\u5982\u4E0B\u4EE3\u7801\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u91D1\u5E01\u5BF9\u8C61</span>
            MyCoin <span class="token operator">*</span> coin <span class="token operator">=</span> new <span class="token function">MyCoin</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Coin0001.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            coin<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
            coin<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">59</span> <span class="token operator">+</span> i<span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">204</span><span class="token operator">+</span>j<span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u8FD0\u884C\u6548\u679C\u5982\u56FE</p><p><img src="`+L+'" alt="image-20220329193048482"></p><h2 id="_5-8\u5F15\u5165\u5173\u5361\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_5-8\u5F15\u5165\u5173\u5361\u6570\u636E" aria-hidden="true">#</a> 5.8\u5F15\u5165\u5173\u5361\u6570\u636E</h2><p>\u4E0A\u8FF0\u7684\u6D4B\u8BD5\u53EA\u662F\u4E3A\u4E86\u8BA9\u6211\u4EEC\u77E5\u9053\u63D0\u4F9B\u7684\u5BF9\u5916\u63A5\u53E3\u53EF\u884C\uFF0C\u4F46\u662F\u6BCF\u4E2A\u5173\u5361\u7684\u521D\u59CB\u5316\u754C\u9762\u5E76\u975E\u5982\u6B64\uFF0C\u56E0\u6B64\u9700\u8981\u6211\u4EEC\u5F15\u7528\u4E00\u4E2A\u73B0\u6709\u7684\u5173\u5361\u6587\u4EF6\uFF0C\u6587\u4EF6\u4E2D\u8BB0\u5F55\u4E86\u5404\u4E2A\u5173\u5361\u7684\u91D1\u5E01\u6392\u5217\u6E05\u7A7A\uFF0C\u4E5F\u5C31\u662F\u4E8C\u7EF4\u6570\u7EC4\u7684\u6570\u503C\u3002</p><h3 id="_5-8-1-\u6DFB\u52A0\u73B0\u6709\u7684\u6587\u4EF6dataconfig" tabindex="-1"><a class="header-anchor" href="#_5-8-1-\u6DFB\u52A0\u73B0\u6709\u7684\u6587\u4EF6dataconfig" aria-hidden="true">#</a> 5.8.1 \u6DFB\u52A0\u73B0\u6709\u7684\u6587\u4EF6dataConfig</h3><p>\u9996\u5148\u5148\u5C06dataConfig.h \u548C dataConfig.cpp\u6587\u4EF6\u653E\u5165\u5230\u5F53\u524D\u9879\u76EE\u4E0B\uFF1A</p><p><img src="'+E+'" alt="image-20220329193057694"></p><h3 id="_5-8-2\u6DFB\u52A0\u73B0\u6709\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_5-8-2\u6DFB\u52A0\u73B0\u6709\u6587\u4EF6" aria-hidden="true">#</a> 5.8.2\u6DFB\u52A0\u73B0\u6709\u6587\u4EF6</h3><p>\u5176\u6B21\u5728Qt_Creator\u9879\u76EE\u53F3\u952E\uFF0C\u70B9\u51FB\u6DFB\u52A0\u73B0\u6709\u6587\u4EF6</p><p><img src="'+z+'" alt="image-20220329193103452"></p><h3 id="_5-8-3-\u5B8C\u6210\u6DFB\u52A0" tabindex="-1"><a class="header-anchor" href="#_5-8-3-\u5B8C\u6210\u6DFB\u52A0" aria-hidden="true">#</a> 5.8.3 \u5B8C\u6210\u6DFB\u52A0</h3><p>\u9009\u62E9\u5F53\u524D\u9879\u76EE\u4E0B\u7684\u6587\u4EF6\uFF0C\u5E76\u8FDB\u884C\u6DFB\u52A0</p><p><img src="'+W+`" alt="image-20220329193108611"></p><h3 id="_5-8-4-\u6570\u636E\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#_5-8-4-\u6570\u636E\u5206\u6790" aria-hidden="true">#</a> 5.8.4 \u6570\u636E\u5206\u6790</h3><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>\u53EF\u4EE5\u770B\u5230\uFF0C\u5176\u5B9EdataConfig<span class="token punctuation">.</span>h\u4E2D\u53EA\u6709\u4E00\u4E2A\u6570\u636E\u662F\u5BF9\u5916\u63D0\u4F9B\u7684\uFF0C\u5982\u4E0B\uFF1A
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>QMap<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>QVector<span class="token operator">&lt;</span> QVector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span> <span class="token operator">&gt;</span>mData<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>\u5728\u4E0A\u9762\uFF0CQMap<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>QVector<span class="token operator">&lt;</span>QVector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>mData<span class="token punctuation">;</span>\u90FD\u8BB0\u5F55\u7740\u6BCF\u4E2A\u5173\u5361\u4E2D\u7684\u6570\u636E\u3002

\u5176\u4E2D\uFF0C<span class="token keyword">int</span>\u4EE3\u8868\u5BF9\u5E94\u7684\u5173\u5361 \uFF0C\u4E5F\u5C31\u662FQMap\u4E2D\u7684key\u503C\uFF0C\u800Cvalue\u503C\u5C31\u662F\u5BF9\u5E94\u7684\u4E8C\u7EF4\u6570\u7EC4\uFF0C\u6211\u4EEC\u5229\u7528\u7684\u662F QVector<span class="token operator">&lt;</span>QVector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span>\u6765\u8BB0\u5F55\u7740\u5176\u4E2D\u7684\u4E8C\u7EF4\u6570\u7EC4\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_5-8-5-\u6D4B\u8BD5\u5173\u5361\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_5-8-5-\u6D4B\u8BD5\u5173\u5361\u6570\u636E" aria-hidden="true">#</a> 5.8.5 \u6D4B\u8BD5\u5173\u5361\u6570\u636E</h3><p>\u5728Main\u51FD\u6570\u53EF\u4EE5\u6D4B\u8BD5\u7B2C\u4E00\u5173\u7684\u6570\u636E\uFF0C\u6DFB\u52A0\u5982\u4E0B\u4EE3\u7801\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>dataConfig config<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//\u6253\u5370\u7B2C\u4E00\u5173\u6240\u6709\u4FE1\u606F</span>
           <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> config<span class="token punctuation">.</span>mData<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>\u8F93\u51FA\u7ED3\u679C\u5982\u4E0B\u56FE\uFF1A</p><p><img src="`+F+'" alt="image-20220329193122520"></p><p>\u5BF9\u5E94\u7740dataConfig.cpp\u4E2D\u7B2C\u4E00\u5173\u6570\u636E\u6765\u770B\uFF0C\u4E0E\u4E4B\u5339\u914D\u6210\u529F\uFF0C\u4EE5\u540E\u6211\u4EEC\u5C31\u53EF\u4EE5\u7528dataConfig\u4E2D\u7684\u6570\u636E\u6765\u5BF9\u5173\u5361\u8FDB\u884C\u521D\u59CB\u5316\u4E86</p><p><img src="'+D+`" alt="image-20220329193148495"></p><h2 id="_5-9-\u521D\u59CB\u5316\u5404\u4E2A\u5173\u5361" tabindex="-1"><a class="header-anchor" href="#_5-9-\u521D\u59CB\u5316\u5404\u4E2A\u5173\u5361" aria-hidden="true">#</a> 5.9 \u521D\u59CB\u5316\u5404\u4E2A\u5173\u5361</h2><p>\u9996\u5148\uFF0C\u53EF\u4EE5\u5728playScene\u4E2D\u58F0\u660E\u4E00\u4E2A\u6210\u5458\u53D8\u91CF\uFF0C\u7528\u6237\u8BB0\u5F55\u5F53\u524D\u5173\u5361\u7684\u4E8C\u7EF4\u6570\u7EC4</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> gameArray<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//\u4E8C\u7EF4\u6570\u7EC4\u6570\u636E</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u4E4B\u540E\uFF0C\u5728.cpp\u6587\u4EF6\u4E2D\uFF0C\u521D\u59CB\u5316\u8FD9\u4E2A\u4E8C\u7EF4\u6570\u7EC4</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u521D\u59CB\u5316\u4E8C\u7EF4\u6570\u7EC4</span>
    dataConfig config<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            gameArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> config<span class="token punctuation">.</span>mData<span class="token punctuation">[</span>this<span class="token operator">-&gt;</span>levalIndex<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u521D\u59CB\u5316\u6210\u529F\u540E\uFF0C\u5728\u91D1\u5E01\u7C7B \u4E5F\u5C31\u662FMyCoin\u7C7B\u4E2D\uFF0C\u6269\u5C55\u5C5E\u6027 posX\uFF0CposY\uFF0C\u4EE5\u53CAflag</p><p>\u8FD9\u4E09\u4E2A\u5C5E\u6027\u5206\u522B\u4EE3\u8868\u4E86\uFF0C\u8BE5\u91D1\u5E01\u5728\u4E8C\u7EF4\u6570\u7EC4\u4E2D x\u7684\u5750\u6807\uFF0Cy\u7684\u5750\u6807\uFF0C\u4EE5\u53CA\u5F53\u524D\u7684\u6B63\u53CD\u6807\u5FD7\u3002</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> posX<span class="token punctuation">;</span> <span class="token comment">//x\u5750\u6807</span>
<span class="token keyword">int</span> posY<span class="token punctuation">;</span> <span class="token comment">//y\u5750\u6807</span>
bool flag<span class="token punctuation">;</span> <span class="token comment">//\u6B63\u53CD\u6807\u5FD7</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u7136\u540E\u5B8C\u6210\u91D1\u5E01\u521D\u59CB\u5316\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u91D1\u5E01\u5BF9\u8C61</span>
            QString img<span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>gameArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
              img <span class="token operator">=</span> <span class="token string">&quot;:/res/Coin0001.png&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
              img <span class="token operator">=</span> <span class="token string">&quot;:/res/Coin0008.png&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            MyCoin <span class="token operator">*</span> coin <span class="token operator">=</span> new <span class="token function">MyCoin</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
            coin<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
            coin<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">59</span> <span class="token operator">+</span> i<span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">204</span><span class="token operator">+</span>j<span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            coin<span class="token operator">-&gt;</span>posX <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token comment">//\u8BB0\u5F55x\u5750\u6807</span>
            coin<span class="token operator">-&gt;</span>posY <span class="token operator">=</span> j<span class="token punctuation">;</span> <span class="token comment">//\u8BB0\u5F55y\u5750\u6807</span>
            coin<span class="token operator">-&gt;</span>flag <span class="token operator">=</span>gameArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//\u8BB0\u5F55\u6B63\u53CD\u6807\u5FD7</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>\u8FD0\u884C\u6D4B\u8BD5\u5404\u4E2A\u5173\u5361\u521D\u59CB\u5316\uFF0C\u4F8B\u5982\u7B2C\u4E00\u5173\u6548\u679C\u5982\u56FE\uFF1A</p><p><img src="`+T+`" alt="image-20220329193223163"></p><h1 id="_6-\u7FFB\u91D1\u5E01\u7279\u6548" tabindex="-1"><a class="header-anchor" href="#_6-\u7FFB\u91D1\u5E01\u7279\u6548" aria-hidden="true">#</a> 6.\u7FFB\u91D1\u5E01\u7279\u6548</h1><h2 id="_6-1-mycoin\u7C7B\u6269\u5C55\u5C5E\u6027\u548C\u884C\u4E3A" tabindex="-1"><a class="header-anchor" href="#_6-1-mycoin\u7C7B\u6269\u5C55\u5C5E\u6027\u548C\u884C\u4E3A" aria-hidden="true">#</a> 6.1 MyCoin\u7C7B\u6269\u5C55\u5C5E\u6027\u548C\u884C\u4E3A</h2><p>\u5173\u5361\u7684\u521D\u59CB\u5316\u5B8C\u6210\u540E\uFF0C\u4E0B\u9762\u5C31\u5E94\u8BE5\u70B9\u51FB\u91D1\u5E01\uFF0C\u8FDB\u884C\u7FFB\u8F6C\u7684\u6548\u679C\u4E86\uFF0C\u90A3\u4E48\u9996\u5148\u6211\u4EEC\u5148\u5728MyCoin\u7C7B\u4E2D\u521B\u5EFA\u51FA\u8BE5\u65B9\u6CD5\u3002</p><p>\u5728MyCoin.h\u4E2D\u58F0\u660E\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">changeFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//\u6539\u53D8\u6807\u5FD7,\u6267\u884C\u7FFB\u8F6C\u6548\u679C</span>
    QTimer <span class="token operator">*</span>timer1<span class="token punctuation">;</span> <span class="token comment">//\u6B63\u9762\u7FFB\u53CD\u9762 \u5B9A\u65F6\u5668</span>
    QTimer <span class="token operator">*</span>timer2<span class="token punctuation">;</span> <span class="token comment">//\u53CD\u9762\u7FFB\u6B63\u9762 \u5B9A\u65F6\u5668</span>
    <span class="token keyword">int</span> min <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//\u6700\u5C0F\u56FE\u7247</span>
    <span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//\u6700\u5927\u56FE\u7247</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>MyCoin.cpp\u4E2D\u505A\u5B9E\u73B0</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> MyCoin<span class="token operator">::</span><span class="token function">changeFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>flag<span class="token punctuation">)</span> <span class="token comment">//\u5982\u679C\u662F\u6B63\u9762\uFF0C\u6267\u884C\u4E0B\u5217\u4EE3\u7801</span>
    <span class="token punctuation">{</span>
        timer1<span class="token operator">-&gt;</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span>flag <span class="token operator">=</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token comment">//\u53CD\u9762\u6267\u884C\u4E0B\u5217\u4EE3\u7801</span>
    <span class="token punctuation">{</span>
        timer2<span class="token operator">-&gt;</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span>flag <span class="token operator">=</span> true<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u5F53\u7136\u5728\u6784\u9020\u51FD\u6570\u4E2D\uFF0C\u8BB0\u5F97\u521B\u5EFA\u51FA\u4E24\u4E2A\u5B9A\u65F6\u5668</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u521D\u59CB\u5316\u5B9A\u65F6\u5668</span>
    timer1 <span class="token operator">=</span> new <span class="token function">QTimer</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    timer2 <span class="token operator">=</span> new <span class="token function">QTimer</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_6-2\u521B\u5EFA\u7279\u6548" tabindex="-1"><a class="header-anchor" href="#_6-2\u521B\u5EFA\u7279\u6548" aria-hidden="true">#</a> 6.2\u521B\u5EFA\u7279\u6548</h2><p>\u5F53\u6211\u4EEC\u5206\u522B\u542F\u52A8\u4E24\u4E2A\u5B9A\u65F6\u5668\u65F6\uFF0C\u9700\u8981\u5728\u6784\u9020\u51FD\u6570\u4E2D\u505A\u76D1\u542C\u64CD\u4F5C\uFF0C\u5E76\u4E14\u505A\u51FA\u54CD\u5E94\uFF0C\u7FFB\u8F6C\u91D1\u5E01\uFF0C\u7136\u540E\u518D\u7ED3\u675F\u5B9A\u65F6\u5668\u3002</p><p>\u6784\u9020\u51FD\u6570\u4E2D \u8FDB\u884C\u4E0B\u5217\u76D1\u542C\u4EE3\u7801\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u76D1\u542C\u6B63\u9762\u7FFB\u8F6C\u7684\u4FE1\u53F7\u69FD</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>timer1<span class="token punctuation">,</span><span class="token operator">&amp;</span>QTimer<span class="token operator">::</span>timeout<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        QPixmap pixmap<span class="token punctuation">;</span>
        QString str <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Coin000%1.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>min<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span><span class="token string">&quot;QPushButton{border:0px;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIcon</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>min <span class="token operator">&gt;</span> this<span class="token operator">-&gt;</span>max<span class="token punctuation">)</span> <span class="token comment">//\u5982\u679C\u5927\u4E8E\u6700\u5927\u503C\uFF0C\u91CD\u7F6E\u6700\u5C0F\u503C\uFF0C\u5E76\u505C\u6B62\u5B9A\u65F6\u5668</span>
        <span class="token punctuation">{</span>
            this<span class="token operator">-&gt;</span>min <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            timer1<span class="token operator">-&gt;</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">connect</span><span class="token punctuation">(</span>timer2<span class="token punctuation">,</span><span class="token operator">&amp;</span>QTimer<span class="token operator">::</span>timeout<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        QPixmap pixmap<span class="token punctuation">;</span>
        QString str <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Coin000%1.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>max<span class="token punctuation">)</span><span class="token operator">--</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        pixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span><span class="token string">&quot;QPushButton{border:0px;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIcon</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>max <span class="token operator">&lt;</span> this<span class="token operator">-&gt;</span>min<span class="token punctuation">)</span> <span class="token comment">//\u5982\u679C\u5C0F\u4E8E\u6700\u5C0F\u503C\uFF0C\u91CD\u7F6E\u6700\u5927\u503C\uFF0C\u5E76\u505C\u6B62\u5B9A\u65F6\u5668</span>
        <span class="token punctuation">{</span>
            this<span class="token operator">-&gt;</span>max <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
            timer2<span class="token operator">-&gt;</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="_6-3-\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#_6-3-\u6D4B\u8BD5" aria-hidden="true">#</a> 6.3 \u6D4B\u8BD5</h2><p>\u76D1\u542C\u6BCF\u4E2A\u6309\u94AE\u7684\u70B9\u51FB\u6548\u679C\uFF0C\u5E76\u7FFB\u8F6C\u91D1\u5E01</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token function">connect</span><span class="token punctuation">(</span>coin<span class="token punctuation">,</span><span class="token operator">&amp;</span>MyCoin<span class="token operator">::</span>clicked<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">//qDebug() &lt;&lt; &quot;\u70B9\u51FB\u7684\u4F4D\u7F6E\uFF1A x = &quot; &lt;&lt;  coin-&gt;posX &lt;&lt; &quot; y = &quot; &lt;&lt; coin-&gt;posY ;</span>
                coin<span class="token operator">-&gt;</span><span class="token function">changeFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                gameArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> gameArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//\u6570\u7EC4\u5185\u90E8\u8BB0\u5F55\u7684\u6807\u5FD7\u540C\u6B65\u4FEE\u6539</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="`+X+`" alt="image-20220329193236230"></p><h2 id="_6-4-\u7981\u7528\u6309\u94AE" tabindex="-1"><a class="header-anchor" href="#_6-4-\u7981\u7528\u6309\u94AE" aria-hidden="true">#</a> 6.4 \u7981\u7528\u6309\u94AE</h2><p>\u6B64\u65F6\uFF0C\u786E\u5B9E\u5DF2\u7ECF\u53EF\u4EE5\u6267\u884C\u7FFB\u8F6C\u91D1\u5E01\u4EE3\u7801\u4E86\uFF0C\u4F46\u662F\u5982\u679C\u5FEB\u901F\u70B9\u51FB\uFF0C\u4F1A\u5728\u91D1\u5E01\u8FD8\u6CA1\u6709\u6267\u884C\u4E00\u4E2A\u5B8C\u6574\u52A8\u4F5C\u4E4B\u540E \uFF0C\u53C8\u7EE7\u7EED\u5F00\u59CB\u65B0\u7684\u52A8\u753B\uFF0C\u6211\u4EEC\u5E94\u8BE5\u5728\u91D1\u5E01\u505A\u52A8\u753B\u671F\u95F4\uFF0C\u7981\u6B62\u518D\u6B21\u70B9\u51FB\uFF0C\u5E76\u5728\u5B8C\u6210\u52A8\u753B\u540E\uFF0C\u5F00\u542F\u70B9\u51FB\u3002</p><p>\u5728MyCoin\u7C7B\u4E2D\u52A0\u5165\u4E00\u4E2A\u6807\u5FD7 isAnimation \u4EE3\u8868\u662F\u5426\u6B63\u5728\u505A\u7FFB\u8F6C\u52A8\u753B\uFF0C\u9ED8\u8BA4isAnimation\u503C\u4E3Afalse\u3002</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>bool isAnimation  <span class="token operator">=</span> false<span class="token punctuation">;</span> <span class="token comment">//\u505A\u7FFB\u8F6C\u52A8\u753B\u7684\u6807\u5FD7</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5728MyCoin\u505A\u52A8\u753B\u671F\u95F4\u52A0\u5165</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>this<span class="token operator">-&gt;</span>isAnimation  <span class="token operator">=</span> true<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u4E5F\u5C31\u662FchangeFlag\u51FD\u6570\u4E2D\u5C06\u6807\u5FD7\u8BBE\u4E3Atrue</p><p>\u52A0\u5165\u4F4D\u7F6E\u5982\u4E0B\uFF1A</p><p><img src="`+Y+'" alt="image-20220329193243231"></p><p>\u5E76\u4E14\u5728\u505A\u5B8C\u52A8\u753B\u65F6\uFF0C\u5C06\u6807\u5FD7\u6539\u4E3Afalse</p><p><img src="'+V+`" alt="image-20220329193249859"></p><p>\u91CD\u5199\u6309\u94AE\u7684\u6309\u4E0B\u4E8B\u4EF6\uFF0C\u5224\u65AD\u5982\u679C\u6B63\u5728\u6267\u884C\u52A8\u753B\uFF0C\u90A3\u4E48\u76F4\u63A5return\u6389\uFF0C\u4E0D\u8981\u6267\u884C\u540E\u7EED\u4EE3\u7801\u3002</p><p>\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> MyCoin<span class="token operator">::</span><span class="token function">mousePressEvent</span><span class="token punctuation">(</span>QMouseEvent <span class="token operator">*</span>e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>isAnimation <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> QPushButton<span class="token operator">::</span><span class="token function">mousePressEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h1 id="_7-\u7FFB\u5468\u56F4\u91D1\u5E01" tabindex="-1"><a class="header-anchor" href="#_7-\u7FFB\u5468\u56F4\u91D1\u5E01" aria-hidden="true">#</a> 7.\u7FFB\u5468\u56F4\u91D1\u5E01</h1><p>\u5C06\u7528\u6237\u70B9\u51FB\u7684\u5468\u56F4 \u4E0A\u4E0B\u5DE6\u53F34\u4E2A\u91D1\u5E01\u4E5F\u8FDB\u884C\u5EF6\u65F6\u7FFB\u8F6C\uFF0C\u4EE3\u7801\u5199\u5230\u76D1\u542C\u70B9\u51FB\u91D1\u5E01\u4E0B\u3002</p><p>\u6B64\u65F6\u6211\u4EEC\u53D1\u73B0\u8FD8\u9700\u8981\u8BB0\u5F55\u4F4F\u6BCF\u4E2A\u6309\u94AE\u7684\u5185\u5BB9\uFF0C\u6240\u4EE5\u6211\u4EEC\u5C06\u6240\u6709\u91D1\u5E01\u6309\u94AE\u4E5F\u653E\u5230\u4E00\u4E2A\u4E8C\u7EF4\u6570\u7EC4\u4E2D\uFF0C\u5728.h\u4E2D\u58F0\u660E</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>MyCoin <span class="token operator">*</span> coinBtn<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//\u91D1\u5E01\u6309\u94AE\u6570\u7EC4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5E76\u4E14\u8BB0\u5F55\u6BCF\u4E2A\u6309\u94AE\u7684\u4F4D\u7F6E</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>coinBtn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> coin<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="`+R+`" alt="image-20220329193258101"></p><p>\u5EF6\u65F6\u7FFB\u52A8\u5176\u4ED6\u5468\u56F4\u91D1\u5E01</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>QTimer<span class="token operator">::</span><span class="token function">singleShot</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> this<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&lt;=</span><span class="token number">3</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                      coinBtn<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">changeFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span> <span class="token operator">=</span> gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span><span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">-</span><span class="token number">1</span><span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                      coinBtn<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">changeFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span> <span class="token operator">=</span> gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span><span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>coin<span class="token operator">-&gt;</span>posY<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;=</span><span class="token number">3</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                     coinBtn<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">changeFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span><span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>coin<span class="token operator">-&gt;</span>posY<span class="token operator">-</span><span class="token number">1</span><span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                     coinBtn<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">changeFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span><span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="_7-1-\u5224\u65AD\u662F\u5426\u80DC\u5229" tabindex="-1"><a class="header-anchor" href="#_7-1-\u5224\u65AD\u662F\u5426\u80DC\u5229" aria-hidden="true">#</a> 7.1 \u5224\u65AD\u662F\u5426\u80DC\u5229</h2><p>\u5728PlayScene.h\u4E2D\u52A0\u5165 isWin\u6807\u5FD7\uFF0C\u4EE3\u8868\u662F\u5426\u80DC\u5229\u3002</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>bool isWin <span class="token operator">=</span> true<span class="token punctuation">;</span> <span class="token comment">//\u662F\u5426\u80DC\u5229</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u9ED8\u8BA4\u8BBE\u7F6E\u4E3Atrue\uFF0C\u53EA\u8981\u6709\u4E00\u4E2A\u53CD\u9762\u7684\u91D1\u5E01\uFF0C\u5C31\u5C06\u8BE5\u503C\u6539\u4E3Afalse\uFF0C\u89C6\u4E3A\u672A\u6210\u529F\u3002</p><p>\u4EE3\u7801\u5199\u5230\u5EF6\u65F6\u7FFB\u91D1\u5E01\u540E \u8FDB\u884C\u5224\u65AD</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u5224\u65AD\u662F\u5426\u80DC\u5229</span>
                this<span class="token operator">-&gt;</span>isWin <span class="token operator">=</span> true<span class="token punctuation">;</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                        <span class="token comment">//qDebug() &lt;&lt; coinBtn[i][j]-&gt;flag ;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span> coinBtn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-&gt;</span>flag <span class="token operator">==</span> false<span class="token punctuation">)</span>
                        <span class="token punctuation">{</span>
                            this<span class="token operator">-&gt;</span>isWin <span class="token operator">=</span> false<span class="token punctuation">;</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>\u5982\u679CisWin\u4F9D\u7136\u662Ftrue\uFF0C\u4EE3\u8868\u80DC\u5229\u4E86\uFF01</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">if</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>isWin<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u80DC\u5229&quot;</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_7-2-\u80DC\u5229\u56FE\u7247\u663E\u793A" tabindex="-1"><a class="header-anchor" href="#_7-2-\u80DC\u5229\u56FE\u7247\u663E\u793A" aria-hidden="true">#</a> 7.2 \u80DC\u5229\u56FE\u7247\u663E\u793A</h2><p>\u5C06\u80DC\u5229\u7684\u56FE\u7247\u63D0\u524D\u521B\u5EFA\u597D\uFF0C\u5982\u679C\u80DC\u5229\u89E6\u53D1\u4E86\uFF0C\u5C06\u56FE\u7247\u5F39\u4E0B\u6765\u5373\u53EF</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code> QLabel<span class="token operator">*</span> winLabel <span class="token operator">=</span> new QLabel<span class="token punctuation">;</span>
    QPixmap tmpPix<span class="token punctuation">;</span>
    tmpPix<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/LevelCompletedDialogBg.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    winLabel<span class="token operator">-&gt;</span><span class="token function">setGeometry</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>tmpPix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>tmpPix<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    winLabel<span class="token operator">-&gt;</span><span class="token function">setPixmap</span><span class="token punctuation">(</span>tmpPix<span class="token punctuation">)</span><span class="token punctuation">;</span>
    winLabel<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    winLabel<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> tmpPix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span> <span class="token punctuation">,</span> <span class="token operator">-</span>tmpPix<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u5982\u679C\u80DC\u5229\u4E86\uFF0C\u5C06\u4E0A\u9762\u7684\u56FE\u7247\u79FB\u52A8\u4E0B\u6765</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">if</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>isWin<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
       <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\u80DC\u5229&quot;</span><span class="token punctuation">;</span>
       QPropertyAnimation <span class="token operator">*</span> animation1 <span class="token operator">=</span>  new <span class="token function">QPropertyAnimation</span><span class="token punctuation">(</span>winLabel<span class="token punctuation">,</span><span class="token string">&quot;geometry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       animation1<span class="token operator">-&gt;</span><span class="token function">setDuration</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       animation1<span class="token operator">-&gt;</span><span class="token function">setStartValue</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span>winLabel<span class="token operator">-&gt;</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>winLabel<span class="token operator">-&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>winLabel<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>winLabel<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       animation1<span class="token operator">-&gt;</span><span class="token function">setEndValue</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span>winLabel<span class="token operator">-&gt;</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>winLabel<span class="token operator">-&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">114</span><span class="token punctuation">,</span>winLabel<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>winLabel<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       animation1<span class="token operator">-&gt;</span><span class="token function">setEasingCurve</span><span class="token punctuation">(</span>QEasingCurve<span class="token operator">::</span>OutBounce<span class="token punctuation">)</span><span class="token punctuation">;</span>
       animation1<span class="token operator">-&gt;</span><span class="token function">start</span><span class="token punctuation">(</span>QAbstractAnimation<span class="token operator">::</span>DeleteWhenStopped<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_7-3\u80DC\u5229\u540E\u7981\u7528\u6309\u94AE" tabindex="-1"><a class="header-anchor" href="#_7-3\u80DC\u5229\u540E\u7981\u7528\u6309\u94AE" aria-hidden="true">#</a> 7.3\u80DC\u5229\u540E\u7981\u7528\u6309\u94AE</h2><p>\u5F53\u80DC\u5229\u540E\uFF0C\u5E94\u8BE5\u7981\u7528\u6240\u6709\u6309\u94AE\u7684\u70B9\u51FB\u72B6\u6001\uFF0C\u53EF\u4EE5\u5728\u6BCF\u4E2A\u6309\u94AE\u4E2D\u52A0\u5165\u6807\u5FD7\u4F4D isWin\uFF0C\u5982\u679CisWin\u4E3Atrue\uFF0CMousePressEvent\u76F4\u63A5return\u6389\u5373\u53EF</p><p>MyCoin\u4E2D.h\u91CC\u6DFB\u52A0\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>bool isWin <span class="token operator">=</span> false<span class="token punctuation">;</span><span class="token comment">//\u80DC\u5229\u6807\u5FD7</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5728\u9F20\u6807\u6309\u4E0B\u4E8B\u4EF6\u4E2D\u4FEE\u6539\u4E3A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> MyCoin<span class="token operator">::</span><span class="token function">mousePressEvent</span><span class="token punctuation">(</span>QMouseEvent <span class="token operator">*</span>e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>isAnimation<span class="token operator">||</span> isWin <span class="token operator">==</span> true <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> QPushButton<span class="token operator">::</span><span class="token function">mousePressEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//\u7981\u7528\u6240\u6709\u6309\u94AE\u70B9\u51FB\u4E8B\u4EF6</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
          coinBtn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-&gt;</span>isWin <span class="token operator">=</span> true<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>\u6D4B\u8BD5\uFF0C\u80DC\u5229\u540E\u4E0D\u53EF\u4EE5\u70B9\u51FB\u4EFB\u4F55\u7684\u91D1\u5E01\u3002</p><h1 id="_8-\u6DFB\u52A0\u97F3\u6548" tabindex="-1"><a class="header-anchor" href="#_8-\u6DFB\u52A0\u97F3\u6548" aria-hidden="true">#</a> 8.\u6DFB\u52A0\u97F3\u6548</h1><p><strong>\u6B64\u5904\u9700\u6CE8\u610F\uFF0C\u5E76\u4E0D\u9002\u7528\u4E8E6.0\u53CA6.0\u7248\u672C\u4EE5\u4E0A\u7684Qt\u4F7F\u7528</strong></p><h2 id="_8-1\u5F00\u59CB\u97F3\u6548" tabindex="-1"><a class="header-anchor" href="#_8-1\u5F00\u59CB\u97F3\u6548" aria-hidden="true">#</a> 8.1\u5F00\u59CB\u97F3\u6548</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>QSound <span class="token operator">*</span>startSound <span class="token operator">=</span> new <span class="token function">QSound</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/TapButtonSound.wav&quot;</span><span class="token punctuation">,</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u70B9\u51FB\u5F00\u59CB\u6309\u94AE\uFF0C\u64AD\u653E\u97F3\u6548</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>startSound<span class="token operator">-&gt;</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5F00\u59CB\u97F3\u6548</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_8-2-\u9009\u62E9\u5173\u5361\u97F3\u6548" tabindex="-1"><a class="header-anchor" href="#_8-2-\u9009\u62E9\u5173\u5361\u97F3\u6548" aria-hidden="true">#</a> 8.2 \u9009\u62E9\u5173\u5361\u97F3\u6548</h2><p>\u5728\u9009\u62E9\u5173\u5361\u573A\u666F\u4E2D\u6DFB\u52A0\u97F3\u6548</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u9009\u62E9\u5173\u5361\u6309\u94AE\u97F3\u6548</span>
QSound <span class="token operator">*</span>chooseSound <span class="token operator">=</span> new <span class="token function">QSound</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/TapButtonSound.wav&quot;</span><span class="token punctuation">,</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u9009\u4E2D\u5173\u5361\u540E\uFF0C\u64AD\u653E\u97F3\u6548</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>chooseSound<span class="token operator">-&gt;</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_8-3-\u8FD4\u56DE\u6309\u94AE\u97F3\u6548" tabindex="-1"><a class="header-anchor" href="#_8-3-\u8FD4\u56DE\u6309\u94AE\u97F3\u6548" aria-hidden="true">#</a> 8.3 \u8FD4\u56DE\u6309\u94AE\u97F3\u6548</h2><p>\u5728\u9009\u62E9\u5173\u5361\u573A\u666F\u4E0E\u7FFB\u91D1\u5E01\u6E38\u620F\u573A\u666F\u4E2D\uFF0C\u5206\u522B\u6DFB\u52A0\u8FD4\u56DE\u6309\u94AE\u97F3\u6548\u5982\u4E0B\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u8FD4\u56DE\u6309\u94AE\u97F3\u6548</span>
QSound <span class="token operator">*</span>backSound <span class="token operator">=</span> new <span class="token function">QSound</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/BackButtonSound.wav&quot;</span><span class="token punctuation">,</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5206\u522B\u5728\u70B9\u51FB\u8FD4\u56DE\u6309\u94AE\u540E\uFF0C\u64AD\u653E\u8BE5\u97F3\u6548</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>backSound<span class="token operator">-&gt;</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_8-4-\u7FFB\u91D1\u5E01\u4E0E\u80DC\u5229\u97F3\u6548" tabindex="-1"><a class="header-anchor" href="#_8-4-\u7FFB\u91D1\u5E01\u4E0E\u80DC\u5229\u97F3\u6548" aria-hidden="true">#</a> 8.4 \u7FFB\u91D1\u5E01\u4E0E\u80DC\u5229\u97F3\u6548</h2><p>\u5728PlayScene\u4E2D\u6DFB\u52A0\uFF0C\u7FFB\u91D1\u5E01\u7684\u97F3\u6548\u4EE5\u53CA \u80DC\u5229\u7684\u97F3\u6548</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//\u7FFB\u91D1\u5E01\u97F3\u6548</span>
    QSound <span class="token operator">*</span>flipSound <span class="token operator">=</span> new <span class="token function">QSound</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/ConFlipSound.wav&quot;</span><span class="token punctuation">,</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u80DC\u5229\u6309\u94AE\u97F3\u6548</span>
    QSound <span class="token operator">*</span>winSound <span class="token operator">=</span> new <span class="token function">QSound</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/LevelWinSound.wav&quot;</span><span class="token punctuation">,</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u5728\u7FFB\u91D1\u5E01\u65F6\u64AD\u653E \u7FFB\u91D1\u5E01\u97F3\u6548</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>flipSound<span class="token operator">-&gt;</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u80DC\u5229\u65F6\uFF0C\u64AD\u653E\u80DC\u5229\u97F3\u6548</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>winSound<span class="token operator">-&gt;</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u6D4B\u8BD5\u97F3\u6548\uFF0C\u4F7F\u97F3\u6548\u6B63\u5E38\u64AD\u653E\u3002</p><h1 id="_9-\u4F18\u5316\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#_9-\u4F18\u5316\u9879\u76EE" aria-hidden="true">#</a> 9.\u4F18\u5316\u9879\u76EE</h1><p>\u5F53\u6211\u4EEC\u79FB\u52A8\u573A\u666F\u540E\uFF0C\u5982\u679C\u8FDB\u5165\u4E0B\u4E00\u4E2A\u573A\u666F\uFF0C\u53D1\u73B0\u573A\u666F\u8FD8\u5728\u4E2D\u5FC3\u4F4D\u7F6E\uFF0C\u5982\u679C\u60F3\u8BBE\u7F6E\u573A\u666F\u7684\u4F4D\u7F6E\uFF0C\u9700\u8981\u6DFB\u52A0\u5982\u4E0B\u4E0B\u56FE\u4E2D\u7684\u4EE3\u7801\uFF1A</p><p>MainScene\u4E2D\u6DFB\u52A0\uFF1A</p><p><img src="`+N+'" alt="image-20220329193317334"></p><p>ChooseScene\u4E2D\u6DFB\u52A0\uFF1A</p><p><img src="'+O+'" alt="image-20220329193322786"></p><p>\u6D4B\u8BD5\u5207\u6362\u4E09\u4E2A\u573A\u666F\u7684\u8FDB\u5165\u4E0E\u8FD4\u56DE\u90FD\u5728\u540C\u4E00\u4E2A\u4F4D\u7F6E\u4E0B\uFF0C\u4F18\u5316\u6210\u529F\u3002</p><p>\u81F3\u6B64\uFF0C\u672C\u6848\u4F8B\u5168\u90E8\u5236\u4F5C\u5B8C\u6210\uFF0C\uFF08\u53EF\u81EA\u884C\u6269\u5C55\uFF09</p>',282);function H(J,K){return U}var nn=s(G,[["render",H]]);export{nn as default};
