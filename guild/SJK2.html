<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="h.ico"><title>1. 多表查询 | LH的学习笔记</title><meta name="description" content="描述：学习笔记">
    <link rel="modulepreload" href="/by-jj/assets/app.f5f78651.js"><link rel="modulepreload" href="/by-jj/assets/SJK2.html.ebd59ad2.js"><link rel="modulepreload" href="/by-jj/assets/SJK2.html.5f0cdc5d.js"><link rel="modulepreload" href="/by-jj/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/by-jj/assets/style.686345b1.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/by-jj/" class=""><img class="logo" src="/by-jj/laoshi.png" alt="LH的学习笔记"><span class="site-name can-hide">LH的学习笔记</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/by-jj/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/by-jj/guild/about/" class="" aria-label="关于"><!--[--><!--]--> 关于 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="汇编"><span class="title">汇编</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="汇编"><span class="title">汇编</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/HB/" class="" aria-label="计算机硬件基础"><!--[--><!--]--> 计算机硬件基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/HB/" class="" aria-label="汇编基础"><!--[--><!--]--> 汇编基础 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="C语言"><span class="title">C语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="C语言"><span class="title">C语言</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/C/" class="" aria-label="C语法基础"><!--[--><!--]--> C语法基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJJG/" class="" aria-label="数据结构基础一"><!--[--><!--]--> 数据结构基础一 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJJG2/" class="" aria-label="数据结构基础二"><!--[--><!--]--> 数据结构基础二 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/CTG/" class="" aria-label="C提高"><!--[--><!--]--> C提高 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/CSL/" class="" aria-label="C实例"><!--[--><!--]--> C实例 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="C++"><span class="title">C++</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="C++"><span class="title">C++</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++JC1/" class="" aria-label="C++基础一"><!--[--><!--]--> C++基础一 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++JC2/" class="" aria-label="C++基础二"><!--[--><!--]--> C++基础二 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++JC3/" class="" aria-label="C++基础三"><!--[--><!--]--> C++基础三 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++KF/" class="" aria-label="C++开发"><!--[--><!--]--> C++开发 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Unity3D"><span class="title">Unity3D</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Unity3D"><span class="title">Unity3D</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="C#语法基础"><!--[--><!--]--> C#语法基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="坦克大战"><!--[--><!--]--> 坦克大战 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="飞机大战"><!--[--><!--]--> 飞机大战 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="噩梦射手"><!--[--><!--]--> 噩梦射手 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Qt"><span class="title">Qt</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Qt"><span class="title">Qt</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtBJ/" class="" aria-label="Qt笔记"><!--[--><!--]--> Qt笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtCoin/" class="" aria-label="Qt翻金币小游戏"><!--[--><!--]--> Qt翻金币小游戏 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qt6/" class="" aria-label="Qt6基础"><!--[--><!--]--> Qt6基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qml/" class="" aria-label="Qml基础"><!--[--><!--]--> Qml基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtOpencv/" class="" aria-label="Qtopencv"><!--[--><!--]--> Qtopencv <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtOpenGL/" class="" aria-label="QtopenGL"><!--[--><!--]--> QtopenGL <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/3D/" class="" aria-label="Qtquick3D基础"><!--[--><!--]--> Qtquick3D基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qt6KFJC/" class="" aria-label="Qt6跨平台开发基础"><!--[--><!--]--> Qt6跨平台开发基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qt6SL/" class="" aria-label="Qt6实例"><!--[--><!--]--> Qt6实例 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Go"><span class="title">Go</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Go"><span class="title">Go</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/GoYFJC/" class="" aria-label="Go语法基础"><!--[--><!--]--> Go语法基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/GoGJYF/" class="" aria-label="Go高级语法"><!--[--><!--]--> Go高级语法 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux编程"><span class="title">Linux编程</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux编程"><span class="title">Linux编程</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJK1/" class="" aria-label="数据库一"><!--[--><!--]--> 数据库一 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJK2/" class="" aria-label="数据库二"><!--[--><!--]--> 数据库二 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="计算机网络"><span class="title">计算机网络</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="计算机网络"><span class="title">计算机网络</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="网络攻防"><span class="title">网络攻防</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="网络攻防"><span class="title">网络攻防</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="web渗透"><span class="title">web渗透</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="web渗透"><span class="title">web渗透</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="第三方库与框架"><span class="title">第三方库与框架</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="第三方库与框架"><span class="title">第三方库与框架</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/by-jj/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/by-jj/guild/about/" class="" aria-label="关于"><!--[--><!--]--> 关于 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="汇编"><span class="title">汇编</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="汇编"><span class="title">汇编</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/HB/" class="" aria-label="计算机硬件基础"><!--[--><!--]--> 计算机硬件基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/HB/" class="" aria-label="汇编基础"><!--[--><!--]--> 汇编基础 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="C语言"><span class="title">C语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="C语言"><span class="title">C语言</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/C/" class="" aria-label="C语法基础"><!--[--><!--]--> C语法基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJJG/" class="" aria-label="数据结构基础一"><!--[--><!--]--> 数据结构基础一 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJJG2/" class="" aria-label="数据结构基础二"><!--[--><!--]--> 数据结构基础二 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/CTG/" class="" aria-label="C提高"><!--[--><!--]--> C提高 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/CSL/" class="" aria-label="C实例"><!--[--><!--]--> C实例 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="C++"><span class="title">C++</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="C++"><span class="title">C++</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++JC1/" class="" aria-label="C++基础一"><!--[--><!--]--> C++基础一 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++JC2/" class="" aria-label="C++基础二"><!--[--><!--]--> C++基础二 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++JC3/" class="" aria-label="C++基础三"><!--[--><!--]--> C++基础三 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++KF/" class="" aria-label="C++开发"><!--[--><!--]--> C++开发 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Unity3D"><span class="title">Unity3D</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Unity3D"><span class="title">Unity3D</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="C#语法基础"><!--[--><!--]--> C#语法基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="坦克大战"><!--[--><!--]--> 坦克大战 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="飞机大战"><!--[--><!--]--> 飞机大战 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="噩梦射手"><!--[--><!--]--> 噩梦射手 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Qt"><span class="title">Qt</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Qt"><span class="title">Qt</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtBJ/" class="" aria-label="Qt笔记"><!--[--><!--]--> Qt笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtCoin/" class="" aria-label="Qt翻金币小游戏"><!--[--><!--]--> Qt翻金币小游戏 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qt6/" class="" aria-label="Qt6基础"><!--[--><!--]--> Qt6基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qml/" class="" aria-label="Qml基础"><!--[--><!--]--> Qml基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtOpencv/" class="" aria-label="Qtopencv"><!--[--><!--]--> Qtopencv <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtOpenGL/" class="" aria-label="QtopenGL"><!--[--><!--]--> QtopenGL <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/3D/" class="" aria-label="Qtquick3D基础"><!--[--><!--]--> Qtquick3D基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qt6KFJC/" class="" aria-label="Qt6跨平台开发基础"><!--[--><!--]--> Qt6跨平台开发基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qt6SL/" class="" aria-label="Qt6实例"><!--[--><!--]--> Qt6实例 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Go"><span class="title">Go</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Go"><span class="title">Go</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/GoYFJC/" class="" aria-label="Go语法基础"><!--[--><!--]--> Go语法基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/GoGJYF/" class="" aria-label="Go高级语法"><!--[--><!--]--> Go高级语法 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux编程"><span class="title">Linux编程</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux编程"><span class="title">Linux编程</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJK1/" class="" aria-label="数据库一"><!--[--><!--]--> 数据库一 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJK2/" class="" aria-label="数据库二"><!--[--><!--]--> 数据库二 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="计算机网络"><span class="title">计算机网络</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="计算机网络"><span class="title">计算机网络</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="网络攻防"><span class="title">网络攻防</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="网络攻防"><span class="title">网络攻防</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="web渗透"><span class="title">web渗透</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="web渗透"><span class="title">web渗透</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="第三方库与框架"><span class="title">第三方库与框架</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="第三方库与框架"><span class="title">第三方库与框架</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a aria-current="page" href="/by-jj/guild/SJK2.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="1. 多表查询"><!--[--><!--]--> 1. 多表查询 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_1-1-笛卡尔积" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.1 笛卡尔积"><!--[--><!--]--> 1.1 笛卡尔积 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_1-2-等值-不等值连接" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2 等值/不等值连接"><!--[--><!--]--> 1.2 等值/不等值连接 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_1-3外连接" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.3外连接"><!--[--><!--]--> 1.3外连接 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_1-4-自连接" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.4 自连接"><!--[--><!--]--> 1.4 自连接 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_2-1-同表子查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.1 同表子查询"><!--[--><!--]--> 2.1 同表子查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_2-2-不同表子查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2 不同表子查询"><!--[--><!--]--> 2.2 不同表子查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_2-3-在select、from、where、having后边使用子查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.3 在select、from、where、having后边使用子查询"><!--[--><!--]--> 2.3 在select、from、where、having后边使用子查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_2-4-单行-多行子查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.4 单行/多行子查询"><!--[--><!--]--> 2.4 单行/多行子查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_2-5-子查询中的null" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.5 子查询中的NULL"><!--[--><!--]--> 2.5 子查询中的NULL <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_3-1-交集、并集、差集" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1 交集、并集、差集"><!--[--><!--]--> 3.1 交集、并集、差集 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_3-2-集合使用的注意事项" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.2 集合使用的注意事项"><!--[--><!--]--> 3.2 集合使用的注意事项 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_4-1-插入数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.1 插入数据"><!--[--><!--]--> 4.1 插入数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_4-2-更新数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.2 更新数据"><!--[--><!--]--> 4.2 更新数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_4-3-删除数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3 删除数据"><!--[--><!--]--> 4.3 删除数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_4-4-事务" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.4 事务"><!--[--><!--]--> 4.4 事务 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_4-4-1-什么是数据库事务" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.4.1 什么是数据库事务"><!--[--><!--]--> 4.4.1 什么是数据库事务 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/SJK2.html#_4-4-2-oracle中的事务" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.4.2 oracle中的事务"><!--[--><!--]--> 4.4.2 oracle中的事务 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="_1-多表查询" tabindex="-1"><a class="header-anchor" href="#_1-多表查询" aria-hidden="true">#</a> 1. 多表查询</h1><h2 id="_1-1-笛卡尔积" tabindex="-1"><a class="header-anchor" href="#_1-1-笛卡尔积" aria-hidden="true">#</a> 1.1 笛卡尔积</h2><blockquote><p>笛卡尔积就是两个集合的乘积计算 。</p><ul><li>如果多个表进行联合查询, 得到结果是一个笛卡尔积, 举例: 比如有两个表<code>aaa</code>, <code>bbb</code><ul><li>行数: 两个表中行数的乘积</li><li>列数: 两个表中列数之和</li></ul></li></ul></blockquote><p><img src="/by-jj/assets/timg.3342b962.jpg" alt="img"></p><p><img src="/by-jj/assets/image-20200530093951799.aff53bb0.png" alt="image-20200530093951799"></p><p><code>在进行多表查询的时候, 一定要对最后的结果进行过滤, 需要在查询语句的最后添加过滤条件: where 表达式</code></p><h2 id="_1-2-等值-不等值连接" tabindex="-1"><a class="header-anchor" href="#_1-2-等值-不等值连接" aria-hidden="true">#</a> 1.2 等值/不等值连接</h2><blockquote><p>等值连接和不等值连接的作用: 通过判断过滤多表查询得到的笛卡尔积中的无效数据</p></blockquote><p><img src="/by-jj/assets/image-20191128195033514.86ff1846.png" alt="image-20191128195033514"></p><p><img src="/by-jj/assets/image-20191128195257955.58c8eb20.png" alt="image-20191128195257955"></p><p><img src="/by-jj/assets/image-20191127185815244.5cf27bfa.png" alt=""></p><blockquote><p>从概念上，区分等值连接和不等值连接非常简单，只<code>需要辨别where子句后面的条件</code>:</p><p>等值需要使用 <code>=</code> 进行判断</p><p>不等值需要使用 <code>=以为的符号</code> 进行判断</p><p><code>select * from 表名1, 表2 where 过滤条件</code></p><p>如果要进行多表查询, 多个表中必须要有相关联的字段</p></blockquote><ul><li><p>等值连接</p><blockquote><p>查询员工信息：员工号，姓名，月薪(在emp表中)和部门名称(在dept表中)</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- from后边可以加多张表, 表名之间使用 ,(逗号) 间隔</span>
<span class="token comment">-- select 后边的列名, 一般不是直接指定, 而是: 表名.列名</span>
<span class="token keyword">select</span> emp<span class="token punctuation">.</span>empno<span class="token punctuation">,</span> emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span> emp<span class="token punctuation">.</span>sal<span class="token punctuation">,</span> dept<span class="token punctuation">.</span>dname
  <span class="token keyword">from</span> emp<span class="token punctuation">,</span> dept
 <span class="token keyword">where</span> emp<span class="token punctuation">.</span>deptno <span class="token operator">=</span> dept<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>
 
<span class="token comment">-- 我们给数据库表设置别名: 表名 别名</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span>empno<span class="token punctuation">,</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span> e<span class="token punctuation">.</span>sal<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname
  <span class="token keyword">from</span> emp e<span class="token punctuation">,</span> dept d
 <span class="token keyword">where</span> e<span class="token punctuation">.</span>deptno <span class="token operator">=</span> d<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>不等值连接</p><blockquote><p>查询员工信息：员工号, 姓名, 月薪 和 月薪级别(salgrade表)</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 员工号, 姓名, 月薪 emp 表中</span>
<span class="token comment">-- 月薪级别 - salgrade表</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span>empno<span class="token punctuation">,</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span> e<span class="token punctuation">.</span>sal<span class="token punctuation">,</span> s<span class="token punctuation">.</span>grade
  <span class="token keyword">from</span> emp e<span class="token punctuation">,</span> salgrade s
 <span class="token keyword">where</span> e<span class="token punctuation">.</span>sal <span class="token operator">&gt;=</span> s<span class="token punctuation">.</span>losal
   <span class="token operator">and</span> e<span class="token punctuation">.</span>sal <span class="token operator">&lt;=</span> s<span class="token punctuation">.</span>hisal<span class="token punctuation">;</span>
   
 <span class="token comment">-- 第二种方式</span>
 <span class="token keyword">select</span> e<span class="token punctuation">.</span>empno<span class="token punctuation">,</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span> e<span class="token punctuation">.</span>sal<span class="token punctuation">,</span> s<span class="token punctuation">.</span>grade
  <span class="token keyword">from</span> emp e<span class="token punctuation">,</span> salgrade s
 <span class="token keyword">where</span> e<span class="token punctuation">.</span>sal <span class="token operator">between</span> s<span class="token punctuation">.</span>losal <span class="token operator">and</span>  s<span class="token punctuation">.</span>hisal<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>按部门统计员工人数，显示如下信息：部门号，部门名称，人数</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 部门号: 在 emp, dept 表中都有, 部门名称: dept, 人数应该从 emp表中进行统计</span>
<span class="token comment">-- 需要按照部门分组</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>empno<span class="token punctuation">)</span>
  <span class="token keyword">from</span> emp e<span class="token punctuation">,</span> dept d
 <span class="token keyword">where</span> e<span class="token punctuation">.</span>deptno <span class="token operator">=</span> d<span class="token punctuation">.</span>deptno
 <span class="token keyword">group</span> <span class="token keyword">by</span> e<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname<span class="token punctuation">;</span>
 
 DEPTNO DNAME                          <span class="token function">COUNT</span><span class="token punctuation">(</span>E<span class="token punctuation">.</span>EMPNO<span class="token punctuation">)</span>
<span class="token comment">------ ------------------------------ --------------</span>
    <span class="token number">10</span> 周刊少年Jump                                <span class="token number">2</span>
    <span class="token number">40</span> 红发海贼团                                   <span class="token number">5</span>
    <span class="token number">60</span> D之一族                                     <span class="token number">8</span>
    <span class="token number">50</span> 黑胡子海贼团                                 <span class="token number">4</span>
    <span class="token number">20</span> 草帽海贼团                                  <span class="token number">19</span>
    <span class="token number">30</span> 红心海贼团                                   <span class="token number">7</span>

<span class="token number">6</span> <span class="token keyword">rows</span> selected
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>上述结果中是没有将 45 号部门统计到查询的结果集中的, 应该如何也将其统计到结果集中?</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> dept<span class="token punctuation">;</span>

DEPTNO DNAME                          LOC
<span class="token comment">------ ------------------------------ ------------------------------</span>
    <span class="token number">50</span> 黑胡子海贼团                    新世界
    <span class="token number">45</span> 黑桃海贼团                      东海
    <span class="token number">60</span> D之一族                        ONE PIECE
    <span class="token number">10</span> 周刊少年Jump                   Tokyo
    <span class="token number">20</span> 草帽海贼团                      东海
    <span class="token number">30</span> 红心海贼团                      北海
    <span class="token number">40</span> 红发海贼团                      新世界

<span class="token number">7</span> <span class="token keyword">rows</span> selected

<span class="token comment">-- 在查询的时候 dept 表中是有45号部门, 但是emp表中是没有45号部门的员工的, 因此在进行过滤的时候</span>
	e<span class="token punctuation">.</span>deptno <span class="token operator">=</span> d<span class="token punctuation">.</span>deptno
当d<span class="token punctuation">.</span>deptno <span class="token operator">=</span><span class="token operator">=</span> <span class="token number">45</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>deptno永远不等于<span class="token number">45</span><span class="token punctuation">,</span> 因此这个部门就别过滤了<span class="token punctuation">,</span> 不会出现在结果集中
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li></ul><h2 id="_1-3外连接" tabindex="-1"><a class="header-anchor" href="#_1-3外连接" aria-hidden="true">#</a> 1.3外连接</h2><blockquote><p>使用select, <code>在最后的查询结果中，如果想要包含某些对于where条件来说不成立的记录</code>, 我们可以使用外连接. 外连接分为<code>左外连接</code>和<code>右外连接</code>.</p><p>在左连接和右连接时都会以一张A表为基础表，该表的内容会全部显示，然后加上A表和B表匹配的内容。 如果A表的数据在B表中没有记录。 那么在相关联的结果集行中列显示为空值（NULL）。</p><p>对于外连接， 可以使用“(+) ”来表示。 关于使用（+）的一些注意事项：</p><ol><li>（+）操作符只能出现在WHERE子句中。</li><li>当使用（+）操作符执行外连接时，如果在WHERE子句中包含有多个条件，则必须在所有条件中都包含（+）操作符。</li><li>（+）操作符只适用于列，而不能用在表达式上。</li><li>（+）操作符不能与 OR 和 IN 操作符一起使用。</li><li>（+）操作符只能用于实现左外连接和右外连接，而不能用于实现完全外连接。</li></ol><p><code>通过 (+) 就可以对查询的结果进行补充, 补充不满足条件的那一方</code></p><p>举例: <code>where e.deptno = d.deptno</code></p><ul><li>在d表中 有45 这个部门, 也就是 <code>d.deptno</code> 有可能 等于45</li><li>在表 e中没有45号部门的员工, 因此 <code>e.deptno</code>绝对不会等于45</li><li>使用 (+) 就可以对不满足条件的结果进行补充, 根据上述的描述 <code>e.deptno</code>是需要补充的, <ul><li>因此将 (+) 写到 <code>e.deptno</code>后边就可以</li><li><code>where e.deptno(+) = d.deptno</code>, 要补充的是数据来自于等号右侧的 <code>d.deptno</code><ul><li>这样当<code>d.deptno=45</code>的时候<code>where e.deptno = d.deptno</code>这个条件成立</li></ul></li></ul></li></ul></blockquote><ul><li><p>左外连接 <code>(左边的表不加限制) </code></p><blockquote><p>加号没有在哪一边就叫什么外连接</p></blockquote><blockquote><p>用（+）来实现， 这个+号可以这样来理解： + 表示补充，即哪个表有加号，这个表就是匹配表。如果加号写在右表，左表就是全部显示，所以是左连接。</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- e.deptno 中没有45, d.deptno中有45, emp表中的部门是少一个的, 在进行条件判断的时候, 可以使用dept表中的部门标号进行补充, 补充缺少的这个45, 通过补充这个判定条件就可以成立了, 只要判断条件成立, 结果集中就可以显示45号部门的信息, 给信息量少的一点添加一个 (+), 被=号另一端的表进行补充</span>
<span class="token keyword">select</span> d<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>empno<span class="token punctuation">)</span>
  <span class="token keyword">from</span> emp e<span class="token punctuation">,</span> dept d
 <span class="token keyword">where</span> d<span class="token punctuation">.</span>deptno <span class="token operator">=</span> e<span class="token punctuation">.</span>deptno<span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span>
 <span class="token keyword">group</span> <span class="token keyword">by</span> d<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname<span class="token punctuation">;</span>
 
 DEPTNO DNAME                          <span class="token function">COUNT</span><span class="token punctuation">(</span>E<span class="token punctuation">.</span>EMPNO<span class="token punctuation">)</span>
<span class="token comment">------ ------------------------------ --------------</span>
    <span class="token number">10</span> 周刊少年Jump                                <span class="token number">2</span>
    <span class="token number">40</span> 红发海贼团                                   <span class="token number">5</span>
    <span class="token number">45</span> 黑桃海贼团                                   <span class="token number">0</span>
    <span class="token number">60</span> D之一族                                     <span class="token number">8</span>
    <span class="token number">50</span> 黑胡子海贼团                                 <span class="token number">4</span>
    <span class="token number">20</span> 草帽海贼团                                  <span class="token number">19</span>
    <span class="token number">30</span> 红心海贼团                                   <span class="token number">7</span>

<span class="token number">7</span> <span class="token keyword">rows</span> selected
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li><li><p>右外连接<code>(右边的表不加限制)</code></p><blockquote><p>用（+）来实现， 这个+号可以这样来理解： + 表示补充，即哪个表有加号，这个表就是匹配表。如果加号写在左表，右表就是全部显示，所以是右连接。</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> d<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>empno<span class="token punctuation">)</span>
  <span class="token keyword">from</span> emp e<span class="token punctuation">,</span> dept d
 <span class="token keyword">where</span> e<span class="token punctuation">.</span>deptno<span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span> <span class="token operator">=</span> d<span class="token punctuation">.</span>deptno
 <span class="token keyword">group</span> <span class="token keyword">by</span> d<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname<span class="token punctuation">;</span>
 
 DEPTNO DNAME                          <span class="token function">COUNT</span><span class="token punctuation">(</span>E<span class="token punctuation">.</span>EMPNO<span class="token punctuation">)</span>
<span class="token comment">------ ------------------------------ --------------</span>
    <span class="token number">10</span> 周刊少年Jump                                <span class="token number">2</span>
    <span class="token number">40</span> 红发海贼团                                   <span class="token number">5</span>
    <span class="token number">45</span> 黑桃海贼团                                   <span class="token number">0</span>
    <span class="token number">60</span> D之一族                                     <span class="token number">8</span>
    <span class="token number">50</span> 黑胡子海贼团                                 <span class="token number">4</span>
    <span class="token number">20</span> 草帽海贼团                                  <span class="token number">19</span>
    <span class="token number">30</span> 红心海贼团                                   <span class="token number">7</span>

<span class="token number">7</span> <span class="token keyword">rows</span> selected
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li></ul><h2 id="_1-4-自连接" tabindex="-1"><a class="header-anchor" href="#_1-4-自连接" aria-hidden="true">#</a> 1.4 自连接</h2><blockquote><p>自连接: 通过给当前表设置不同的别名，将同一张表视为多张表来使用, 进行多表联查。</p></blockquote><blockquote><p>举例: 查询 xxx员工的老板是 yyy, 最后将尾田/岸本的老板也显示出来</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 员工信息在 emp表中, 老板的信息在哪儿? 也在emp表中</span>
<span class="token comment">-- 可以将一个表做为两张表使用, 可以给这个表指定别名, 通过别名进行操作</span>
<span class="token comment">-- 查询的sql语句</span>
<span class="token comment">-- 两个表的关系: 员工的.mrg=老板.empno</span>
<span class="token comment">-- 通过这个sql语句只能得到普通的员工的老板是谁, 终极老板的信息在结果集中是没有任何体现的\</span>
<span class="token comment">-- 因为 尾田 和 岸本 这两个人没有老板, 他们 mgr字段对应的值为空</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span>ename <span class="token string">&quot;员工&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span>ename <span class="token string">&quot;老板&quot;</span> <span class="token keyword">from</span> emp e<span class="token punctuation">,</span> emp b <span class="token keyword">where</span> e<span class="token punctuation">.</span>mgr<span class="token operator">=</span>b<span class="token punctuation">.</span>empno<span class="token punctuation">;</span>

<span class="token comment">-- 如果想要在结果集中显示这两个人的信息, 需要使用自连接, 自己给自己补充数据</span>
<span class="token comment">-- 因为老板是没有 mgr 字段值的, 为空, 因此需要补充</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span>ename <span class="token string">&quot;员工&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span>ename <span class="token string">&quot;老板&quot;</span> <span class="token keyword">from</span> emp e<span class="token punctuation">,</span> emp b <span class="token keyword">where</span> e<span class="token punctuation">.</span>mgr<span class="token operator">=</span>b<span class="token punctuation">.</span>empno<span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

员工                                               老板
<span class="token comment">-------------------------------------------------- ---------------------------------</span>
阿巴罗·皮萨罗                                      马歇尔·D·帝奇
芝沙斯·巴沙斯                                      马歇尔·D·帝奇
岸本_齐史                                          
尾田_荣一郎                                         


<span class="token comment">-- 必须要显示 岸本_齐史   和 尾田_荣一郎   的老板信息, 这些信息数据库表中是没有的, 如果要显示某些信息, 需要自己指定相关的值</span>

<span class="token keyword">select</span> e<span class="token punctuation">.</span>ename <span class="token string">&quot;员工&quot;</span><span class="token punctuation">,</span> nvl<span class="token punctuation">(</span>b<span class="token punctuation">.</span>ename<span class="token punctuation">,</span> <span class="token string">&#39;他媳妇儿&#39;</span><span class="token punctuation">)</span> <span class="token string">&quot;老板&quot;</span> <span class="token keyword">from</span> emp e<span class="token punctuation">,</span> emp b <span class="token keyword">where</span> e<span class="token punctuation">.</span>mgr<span class="token operator">=</span>b<span class="token punctuation">.</span>empno<span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

员工                                               老板
<span class="token comment">-------------------------------------------------- -------------------------------------</span>
阿巴罗·皮萨罗                                      马歇尔·D·帝奇
芝沙斯·巴沙斯                                      马歇尔·D·帝奇
岸本_齐史                                          他媳妇儿
尾田_荣一郎                                         他媳妇儿
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h1 id="_2-子查询" tabindex="-1"><a class="header-anchor" href="#_2-子查询" aria-hidden="true">#</a> 2. 子查询</h1><blockquote><p>子查询就是select 语句的嵌套使用, 即: 在select中使用select。  表示子语句的select需要写在()中</p><p>写到()中的select执行的优先级高</p></blockquote><h2 id="_2-1-同表子查询" tabindex="-1"><a class="header-anchor" href="#_2-1-同表子查询" aria-hidden="true">#</a> 2.1 同表子查询</h2><blockquote><p>举例: 查询比 路飞 工资高的员工信息</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 只需要查询员工信息表: emp</span>
<span class="token comment">-- 先查询路飞的工资</span>
<span class="token keyword">select</span> sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">&#39;%路飞%&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询比路飞工资高的员工都有谁</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token punctuation">(</span>路飞的工资<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 组合</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">&#39;%路飞%&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_2-2-不同表子查询" tabindex="-1"><a class="header-anchor" href="#_2-2-不同表子查询" aria-hidden="true">#</a> 2.2 不同表子查询</h2><blockquote><p>举例: 查询部门名称是 草帽海贼团 的员工信息</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 部门名称在dept表中, 部门的编号, 部门名称</span>
<span class="token comment">-- 基于部门名称, 查询部门编号</span>
<span class="token keyword">select</span> deptno <span class="token keyword">from</span> dept <span class="token keyword">where</span> dname<span class="token operator">=</span><span class="token string">&#39;草帽海贼团&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 员工信息 emp表, 只有员工所在部门的编号, 没有部门名称</span>
<span class="token comment">-- 基于编号查询员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token punctuation">(</span>草帽海贼团的部门编号<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 组合</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">select</span> deptno <span class="token keyword">from</span> dept <span class="token keyword">where</span> dname<span class="token operator">=</span><span class="token string">&#39;草帽海贼团&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_2-3-在select、from、where、having后边使用子查询" tabindex="-1"><a class="header-anchor" href="#_2-3-在select、from、where、having后边使用子查询" aria-hidden="true">#</a> 2.3 在select、from、where、having后边使用子查询</h2><ul><li><p>在select后使用子查询 - 不常用</p><blockquote><p>查询20号部门的员工号、员工姓名、部门编号、部门名称</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 员工信息: emp表, 可以得到 员工号、员工姓名、部门编号, 部门名称在dept表</span>
<span class="token keyword">select</span> empno<span class="token punctuation">,</span> ename<span class="token punctuation">,</span> deptno<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">select</span> dname <span class="token keyword">from</span> dept <span class="token keyword">where</span> deptno <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">)</span>
  <span class="token keyword">from</span> emp
 <span class="token keyword">where</span> deptno <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>在from后使用子查询 -- 更不常用</p><blockquote><p>在使用select进行查询的时候, from关键字值可以<code>指定表名</code>或者<code>一个结果集</code>即查询的结果. 子查询的结果就是一个结果集, 因此可以将子查询直接写到from的后边.</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 举例</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span> sal <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> ename<span class="token punctuation">,</span> sal<span class="token punctuation">,</span> sal<span class="token operator">*</span><span class="token number">12</span> <span class="token keyword">from</span> emp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>where后使用子查询 --&gt; <code>常用的方式</code></p><blockquote><p>查询比平均工资高的员工信息</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询当前公司所有员工的平均工资</span>
<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>

<span class="token comment">-- 哪些员工的工资比平均工资高?</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token punctuation">(</span>平均工资<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 组合</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>在having后使用子查询</p><blockquote><p>分组统计需要使用关键字: <code>group by</code>, 在这个关键字后边进行数据过滤需要使用关键字<code>having</code></p></blockquote><blockquote><p>查询部门的平均薪资, 并且该部门的平均薪资高于30号部门的平均薪资</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 求出30号部门的平均工资</span>
<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">;</span>

<span class="token comment">-- 对部门进行分组, 计算每个部门的平均薪资, 和30号部门进行比较</span>
<span class="token keyword">select</span> deptno<span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno <span class="token keyword">having</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token number">30</span>号部门的平均工资<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 组合</span>
<span class="token comment">-- 没有显示部门名称, 只显示了部门的ID</span>
<span class="token keyword">select</span> deptno<span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span>
  <span class="token keyword">from</span> emp
 <span class="token keyword">group</span> <span class="token keyword">by</span> deptno
<span class="token keyword">having</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

DEPTNO   <span class="token function">AVG</span><span class="token punctuation">(</span>SAL<span class="token punctuation">)</span>
<span class="token comment">------ ----------</span>
    <span class="token number">40</span>       <span class="token number">4640</span>
    <span class="token number">50</span>     <span class="token number">3996.5</span>
    <span class="token number">10</span>       <span class="token number">5000</span>
    <span class="token number">60</span>    <span class="token number">6248.75</span>
    
<span class="token comment">-- 在结果集中, 显示部门名称和部门ID</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname<span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>sal<span class="token punctuation">)</span>
  <span class="token keyword">from</span> emp e<span class="token punctuation">,</span> dept d
<span class="token keyword">where</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno
<span class="token keyword">group</span> <span class="token keyword">by</span> e<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname
<span class="token keyword">having</span> <span class="token function">avg</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>sal<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

DEPTNO DNAME                          <span class="token function">AVG</span><span class="token punctuation">(</span>E<span class="token punctuation">.</span>SAL<span class="token punctuation">)</span>
<span class="token comment">------ ------------------------------ ----------</span>
    <span class="token number">10</span> 周刊少年Jump                         <span class="token number">5000</span>
    <span class="token number">40</span> 红发海贼团                            <span class="token number">4640</span>
    <span class="token number">60</span> D之一族                           <span class="token number">6248.75</span>
    <span class="token number">50</span> 黑胡子海贼团                        <span class="token number">3996.5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><blockquote><p>查询部门的最低月薪并且该部门最低月薪高于50号部门的最低月薪</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> e<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname<span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>sal<span class="token punctuation">)</span>
  <span class="token keyword">from</span> emp e<span class="token punctuation">,</span> dept d
<span class="token keyword">where</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno
<span class="token keyword">group</span> <span class="token keyword">by</span> e<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span> d<span class="token punctuation">.</span>dname
<span class="token keyword">having</span> <span class="token function">min</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>sal<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

DEPTNO DNAME                          <span class="token function">MIN</span><span class="token punctuation">(</span>E<span class="token punctuation">.</span>SAL<span class="token punctuation">)</span>
<span class="token comment">------ ------------------------------ ----------</span>
    <span class="token number">10</span> 周刊少年Jump                         <span class="token number">5000</span>
    <span class="token number">40</span> 红发海贼团                            <span class="token number">2600</span>
    <span class="token number">60</span> D之一族                              <span class="token number">3450</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ul><h2 id="_2-4-单行-多行子查询" tabindex="-1"><a class="header-anchor" href="#_2-4-单行-多行子查询" aria-hidden="true">#</a> 2.4 单行/多行子查询</h2><ul><li><p>单行子查询</p><blockquote><p>单行子查询就是<code>该条子查询执行结束时，只返回一条记录(一行数据)。</code></p><p>在当行子查询中只能使用单行操作符: 使用单行操作符：<code>=</code>、<code>&gt;</code>、<code>&gt;=</code>、<code>&lt;</code>、<code>&lt;=</code>、<code>&lt;&gt;</code></p></blockquote><blockquote><p>举例: 查询工资比 路飞 工资高的员工的信息</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 只需要查询员工信息表: emp</span>
<span class="token comment">-- 先查询路飞的工资</span>
<span class="token keyword">select</span> sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">&#39;%路飞%&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询比路飞工资高的员工都有谁</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token punctuation">(</span>路飞的工资<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 组合</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">&#39;%路飞%&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>多行子查询</p><blockquote><p>多行子查询就是<code>该条子查询执行结束时，只返回多条记录(多行数据)。</code></p><p>多行操作符有：</p><ul><li><strong>IN: 等于列表中的<code>任意</code>一个</strong></li><li><strong>ANY: 和子查询返回的<code>某一个</code>值比较</strong></li><li><strong>ALL: 和子查询返回的<code>所有</code>值比较</strong></li></ul></blockquote><p>与每个比较运算符一起使用时的含义：</p><table><thead><tr><th>条件</th><th>表示含义</th></tr></thead><tbody><tr><td><code>c = ANY (…)</code></td><td><code>c</code>列中的值必须与集合中的一个或多个值匹配，以评估为<code>true</code>。</td></tr><tr><td><code>c != ANY (…)</code></td><td><code>c</code>列中的值不能与集合中的一个或多个值匹配以评估为<code>true</code>。</td></tr><tr><td><code>c &gt; ANY (…)</code></td><td><code>c</code>列中的值必须大于要评估为<code>true</code>的集合中的最小值。</td></tr><tr><td><code>c &lt; ANY (…)</code></td><td><code>c</code>列中的值必须小于要评估为<code>true</code>的集合中的最大值。</td></tr><tr><td><code>c&gt;= ANY (…)</code></td><td><code>c</code>列中的值必须大于或等于要评估为<code>true</code>的集合中的最小值。</td></tr><tr><td><code>c &lt;= ANY (…)</code></td><td><code>c</code>列中的值必须小于或等于要评估为<code>true</code>的集合中的最大值。</td></tr></tbody></table><p>下表说明了SQL <code>ALL</code>运算符的含义：</p><table><thead><tr><th>条件</th><th>描述</th></tr></thead><tbody><tr><td><code>c &gt; ALL(…)</code></td><td><code>c</code>列中的值必须大于要评估为<code>true</code>的集合中的最大值。</td></tr><tr><td><code>c &gt;= ALL(…)</code></td><td><code>c</code>列中的值必须大于或等于要评估为<code>true</code>的集合中的最大值。</td></tr><tr><td><code>c &lt; ALL(…)</code></td><td><code>c</code>列中的值必须小于要评估为<code>true</code>的集合中的最小值。</td></tr><tr><td><code>c &lt;= ALL(…)</code></td><td><code>c</code>列中的值必须小于或等于要评估为<code>true</code>的集合中的最小值。</td></tr><tr><td><code>c &lt;&gt; ALL(…)</code></td><td><code>c</code>列中的值不得等于要评估为<code>true</code>的集合中的任何值。</td></tr><tr><td><code>c = ALL(…)</code></td><td><code>c</code>列中的值必须等于要评估为<code>true</code>的集合中的任何值。</td></tr></tbody></table><ol><li><blockquote><p>查询部门名称为 红心海贼团 和 红发海贼团 的员工信息</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 部门名称在dept表中, 员工信息在emp表, 两个表中有一个共同的字段deptno</span>
<span class="token comment">-- 通过查询dept表, 得到两个部门的部门编号</span>
<span class="token keyword">select</span> deptno <span class="token keyword">from</span> dept <span class="token keyword">where</span> dname<span class="token operator">=</span><span class="token string">&#39;红心海贼团&#39;</span> <span class="token operator">or</span> dname<span class="token operator">=</span><span class="token string">&#39;红发海贼团&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> deptno <span class="token keyword">from</span> dept <span class="token keyword">where</span> dname <span class="token operator">in</span><span class="token punctuation">(</span><span class="token string">&#39;红心海贼团&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;红发海贼团&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
DEPTNO
<span class="token comment">------</span>
    <span class="token number">30</span>
    <span class="token number">40</span>
    
<span class="token comment">-- 基于得到的部门编号, 查询相关的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno <span class="token operator">in</span><span class="token punctuation">(</span>部门ID的集合<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 组合</span>
<span class="token keyword">select</span> <span class="token operator">*</span>
  <span class="token keyword">from</span> emp
 <span class="token keyword">where</span> deptno <span class="token operator">in</span>
       <span class="token punctuation">(</span><span class="token keyword">select</span> deptno <span class="token keyword">from</span> dept <span class="token keyword">where</span> dname <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">&#39;红心海贼团&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;红发海贼团&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li><li><blockquote><p>查询所有月薪比30号部门薪资最低者的工资高的员工信息</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">------------------ 单行子查询处理思路 ------------------</span>
<span class="token comment">-- 查询出30部门薪资最低的人的工资 -&gt; 小明</span>
<span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">;</span>

<span class="token comment">-- 最终查询的是公司某些员工的信息-&gt; 比小明工资高的员工</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token punctuation">(</span>小明的工资<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 组合</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">------------------ 多行子查询处理思路 ------------------</span>
<span class="token comment">-- 查询出30部门所有员工的工资</span>
<span class="token keyword">select</span> sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">;</span>

<span class="token comment">-- 最终查询的是公司某些员工的信息-&gt; 比30号部门中工资最低的人工资高</span>
<span class="token comment">-- where 后边的判断条件中 要使用sal 和 集合中工资最低的进行比较</span>
<span class="token comment">-- 只要 sal &gt; 集合中的最小值就可以了</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span><span class="token keyword">any</span><span class="token punctuation">(</span><span class="token number">30</span>号部门所有人的工资集合<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 组合</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token keyword">any</span><span class="token punctuation">(</span><span class="token keyword">select</span> sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li><li><blockquote><p>查询比30号部门所有员工工资都高的员工信息</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">------------------ 单行子查询处理思路 ------------------</span>
<span class="token comment">-- 查询出30部门薪资最高的人的工资 -&gt; 小明</span>
<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">;</span>

<span class="token comment">-- 最终查询的是公司某些员工的信息-&gt; 比小明工资高的员工</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token punctuation">(</span>小明的工资<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 组合</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">------------------ 多行子查询处理思路 ------------------</span>
<span class="token comment">-- 查询出30部门所有员工的工资</span>
<span class="token keyword">select</span> sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">;</span>

<span class="token comment">-- 最终查询的是公司某些员工的信息-&gt; 比30号部门中工资最高的人工资高</span>
<span class="token comment">-- where 后边的判断条件中 要使用sal 和 集合中工资最高的进行比较</span>
<span class="token comment">-- 只要 sal &gt; 集合中的最大值就可以了</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span><span class="token keyword">all</span><span class="token punctuation">(</span><span class="token number">30</span>号部门所有人的工资集合<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 组合</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token keyword">all</span><span class="token punctuation">(</span><span class="token keyword">select</span> sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li></ol></li></ul><h2 id="_2-5-子查询中的null" tabindex="-1"><a class="header-anchor" href="#_2-5-子查询中的null" aria-hidden="true">#</a> 2.5 子查询中的NULL</h2><blockquote><p>判断一个值等于、不等于空，不能使用=和!=号，而应该使用is 和 not。</p><p>如果集合中有NULL值, 不能使用not in。例如：not in (10, 20, NULL)，但是可以使用 in</p></blockquote><blockquote><p>查询不是管理者的员工信息。</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询的表是员工信息表-&gt; emp</span>
<span class="token comment">-- 如何确定员工是是不是管理者: 在数据库表的 mgr 字段的值对应的是员工的编号, 只要员工编号出现在这一列, 这个员工就是一个管理者</span>

<span class="token comment">-- 查询是管理者的员工的信息</span>
<span class="token comment">-- 这个查询对应的结果集中有空字段null</span>
<span class="token keyword">select</span> <span class="token keyword">distinct</span> mgr <span class="token keyword">from</span> emp<span class="token punctuation">;</span>

<span class="token comment">-- 查询公司的员工信息, 只要是员工编号不在管理者集合中就是普通员工</span>
<span class="token comment">-- 在集合中使用 in(), 不在集合中 not in()</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> empno <span class="token operator">not</span> <span class="token operator">in</span><span class="token punctuation">(</span>管理者集合<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 组合</span>
<span class="token comment">-- empno not in(1, 2, null)中不能出现 null, 这样会导致判断条件永远为false</span>
<span class="token comment">-- 去掉集合中的null字段</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> empno <span class="token operator">not</span> <span class="token operator">in</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">distinct</span> mgr <span class="token keyword">from</span> emp <span class="token keyword">where</span> mgr <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h1 id="_3-集合运算" tabindex="-1"><a class="header-anchor" href="#_3-集合运算" aria-hidden="true">#</a> 3. 集合运算</h1><h2 id="_3-1-交集、并集、差集" tabindex="-1"><a class="header-anchor" href="#_3-1-交集、并集、差集" aria-hidden="true">#</a> 3.1 交集、并集、差集</h2><blockquote><p>关键字: 并集: <code>union</code>, 全并集: <code>union all</code>, 交集: <code>intersect</code>, 差集: <code>minus</code></p></blockquote><blockquote><p>比如说有集合 A ( 1 , 2 , 3 ) ， B ( 2 , 3 , 4 ):</p><ul><li><p>A∪B（取并集） = ( 1, 2, 3, 4） ，如果是全并集就是 （1, 2, 3, 2, 3, 4）</p></li><li><p>A∩B （取交集） = ( 2, 3 )</p></li><li><p>A – B（取差集） = ( 1 ) ，B – A = （4）</p></li></ul></blockquote><p>​ <img src="/by-jj/assets/clip_image002.06a17401.jpg" alt="img"></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 并集</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">10</span> 
	<span class="token keyword">union</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span>

<span class="token comment">-- 全并集</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">10</span> 
	<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 交集</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">10</span> 
	<span class="token keyword">intersect</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 差集, 剩下30号部门信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span> 
	minus
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 交换位置, 剩下20号部门信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span> 
	minus
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="_3-2-集合使用的注意事项" tabindex="-1"><a class="header-anchor" href="#_3-2-集合使用的注意事项" aria-hidden="true">#</a> 3.2 集合使用的注意事项</h2><ol><li><p><strong>参与运算的各个集合必须列数相同，且类型一致</strong>。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 错误的例子</span>
<span class="token comment">-- 两个集合列数不一致, </span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span> deptno <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">10</span> 
	<span class="token keyword">union</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询的数据类型不一致</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span> deptno <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">10</span> 
	<span class="token keyword">union</span>
<span class="token keyword">select</span> deptno<span class="token punctuation">,</span> ename <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>采用第一个集合的表头作为最终使用的表头。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> ename <span class="token string">&quot;员工信息&quot;</span><span class="token punctuation">,</span> deptno <span class="token string">&quot;部门ID&quot;</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">10</span> 
	<span class="token keyword">union</span>
<span class="token keyword">select</span> ename <span class="token string">&quot;Name&quot;</span><span class="token punctuation">,</span> deptno <span class="token string">&quot;ID&quot;</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>可以使用括号()先执行后面的语句。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> ename <span class="token string">&quot;员工信息&quot;</span><span class="token punctuation">,</span> deptno <span class="token string">&quot;部门ID&quot;</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">10</span> 
	<span class="token keyword">union</span>
<span class="token punctuation">(</span><span class="token keyword">select</span> ename <span class="token string">&quot;Name&quot;</span><span class="token punctuation">,</span> deptno <span class="token string">&quot;ID&quot;</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol><h1 id="_4-数据处理" tabindex="-1"><a class="header-anchor" href="#_4-数据处理" aria-hidden="true">#</a> 4. 数据处理</h1><h2 id="_4-1-插入数据" tabindex="-1"><a class="header-anchor" href="#_4-1-插入数据" aria-hidden="true">#</a> 4.1 插入数据</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 语法格式</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> 表名<span class="token punctuation">[</span>列名<span class="token number">1</span><span class="token punctuation">,</span> 类名<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token keyword">values</span><span class="token punctuation">(</span>列值<span class="token number">1</span><span class="token punctuation">,</span> 列值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>在scott用户下有一个空表<code>bonus</code>, 可以往这个表中插入一些数据</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">desc</span> bonus<span class="token punctuation">;</span>
Name  <span class="token keyword">Type</span>         Nullable <span class="token keyword">Default</span> Comments 
<span class="token comment">----- ------------ -------- ------- -------- </span>
ENAME VARCHAR2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> Y                         
JOB   VARCHAR2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>  Y                         
SAL   NUMBER       Y                         
COMM  NUMBER       Y  
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><p>插入全部列</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 给所有的列都指定相关的值, 这个时候列名是可以省略不写的</span>

<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> bonus <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;kate&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;秘书&#39;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">1</span> <span class="token keyword">row</span> inserted

<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> bonus<span class="token punctuation">;</span>

ENAME      JOB              SAL       COMM
<span class="token comment">---------- --------- ---------- ----------</span>
kate       秘书            <span class="token number">5000</span>      <span class="token number">10000</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li><li><p>插入部分列 / 隐式插入null</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 在插入数据的时候可指定部分列的值, 没有指定值的字段就是空字段</span>
<span class="token comment">-- 如果指定部分列的值, 需要将列名一并写出</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> bonus<span class="token punctuation">(</span>ename<span class="token punctuation">,</span> job<span class="token punctuation">,</span> comm<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;lucy&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;销售&#39;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">1</span> <span class="token keyword">row</span> inserted


<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> bonus<span class="token punctuation">;</span>

ENAME      JOB              SAL       COMM
<span class="token comment">---------- --------- ---------- ----------</span>
kate       秘书            <span class="token number">5000</span>      <span class="token number">10000</span>
lucy       销售                       <span class="token number">5000</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li><li><p>显示插入null</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 可以显示的指定某一个字段值为空</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> bonus<span class="token punctuation">(</span>ename<span class="token punctuation">,</span> job<span class="token punctuation">,</span> sal<span class="token punctuation">,</span> comm<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;lucy&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;销售&#39;</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">1</span> <span class="token keyword">row</span> inserted


<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> bonus<span class="token punctuation">;</span>

ENAME      JOB              SAL       COMM
<span class="token comment">---------- --------- ---------- ----------</span>
kate       秘书            <span class="token number">5000</span>      <span class="token number">10000</span>
lucy       销售                       <span class="token number">5000</span>
lucy       销售                       <span class="token number">5000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ul><h2 id="_4-2-更新数据" tabindex="-1"><a class="header-anchor" href="#_4-2-更新数据" aria-hidden="true">#</a> 4.2 更新数据</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span> 表名 <span class="token keyword">set</span> 列名<span class="token operator">=</span>新的值<span class="token punctuation">,</span> <span class="token punctuation">[</span>列名<span class="token number">2</span><span class="token operator">=</span>新的值<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token keyword">where</span> 列名<span class="token operator">=</span>列值<span class="token punctuation">(</span>条件<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> bonus<span class="token punctuation">;</span>

ENAME      JOB              SAL       COMM
<span class="token comment">---------- --------- ---------- ----------</span>
kate       秘书            <span class="token number">5000</span>      <span class="token number">10000</span>
lucy       销售                       <span class="token number">5000</span>
lucy       销售                       <span class="token number">5000</span>

<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">update</span> bonus <span class="token keyword">set</span> sal<span class="token operator">=</span><span class="token number">10000</span><span class="token punctuation">,</span> comm<span class="token operator">=</span><span class="token number">1000</span> <span class="token keyword">where</span> ename<span class="token operator">=</span><span class="token string">&#39;lucy&#39;</span><span class="token punctuation">;</span>

<span class="token number">2</span> <span class="token keyword">rows</span> updated


<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> bonus<span class="token punctuation">;</span>

ENAME      JOB              SAL       COMM
<span class="token comment">---------- --------- ---------- ----------</span>
kate       秘书            <span class="token number">5000</span>      <span class="token number">10000</span>
lucy       销售           <span class="token number">10000</span>       <span class="token number">1000</span>
lucy       销售           <span class="token number">10000</span>       <span class="token number">1000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="_4-3-删除数据" tabindex="-1"><a class="header-anchor" href="#_4-3-删除数据" aria-hidden="true">#</a> 4.3 删除数据</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 语法:</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> 表名<span class="token punctuation">;</span>			<span class="token comment">-- 删除表中所有的数据</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> 表名 <span class="token keyword">where</span> 列名<span class="token operator">=</span>列值<span class="token punctuation">;</span>		<span class="token comment">-- 删除满足条件的列对应的行</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> bonus<span class="token punctuation">;</span>

ENAME      JOB              SAL       COMM
<span class="token comment">---------- --------- ---------- ----------</span>
kate       秘书            <span class="token number">5000</span>      <span class="token number">10000</span>
lucy       销售           <span class="token number">10000</span>       <span class="token number">1000</span>
lucy       销售           <span class="token number">10000</span>       <span class="token number">1000</span>

<span class="token comment">-- 根据条件删除对应的行</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">delete</span> <span class="token keyword">from</span> bonus <span class="token keyword">where</span> ename<span class="token operator">=</span><span class="token string">&#39;kate&#39;</span><span class="token punctuation">;</span>

<span class="token number">1</span> <span class="token keyword">row</span> deleted


<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> bonus<span class="token punctuation">;</span>

ENAME      JOB              SAL       COMM
<span class="token comment">---------- --------- ---------- ----------</span>
lucy       销售           <span class="token number">10000</span>       <span class="token number">1000</span>
lucy       销售           <span class="token number">10000</span>       <span class="token number">1000</span>

<span class="token comment">-- 清空表</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">delete</span> <span class="token keyword">from</span> bonus<span class="token punctuation">;</span>

<span class="token number">2</span> <span class="token keyword">rows</span> deleted


<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> bonus<span class="token punctuation">;</span>

ENAME      JOB              SAL       COMM
<span class="token comment">---------- --------- ---------- ----------</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="_4-4-事务" tabindex="-1"><a class="header-anchor" href="#_4-4-事务" aria-hidden="true">#</a> 4.4 事务</h2><h3 id="_4-4-1-什么是数据库事务" tabindex="-1"><a class="header-anchor" href="#_4-4-1-什么是数据库事务" aria-hidden="true">#</a> 4.4.1 什么是数据库事务</h3><blockquote><p><strong>数据库事务是构成单一逻辑工作单元的操作集合</strong> 。</p><ul><li><code>多个操作的集合, 这些操作中必须要涉及到数据库数据的写操作</code></li><li><code>如果都是读操作, 根本不需要事务</code></li></ul><p>比如： 转账是生活中常见的操作,比如从A账户转账100元到B账号。站在用户角度而言,这是一个逻辑上的单一操作,然而在数据库系统中,至少会分成两个步骤来完成:</p><ol><li><p>将A账户的金额减少100元</p></li><li><p>将B账户的金额增加100元。</p></li></ol></blockquote><p><img src="/by-jj/assets/1422237-20181122103041637-782687204.16e8e5ca.png" alt="img"></p><blockquote><p>在这个过程中可能会出现以下问题:</p><ol><li>转账操作的第一步执行成功, A账户上的钱减少了100元, 但是第二步执行失败或者未执行便发生系统崩溃,导致B账户并没有相应增加100元。</li><li>转账操作刚完成就发生系统崩溃,系统重启恢复时丢失了崩溃前的转账记录。</li><li>同时又另一个用户转账给B账户,由于同时对B账户进行操作,导致B账户金额出现异常。</li><li>这个交易的过程不能出现任何异常 <ul><li>如果出现了异常, 需要进行状态的回滚, 回滚到交易开始的时候 == &gt; 复原</li><li>如何有事务就可以还原状态, 如果没有事务就无法还原</li></ul></li><li>事务的作用: <ul><li>在交易开始的时候开启一事务, 记录当前的状态</li><li>交易过程中判断每一步是否成功了, 成功: 继续, 失败: 不继续交易, 状态回滚到开始的时候</li></ul></li></ol><p>为了便于解决这些问题,需要引入数据库事务的概念。</p><p>关于事务有以下几点特性：</p><ol><li><p><code>数据库事务可以包含一个或多个数据库操作, 但这些操作构成一个逻辑上的整体，构成逻辑整体的这些数据库操作, 要么全部执行成功, 要么全部不执行</code>。 -- 原子性</p></li><li><p><code>构成事务的所有操作, 要么全都对数据库产生影响, 要么全都不产生影响, 即不管事务是否执行成功, 数据库总能保持一致性状态</code>。 -- 一致性</p></li><li><p><code>事务的执行不受其他事务的干扰，当数据库被多个客户端并发访问时，会隔离它们的操作，防止出现：脏读、幻读、不可重复读</code> 。 -- 隔离性</p><ul><li>脏读是指一个事务读取了另一个事务未提交的数据</li><li>不可重复读是指一个事务对同一数据的读取结果前后不一致。</li><li>幻读是指事务读取某个范围的数据时，因为其他事务的操作导致前后两次读取的结果不一致。</li><li>幻读和不可重复读的区别在于,不可重复读是针对确定的某一行数据而言, 而幻读是针对不确定的多行数据。</li></ul></li><li><p><code>对于任意已提交事务，系统必须保证该事务对数据库的改变不被丢失，即使数据库出现故障 </code>。--持久性</p></li></ol></blockquote><p><img src="/by-jj/assets/1422237-20181122103102223-1059881337.58fe5bfb.png" alt="img"></p><h3 id="_4-4-2-oracle中的事务" tabindex="-1"><a class="header-anchor" href="#_4-4-2-oracle中的事务" aria-hidden="true">#</a> 4.4.2 oracle中的事务</h3><p>​ <img src="/by-jj/assets/clip_image002.ba9c078c.png" alt="img"></p><ul><li><p>设置保存点</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 在写数据库之前, 需要设置保存点 ===&gt; 开启了一个事务</span>
<span class="token comment">-- 保存点的名字不允许重名</span>
<span class="token keyword">sql</span><span class="token operator">&gt;</span> <span class="token keyword">savepoint</span> 保存点的名字<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>回滚到保存点</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 事务对应的操作集合有一步失败了, 需要进行数据的回滚</span>
<span class="token comment">-- 回滚就是内存数据的覆盖, 用旧的数据覆盖新的数据</span>
<span class="token keyword">sql</span><span class="token operator">&gt;</span> <span class="token keyword">rollback</span> <span class="token keyword">to</span> <span class="token keyword">savepoint</span> 保存点的名字<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>提交事务</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 提交之后保存点就不存在了, 提交之后不能回滚</span>
<span class="token comment">-- 提交就是将内存数据写入到磁盘的数据库文件中</span>
<span class="token keyword">sql</span><span class="token operator">&gt;</span> <span class="token keyword">commit</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>举例</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 一个完整的操作(一个事务), 这个操作需要若干步来完成</span>
<span class="token comment">-- 设置一个保存点 a</span>
<span class="token comment">-- 状态: 空表</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">savepoint</span> a<span class="token punctuation">;</span>

<span class="token keyword">Savepoint</span> created

<span class="token comment">-- 插入数据</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> bonus <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;tom&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;董事长&#39;</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">1</span> <span class="token keyword">row</span> inserted


<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> bonus <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;jack&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;销售&#39;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">1</span> <span class="token keyword">row</span> inserted

<span class="token comment">-- 添加保存点 b</span>
<span class="token comment">-- 状态: 数据库表中 有两条记录</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">savepoint</span> b<span class="token punctuation">;</span>

<span class="token keyword">Savepoint</span> created

<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> bonus <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;lucy&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;秘书&#39;</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">1</span> <span class="token keyword">row</span> inserted


<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> bonus <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;lily&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;小秘书&#39;</span><span class="token punctuation">,</span> <span class="token number">9000</span><span class="token punctuation">,</span> <span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">1</span> <span class="token keyword">row</span> inserted

<span class="token comment">-- 添加保存点c</span>
<span class="token comment">-- 数据库表中有4条数据</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">savepoint</span> c<span class="token punctuation">;</span>

<span class="token keyword">Savepoint</span> created


<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">delete</span> <span class="token keyword">from</span> bonus <span class="token keyword">where</span> ename <span class="token operator">=</span> <span class="token string">&#39;lily&#39;</span><span class="token punctuation">;</span>

<span class="token number">1</span> <span class="token keyword">row</span> deleted

<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> bonus<span class="token punctuation">;</span>

ENAME      JOB              SAL       COMM
<span class="token comment">---------- --------- ---------- ----------</span>
tom        董事长         <span class="token number">10000</span>       <span class="token number">2000</span>
jack       销售            <span class="token number">1000</span>       <span class="token number">2000</span>
lucy       秘书           <span class="token number">10000</span>      <span class="token number">20000</span>

<span class="token comment">-- 回滚到保存点c</span>
<span class="token comment">-- 重新回到有4条记录的表状态</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">rollback</span> <span class="token keyword">to</span> <span class="token keyword">savepoint</span> c<span class="token punctuation">;</span>

<span class="token keyword">Rollback</span> complete


<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> bonus<span class="token punctuation">;</span>

ENAME      JOB              SAL       COMM
<span class="token comment">---------- --------- ---------- ----------</span>
tom        董事长         <span class="token number">10000</span>       <span class="token number">2000</span>
jack       销售            <span class="token number">1000</span>       <span class="token number">2000</span>
lucy       秘书           <span class="token number">10000</span>      <span class="token number">20000</span>
lily       小秘书          <span class="token number">9000</span>      <span class="token number">20000</span>


<span class="token comment">-- 当确定所有的数据库操作都没有问题, 提交事务</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">commit</span><span class="token punctuation">;</span>

<span class="token keyword">Commit</span> complete
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div></li></ul><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/by-jj/assets/app.f5f78651.js" defer></script>
  </body>
</html>
