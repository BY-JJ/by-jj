<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="h.ico"><title>1.项目简介 | LH的学习笔记</title><meta name="description" content="描述：学习笔记">
    <link rel="modulepreload" href="/by-jj/assets/app.f5f78651.js"><link rel="modulepreload" href="/by-jj/assets/QtCoin.html.df32c947.js"><link rel="modulepreload" href="/by-jj/assets/QtCoin.html.291abcca.js"><link rel="modulepreload" href="/by-jj/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/by-jj/assets/style.686345b1.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/by-jj/" class=""><img class="logo" src="/by-jj/laoshi.png" alt="LH的学习笔记"><span class="site-name can-hide">LH的学习笔记</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/by-jj/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/by-jj/guild/about/" class="" aria-label="关于"><!--[--><!--]--> 关于 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="汇编"><span class="title">汇编</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="汇编"><span class="title">汇编</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/HB/" class="" aria-label="计算机硬件基础"><!--[--><!--]--> 计算机硬件基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/HB/" class="" aria-label="汇编基础"><!--[--><!--]--> 汇编基础 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="C语言"><span class="title">C语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="C语言"><span class="title">C语言</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/C/" class="" aria-label="C语法基础"><!--[--><!--]--> C语法基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJJG/" class="" aria-label="数据结构基础一"><!--[--><!--]--> 数据结构基础一 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJJG2/" class="" aria-label="数据结构基础二"><!--[--><!--]--> 数据结构基础二 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/CTG/" class="" aria-label="C提高"><!--[--><!--]--> C提高 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/CSL/" class="" aria-label="C实例"><!--[--><!--]--> C实例 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="C++"><span class="title">C++</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="C++"><span class="title">C++</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++JC1/" class="" aria-label="C++基础一"><!--[--><!--]--> C++基础一 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++JC2/" class="" aria-label="C++基础二"><!--[--><!--]--> C++基础二 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++JC3/" class="" aria-label="C++基础三"><!--[--><!--]--> C++基础三 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++KF/" class="" aria-label="C++开发"><!--[--><!--]--> C++开发 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Unity3D"><span class="title">Unity3D</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Unity3D"><span class="title">Unity3D</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="C#语法基础"><!--[--><!--]--> C#语法基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="坦克大战"><!--[--><!--]--> 坦克大战 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="飞机大战"><!--[--><!--]--> 飞机大战 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="噩梦射手"><!--[--><!--]--> 噩梦射手 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Qt"><span class="title">Qt</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Qt"><span class="title">Qt</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtBJ/" class="" aria-label="Qt笔记"><!--[--><!--]--> Qt笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtCoin/" class="" aria-label="Qt翻金币小游戏"><!--[--><!--]--> Qt翻金币小游戏 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qt6/" class="" aria-label="Qt6基础"><!--[--><!--]--> Qt6基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qml/" class="" aria-label="Qml基础"><!--[--><!--]--> Qml基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtOpencv/" class="" aria-label="Qtopencv"><!--[--><!--]--> Qtopencv <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtOpenGL/" class="" aria-label="QtopenGL"><!--[--><!--]--> QtopenGL <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/3D/" class="" aria-label="Qtquick3D基础"><!--[--><!--]--> Qtquick3D基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qt6KFJC/" class="" aria-label="Qt6跨平台开发基础"><!--[--><!--]--> Qt6跨平台开发基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qt6SL/" class="" aria-label="Qt6实例"><!--[--><!--]--> Qt6实例 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Go"><span class="title">Go</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Go"><span class="title">Go</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/GoYFJC/" class="" aria-label="Go语法基础"><!--[--><!--]--> Go语法基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/GoGJYF/" class="" aria-label="Go高级语法"><!--[--><!--]--> Go高级语法 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux编程"><span class="title">Linux编程</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux编程"><span class="title">Linux编程</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJK1/" class="" aria-label="数据库一"><!--[--><!--]--> 数据库一 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJK2/" class="" aria-label="数据库二"><!--[--><!--]--> 数据库二 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="计算机网络"><span class="title">计算机网络</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="计算机网络"><span class="title">计算机网络</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="网络攻防"><span class="title">网络攻防</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="网络攻防"><span class="title">网络攻防</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="web渗透"><span class="title">web渗透</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="web渗透"><span class="title">web渗透</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="第三方库与框架"><span class="title">第三方库与框架</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="第三方库与框架"><span class="title">第三方库与框架</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/by-jj/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/by-jj/guild/about/" class="" aria-label="关于"><!--[--><!--]--> 关于 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="汇编"><span class="title">汇编</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="汇编"><span class="title">汇编</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/HB/" class="" aria-label="计算机硬件基础"><!--[--><!--]--> 计算机硬件基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/HB/" class="" aria-label="汇编基础"><!--[--><!--]--> 汇编基础 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="C语言"><span class="title">C语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="C语言"><span class="title">C语言</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/C/" class="" aria-label="C语法基础"><!--[--><!--]--> C语法基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJJG/" class="" aria-label="数据结构基础一"><!--[--><!--]--> 数据结构基础一 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJJG2/" class="" aria-label="数据结构基础二"><!--[--><!--]--> 数据结构基础二 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/CTG/" class="" aria-label="C提高"><!--[--><!--]--> C提高 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/CSL/" class="" aria-label="C实例"><!--[--><!--]--> C实例 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="C++"><span class="title">C++</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="C++"><span class="title">C++</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++JC1/" class="" aria-label="C++基础一"><!--[--><!--]--> C++基础一 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++JC2/" class="" aria-label="C++基础二"><!--[--><!--]--> C++基础二 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++JC3/" class="" aria-label="C++基础三"><!--[--><!--]--> C++基础三 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/C++KF/" class="" aria-label="C++开发"><!--[--><!--]--> C++开发 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Unity3D"><span class="title">Unity3D</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Unity3D"><span class="title">Unity3D</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="C#语法基础"><!--[--><!--]--> C#语法基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="坦克大战"><!--[--><!--]--> 坦克大战 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="飞机大战"><!--[--><!--]--> 飞机大战 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="噩梦射手"><!--[--><!--]--> 噩梦射手 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Qt"><span class="title">Qt</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Qt"><span class="title">Qt</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtBJ/" class="" aria-label="Qt笔记"><!--[--><!--]--> Qt笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtCoin/" class="" aria-label="Qt翻金币小游戏"><!--[--><!--]--> Qt翻金币小游戏 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qt6/" class="" aria-label="Qt6基础"><!--[--><!--]--> Qt6基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qml/" class="" aria-label="Qml基础"><!--[--><!--]--> Qml基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtOpencv/" class="" aria-label="Qtopencv"><!--[--><!--]--> Qtopencv <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/QtOpenGL/" class="" aria-label="QtopenGL"><!--[--><!--]--> QtopenGL <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/3D/" class="" aria-label="Qtquick3D基础"><!--[--><!--]--> Qtquick3D基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qt6KFJC/" class="" aria-label="Qt6跨平台开发基础"><!--[--><!--]--> Qt6跨平台开发基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/Qt6SL/" class="" aria-label="Qt6实例"><!--[--><!--]--> Qt6实例 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Go"><span class="title">Go</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Go"><span class="title">Go</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/GoYFJC/" class="" aria-label="Go语法基础"><!--[--><!--]--> Go语法基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/GoGJYF/" class="" aria-label="Go高级语法"><!--[--><!--]--> Go高级语法 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JavaScript"><span class="title">JavaScript</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux编程"><span class="title">Linux编程</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux编程"><span class="title">Linux编程</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJK1/" class="" aria-label="数据库一"><!--[--><!--]--> 数据库一 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/by-jj/guild/SJK2/" class="" aria-label="数据库二"><!--[--><!--]--> 数据库二 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="计算机网络"><span class="title">计算机网络</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="计算机网络"><span class="title">计算机网络</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="网络攻防"><span class="title">网络攻防</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="网络攻防"><span class="title">网络攻防</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="web渗透"><span class="title">web渗透</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="web渗透"><span class="title">web渗透</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="第三方库与框架"><span class="title">第三方库与框架</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="第三方库与框架"><span class="title">第三方库与框架</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/by-jj/guide/ts/" class="" aria-label="笔记"><!--[--><!--]--> 笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.baidu.com/" rel="noopener noreferrer" target="_blank" aria-label="其它链接"><!--[--><!--]--> 其它链接 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a aria-current="page" href="/by-jj/guild/QtCoin.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="1.项目简介"><!--[--><!--]--> 1.项目简介 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_2-1-创建项目" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.1 创建项目"><!--[--><!--]--> 2.1 创建项目 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_2-2添加资源" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2添加资源"><!--[--><!--]--> 2.2添加资源 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_3-1设置游戏主场景配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1设置游戏主场景配置"><!--[--><!--]--> 3.1设置游戏主场景配置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_3-2设置背景图片" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.2设置背景图片"><!--[--><!--]--> 3.2设置背景图片 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_3-3创建开始按钮" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.3创建开始按钮"><!--[--><!--]--> 3.3创建开始按钮 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_3-4开始按钮跳跃特效实现" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.4开始按钮跳跃特效实现"><!--[--><!--]--> 3.4开始按钮跳跃特效实现 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_3-5创建选择关卡场景" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.5创建选择关卡场景"><!--[--><!--]--> 3.5创建选择关卡场景 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_3-6点击开始按钮进入选择关卡场景" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.6点击开始按钮进入选择关卡场景"><!--[--><!--]--> 3.6点击开始按钮进入选择关卡场景 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_4-1场景基本设置" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.1场景基本设置"><!--[--><!--]--> 4.1场景基本设置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_4-2-背景设置" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.2 背景设置"><!--[--><!--]--> 4.2 背景设置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_4-3-创建返回按钮" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3 创建返回按钮"><!--[--><!--]--> 4.3 创建返回按钮 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_4-4-返回按钮" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.4 返回按钮"><!--[--><!--]--> 4.4 返回按钮 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_4-5创建选择关卡按钮" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.5创建选择关卡按钮"><!--[--><!--]--> 4.5创建选择关卡按钮 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_4-6创建翻金币场景" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.6创建翻金币场景"><!--[--><!--]--> 4.6创建翻金币场景 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-1-场景基本设置" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1 场景基本设置"><!--[--><!--]--> 5.1 场景基本设置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-2背景设置" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2背景设置"><!--[--><!--]--> 5.2背景设置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-3返回按钮" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.3返回按钮"><!--[--><!--]--> 5.3返回按钮 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-4在choosescene选择关卡场景中-监听playscene的返回信号" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.4在ChooseScene选择关卡场景中，监听PlayScene的返回信号"><!--[--><!--]--> 5.4在ChooseScene选择关卡场景中，监听PlayScene的返回信号 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-5-显示当前关卡" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.5 显示当前关卡"><!--[--><!--]--> 5.5 显示当前关卡 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-6创建金币背景图片" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.6创建金币背景图片"><!--[--><!--]--> 5.6创建金币背景图片 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-7-创建金币类" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.7 创建金币类"><!--[--><!--]--> 5.7 创建金币类 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-7-1-创建金币类mycoin" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.7.1 创建金币类MyCoin"><!--[--><!--]--> 5.7.1 创建金币类MyCoin <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-7-2-构造函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.7.2 构造函数"><!--[--><!--]--> 5.7.2 构造函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-7-3测试" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.7.3测试"><!--[--><!--]--> 5.7.3测试 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-8引入关卡数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.8引入关卡数据"><!--[--><!--]--> 5.8引入关卡数据 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-8-1-添加现有的文件dataconfig" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.8.1 添加现有的文件dataConfig"><!--[--><!--]--> 5.8.1 添加现有的文件dataConfig <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-8-2添加现有文件" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.8.2添加现有文件"><!--[--><!--]--> 5.8.2添加现有文件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-8-3-完成添加" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.8.3 完成添加"><!--[--><!--]--> 5.8.3 完成添加 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-8-4-数据分析" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.8.4 数据分析"><!--[--><!--]--> 5.8.4 数据分析 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-8-5-测试关卡数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.8.5 测试关卡数据"><!--[--><!--]--> 5.8.5 测试关卡数据 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_5-9-初始化各个关卡" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.9 初始化各个关卡"><!--[--><!--]--> 5.9 初始化各个关卡 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_6-1-mycoin类扩展属性和行为" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.1 MyCoin类扩展属性和行为"><!--[--><!--]--> 6.1 MyCoin类扩展属性和行为 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_6-2创建特效" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.2创建特效"><!--[--><!--]--> 6.2创建特效 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_6-3-测试" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.3 测试"><!--[--><!--]--> 6.3 测试 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_6-4-禁用按钮" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.4 禁用按钮"><!--[--><!--]--> 6.4 禁用按钮 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_7-1-判断是否胜利" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.1 判断是否胜利"><!--[--><!--]--> 7.1 判断是否胜利 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_7-2-胜利图片显示" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.2 胜利图片显示"><!--[--><!--]--> 7.2 胜利图片显示 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_7-3胜利后禁用按钮" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.3胜利后禁用按钮"><!--[--><!--]--> 7.3胜利后禁用按钮 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_8-1开始音效" class="router-link-active router-link-exact-active sidebar-item" aria-label="8.1开始音效"><!--[--><!--]--> 8.1开始音效 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_8-2-选择关卡音效" class="router-link-active router-link-exact-active sidebar-item" aria-label="8.2 选择关卡音效"><!--[--><!--]--> 8.2 选择关卡音效 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_8-3-返回按钮音效" class="router-link-active router-link-exact-active sidebar-item" aria-label="8.3 返回按钮音效"><!--[--><!--]--> 8.3 返回按钮音效 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/by-jj/guild/QtCoin.html#_8-4-翻金币与胜利音效" class="router-link-active router-link-exact-active sidebar-item" aria-label="8.4 翻金币与胜利音效"><!--[--><!--]--> 8.4 翻金币与胜利音效 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="_1-项目简介" tabindex="-1"><a class="header-anchor" href="#_1-项目简介" aria-hidden="true">#</a> 1.项目简介</h1><p>翻金币项目是一款经典的益智类游戏，我们需要将金币都翻成同色，才视为胜利。首先，开始界面如下：</p><p><img src="/by-jj/QtCoin/image-20220329192254890.png" alt="image-20220329192254890.png"></p><p>点击start按钮，进入下层界面，选择关卡：</p><p><img src="/by-jj/QtCoin/image-20220329192509731.png" alt="image-20220329192509731"></p><p>在这里我们设立了20个关卡供玩家选择，假设我们点击了第1关，界面如下：</p><p><img src="/by-jj/QtCoin/image-20220329192525936.png" alt="image-20220329192525936"></p><p>如果想要赢取胜利，我们需要点击上图中红色方框选取的区域，翻动其上下左右的金币，然后当所有金币都变为金色，视为胜利，胜利界面如下：</p><p><img src="/by-jj/QtCoin/image-20220329192536528.png" alt="image-20220329192536528"></p><h1 id="_2-项目基本配置" tabindex="-1"><a class="header-anchor" href="#_2-项目基本配置" aria-hidden="true">#</a> 2.项目基本配置</h1><h2 id="_2-1-创建项目" tabindex="-1"><a class="header-anchor" href="#_2-1-创建项目" aria-hidden="true">#</a> 2.1 创建项目</h2><p>打开Qt-Creator，创建项目：注意名称不要包含空格和回车，路径不要有中文</p><p><img src="/by-jj/QtCoin/image-20220329192552364.png" alt="image-20220329192552364"></p><p>类信息中，选择基类为QMainWindow，类名称为 MainScene，代表着主场景。</p><p><img src="/by-jj/QtCoin/image-20220329192603230.png" alt="image-20220329192603230"></p><p>点击完成，创建出项目：</p><p><img src="/by-jj/QtCoin/image-20220329192613697.png" alt="image-20220329192613697"></p><p>创建的项目结构如下：</p><p><img src="/by-jj/QtCoin/image-20220329192622398.png" alt="image-20220329192622398"></p><h2 id="_2-2添加资源" tabindex="-1"><a class="header-anchor" href="#_2-2添加资源" aria-hidden="true">#</a> 2.2添加资源</h2><p>将资源添加到当前项目下</p><p><img src="/by-jj/QtCoin/image-20220329192630235.png" alt="image-20220329192630235"></p><p>然后创建.qrc文件</p><p><img src="/by-jj/QtCoin/image-20220329192636974.png" alt="image-20220329192636974"></p><p>进入编辑模式，添加前缀“/”，添加文件</p><p><img src="/by-jj/QtCoin/image-20220329192647613.png" alt="image-20220329192647613"></p><p><img src="/by-jj/QtCoin/image-20220329192702167.png" alt="image-20220329192702167"></p><p>将所有资源文件进行添加</p><p><img src="/by-jj/QtCoin/image-20220329192709770.png" alt="image-20220329192709770"></p><p>至此，我们将所有需要的资源添加到了本项目中</p><h1 id="_3-主场景" tabindex="-1"><a class="header-anchor" href="#_3-主场景" aria-hidden="true">#</a> 3.主场景</h1><h2 id="_3-1设置游戏主场景配置" tabindex="-1"><a class="header-anchor" href="#_3-1设置游戏主场景配置" aria-hidden="true">#</a> 3.1设置游戏主场景配置</h2><p>点击mainscene.ui，设计其菜单栏如下：</p><p><img src="/by-jj/QtCoin/image-20220329192718338.png" alt="image-20220329192718338"></p><p>设计“退出”菜单项，objectName为actionQuit，text为退出；</p><p>移除自带的工具栏与状态栏</p><p><img src="/by-jj/QtCoin/image-20220329192724334.png" alt="image-20220329192724334"></p><p>回到MainScene.cpp文件中，进入构造函数，进行场景的基本配置，代码如下：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//设置固定大小</span>
this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span><span class="token number">320</span><span class="token punctuation">,</span><span class="token number">588</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//设置应用图片</span>
this<span class="token operator">-&gt;</span><span class="token function">setWindowIcon</span><span class="token punctuation">(</span><span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Coin0001.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//设置窗口标题</span>
this<span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">&quot;翻金币小游戏&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>运行效果如图：</p><p><img src="/by-jj/QtCoin/image-20220329192819944.png" alt="image-20220329192819944"></p><p>实现点击开始，退出游戏功能，代码如下：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//点击退出，退出程序</span>
<span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-&gt;</span>actionQuit<span class="token punctuation">,</span><span class="token operator">&amp;</span>QAction<span class="token operator">::</span>triggered<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>this<span class="token operator">-&gt;</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_3-2设置背景图片" tabindex="-1"><a class="header-anchor" href="#_3-2设置背景图片" aria-hidden="true">#</a> 3.2设置背景图片</h2><p>重写MainScene的PaintEvent事件，并添加以下代码，绘制背景图片</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> MainScene<span class="token operator">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//创建画家，指定绘图设备</span>
    QPainter <span class="token function">painter</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//创建QPixmap对象</span>
    QPixmap pix<span class="token punctuation">;</span>
    <span class="token comment">//加载图片</span>
    pix<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/PlayLevelSceneBg.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//绘制背景图</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">//加载标题</span>
    pix<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Title.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//缩放图片</span>
    pix <span class="token operator">=</span> pix<span class="token punctuation">.</span><span class="token function">scaled</span><span class="token punctuation">(</span>pix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//绘制标题</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>运行效果如图：</p><p><img src="/by-jj/QtCoin/image-20220329192836789.png" alt="image-20220329192836789"></p><h2 id="_3-3创建开始按钮" tabindex="-1"><a class="header-anchor" href="#_3-3创建开始按钮" aria-hidden="true">#</a> 3.3创建开始按钮</h2><p>开始按钮点击后有弹跳效果，这个效果是我们利用自定义控件实现的（QPushButton不会自带这类特效），我们可以自己封装出一个按钮控件，来实现这些效果。</p><p>创建MyPushButton，继承与QPushButton</p><p><img src="/by-jj/QtCoin/image-20220329192842751.png" alt="image-20220329192842751"></p><p><img src="/by-jj/QtCoin/image-20220329192846899.png" alt="image-20220329192846899"></p><p>点击完成</p><p>修改MyPushButton的父类</p><p><img src="/by-jj/QtCoin/image-20220329192852535.png" alt="image-20220329192852535"></p><p>提供MyPushButton的构造的重载版本，可以让MyPushButton提供正常显示的图片以及按下后显示的图片</p><p>代码如下：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//normalImg 代表正常显示的图片</span>
    <span class="token comment">//pressImg  代表按下后显示的图片，默认为空</span>
    <span class="token function">MyPushButton</span><span class="token punctuation">(</span>QString normalImg<span class="token punctuation">,</span>QString pressImg <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    QString normalImgPath<span class="token punctuation">;</span>  <span class="token comment">//默认显示图片路径</span>
    QString pressedImgPath<span class="token punctuation">;</span> <span class="token comment">//按下后显示图片路径</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>实现的重载版本MyPushButton构造函数代码如下：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>MyPushButton<span class="token operator">::</span><span class="token function">MyPushButton</span><span class="token punctuation">(</span>QString normalImg<span class="token punctuation">,</span>QString pressImg<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//成员变量normalImgPath保存正常显示图片路径</span>
    normalImgPath <span class="token operator">=</span> normalImg<span class="token punctuation">;</span>
    <span class="token comment">//成员变量pressedImgPath保存按下后显示的图片</span>
    pressedImgPath <span class="token operator">=</span> pressImg<span class="token punctuation">;</span>
    <span class="token comment">//创建QPixmap对象</span>
    QPixmap pixmap<span class="token punctuation">;</span>
    <span class="token comment">//判断是否能够加载正常显示的图片，若不能提示加载失败</span>
    bool ret <span class="token operator">=</span> pixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>normalImgPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ret<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> normalImg <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;加载图片失败!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//设置图片的固定尺寸</span>
    this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span> pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置不规则图片的样式表</span>
    this<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span><span class="token string">&quot;QPushButton{border:0px;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置图标</span>
    this<span class="token operator">-&gt;</span><span class="token function">setIcon</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置图标大小</span>
    this<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>回到MainScene的构造函数中，创建开始按钮</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//创建开始按钮</span>
MyPushButton <span class="token operator">*</span> startBtn <span class="token operator">=</span> new <span class="token function">MyPushButton</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/MenuSceneStartButton.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    startBtn<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    startBtn<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token operator">-</span>startBtn<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>运行效果如图：</p><p><img src="/by-jj/QtCoin/image-20220329192902630.png" alt="image-20220329192902630"></p><p>不规则的开始按钮添加完成</p><h2 id="_3-4开始按钮跳跃特效实现" tabindex="-1"><a class="header-anchor" href="#_3-4开始按钮跳跃特效实现" aria-hidden="true">#</a> 3.4开始按钮跳跃特效实现</h2><p>连接信号槽，监听开始按钮点击</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//监听点击事件，执行特效</span>
   <span class="token function">connect</span><span class="token punctuation">(</span>startBtn<span class="token punctuation">,</span><span class="token operator">&amp;</span>MyPushButton<span class="token operator">::</span>clicked<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       startBtn<span class="token operator">-&gt;</span><span class="token function">zoom1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//向下跳跃</span>
       startBtn<span class="token operator">-&gt;</span><span class="token function">zoom2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//向上跳跃</span>
     
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>zoom1与zoom2 为MyPushButton中扩展的特效代码，具体如下:</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> MyPushButton<span class="token operator">::</span><span class="token function">zoom1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//创建动画对象</span>
    QPropertyAnimation <span class="token operator">*</span> animation1 <span class="token operator">=</span> new <span class="token function">QPropertyAnimation</span><span class="token punctuation">(</span>this<span class="token punctuation">,</span><span class="token string">&quot;geometry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置时间间隔，单位毫秒</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">setDuration</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//创建起始位置</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">setStartValue</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//创建结束位置</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">setEndValue</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置缓和曲线，QEasingCurve::OutBounce 为弹跳效果    animation1-&gt;setEasingCurve(QEasingCurve::OutBounce);</span>
    <span class="token comment">//开始执行动画</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">start</span><span class="token punctuation">(</span>QAbstractAnimation<span class="token operator">::</span>DeleteWhenStopped<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MyPushButton<span class="token operator">::</span><span class="token function">zoom2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    QPropertyAnimation <span class="token operator">*</span> animation1 <span class="token operator">=</span>  new <span class="token function">QPropertyAnimation</span><span class="token punctuation">(</span>this<span class="token punctuation">,</span><span class="token string">&quot;geometry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">setDuration</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">setStartValue</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">setEndValue</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">setEasingCurve</span><span class="token punctuation">(</span>QEasingCurve<span class="token operator">::</span>OutBounce<span class="token punctuation">)</span><span class="token punctuation">;</span>
    animation1<span class="token operator">-&gt;</span><span class="token function">start</span><span class="token punctuation">(</span>QAbstractAnimation<span class="token operator">::</span>DeleteWhenStopped<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>运行代码，点击按钮，测试弹跳效果</p><h2 id="_3-5创建选择关卡场景" tabindex="-1"><a class="header-anchor" href="#_3-5创建选择关卡场景" aria-hidden="true">#</a> 3.5创建选择关卡场景</h2><p>点击开始按钮后，进入选择关卡场景。</p><p>首先我们先创建选择关卡场景，添加新的C++文件</p><p><img src="/by-jj/QtCoin/image-20220329192914099.png" alt="image-20220329192914099"></p><p><img src="/by-jj/QtCoin/image-20220329192920469.png" alt="image-20220329192920469"></p><p>类名为ChooseLevelScene 选择基类为QMainWindow，点击下一步，然后点击完成。</p><h2 id="_3-6点击开始按钮进入选择关卡场景" tabindex="-1"><a class="header-anchor" href="#_3-6点击开始按钮进入选择关卡场景" aria-hidden="true">#</a> 3.6点击开始按钮进入选择关卡场景</h2><p>目前点击主场景的开始按钮，只有弹跳特效，但是我们还需要有功能上的实现，特效结束后，我们应该进入选择关卡场景</p><p>在MainScene.h中 保存ChooseScene选择关卡场景对象</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//选择关卡场景</span>
    ChooseLevelScene <span class="token operator">*</span>chooseScene <span class="token operator">=</span> new ChooseLevelScene<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在zoom1和zoom2特效后，延时0.5秒，进入选择关卡场景，代码如下：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//延时0.5秒后 进入选择场景</span>
        QTimer<span class="token operator">::</span><span class="token function">singleShot</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> this<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            this<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            chooseScene<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="/by-jj/QtCoin/image-20220329192927749.png" alt="image-20220329192927749"></p><p>测试点击开始，执行特效后延时0.5秒进入选择关卡场景</p><h1 id="_4-选择关卡场景" tabindex="-1"><a class="header-anchor" href="#_4-选择关卡场景" aria-hidden="true">#</a> 4.选择关卡场景</h1><h2 id="_4-1场景基本设置" tabindex="-1"><a class="header-anchor" href="#_4-1场景基本设置" aria-hidden="true">#</a> 4.1场景基本设置</h2><p>选择关卡构造函数如下：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//设置窗口固定大小</span>
    this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span><span class="token number">320</span><span class="token punctuation">,</span><span class="token number">588</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置图标</span>
    this<span class="token operator">-&gt;</span><span class="token function">setWindowIcon</span><span class="token punctuation">(</span><span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Coin0001.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置标题</span>
    this<span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">&quot;选择关卡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//创建菜单栏</span>
    QMenuBar <span class="token operator">*</span> bar <span class="token operator">=</span> this<span class="token operator">-&gt;</span><span class="token function">menuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    this<span class="token operator">-&gt;</span><span class="token function">setMenuBar</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//创建开始菜单</span>
    QMenu <span class="token operator">*</span> startMenu <span class="token operator">=</span> bar<span class="token operator">-&gt;</span><span class="token function">addMenu</span><span class="token punctuation">(</span><span class="token string">&quot;开始&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//创建按钮菜单项</span>
    QAction <span class="token operator">*</span> quitAction <span class="token operator">=</span> startMenu<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">&quot;退出&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//点击退出 退出游戏</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>quitAction<span class="token punctuation">,</span><span class="token operator">&amp;</span>QAction<span class="token operator">::</span>triggered<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>this<span class="token operator">-&gt;</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>运行效果如图：</p><p><img src="/by-jj/QtCoin/image-20220329192933931.png" alt="image-20220329192933931"></p><h2 id="_4-2-背景设置" tabindex="-1"><a class="header-anchor" href="#_4-2-背景设置" aria-hidden="true">#</a> 4.2 背景设置</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> ChooseLevelScene<span class="token operator">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    QPainter <span class="token function">painter</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    QPixmap pix<span class="token punctuation">;</span>
    pix<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/OtherSceneBg.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token comment">//加载标题</span>
    pix<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Title.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_4-3-创建返回按钮" tabindex="-1"><a class="header-anchor" href="#_4-3-创建返回按钮" aria-hidden="true">#</a> 4.3 创建返回按钮</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//返回按钮</span>
    MyPushButton <span class="token operator">*</span> closeBtn <span class="token operator">=</span> new <span class="token function">MyPushButton</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/BackButton.png&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;:/res/BackButtonSelected.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    closeBtn<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    closeBtn<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>closeBtn<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>closeBtn<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>返回按钮是有正常显示图片和点击后显示图片的两种模式，所以我们需要重写MyPushButton中的 MousePressEvent和MouseReleaseEvent</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//鼠标事件</span>
<span class="token keyword">void</span> MyPushButton<span class="token operator">::</span><span class="token function">mousePressEvent</span><span class="token punctuation">(</span>QMouseEvent <span class="token operator">*</span>e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pressedImgPath <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token comment">//选中路径不为空，显示选中图片</span>
    <span class="token punctuation">{</span>
        QPixmap pixmap<span class="token punctuation">;</span>
        bool ret <span class="token operator">=</span> pixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>pressedImgPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ret<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> pressedImgPath <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;加载图片失败!&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span> pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span><span class="token string">&quot;QPushButton{border:0px;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIcon</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//交给父类执行按下事件</span>
    <span class="token keyword">return</span> QPushButton<span class="token operator">::</span><span class="token function">mousePressEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> MyPushButton<span class="token operator">::</span><span class="token function">mouseReleaseEvent</span><span class="token punctuation">(</span>QMouseEvent <span class="token operator">*</span>e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>normalImgPath <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token comment">//选中路径不为空，显示选中图片</span>
    <span class="token punctuation">{</span>
        QPixmap pixmap<span class="token punctuation">;</span>
        bool ret <span class="token operator">=</span> pixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>normalImgPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ret<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> normalImgPath <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;加载图片失败!&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span> pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span><span class="token string">&quot;QPushButton{border:0px;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIcon</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//交给父类执行 释放事件</span>
    <span class="token keyword">return</span> QPushButton<span class="token operator">::</span><span class="token function">mouseReleaseEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h2 id="_4-4-返回按钮" tabindex="-1"><a class="header-anchor" href="#_4-4-返回按钮" aria-hidden="true">#</a> 4.4 返回按钮</h2><p>在这里点击返回后，延时0.5后隐藏自身，并且发送自定义信号，告诉外界自身已经选择了返回按钮。</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//返回按钮功能实现</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>closeBtn<span class="token punctuation">,</span><span class="token operator">&amp;</span>MyPushButton<span class="token operator">::</span>clicked<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        QTimer<span class="token operator">::</span><span class="token function">singleShot</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> this<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            this<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//触发自定义信号，关闭自身，该信号写到 signals下做声明</span>
            emit this<span class="token operator">-&gt;</span><span class="token function">chooseSceneBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>在主场景MainScene中 点击开始按钮显示选择关卡的同时，监听选择关卡的返回按钮消息</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//监听选择场景的返回按钮    </span>
<span class="token function">connect</span><span class="token punctuation">(</span>chooseScene<span class="token punctuation">,</span><span class="token operator">&amp;</span>ChooseLevelScene<span class="token operator">::</span>chooseSceneBack<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		chooseScene <span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                this<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>测试主场景与选择关卡场景的切换功能。</p><h2 id="_4-5创建选择关卡按钮" tabindex="-1"><a class="header-anchor" href="#_4-5创建选择关卡按钮" aria-hidden="true">#</a> 4.5创建选择关卡按钮</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//创建关卡按钮</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        MyPushButton <span class="token operator">*</span> menuBtn <span class="token operator">=</span> new <span class="token function">MyPushButton</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/LevelIcon.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        menuBtn<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
        menuBtn<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">25</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token operator">%</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">70</span> <span class="token punctuation">,</span> <span class="token number">130</span><span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//按钮上显示的文字</span>
        QLabel <span class="token operator">*</span> label <span class="token operator">=</span> new QLabel<span class="token punctuation">;</span>
        label<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
        label<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span>menuBtn<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>menuBtn<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        label<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">number</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        label<span class="token operator">-&gt;</span><span class="token function">setAlignment</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>AlignHCenter <span class="token operator">|</span> Qt<span class="token operator">::</span>AlignVCenter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置居中</span>
        label<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">25</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token operator">%</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">70</span> <span class="token punctuation">,</span> <span class="token number">130</span><span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        label<span class="token operator">-&gt;</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>WA_TransparentForMouseEvents<span class="token punctuation">,</span>true<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//鼠标事件穿透</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>运行效果如图：</p><p><img src="/by-jj/QtCoin/image-20220329192946648.png" alt="image-20220329192946648"></p><h2 id="_4-6创建翻金币场景" tabindex="-1"><a class="header-anchor" href="#_4-6创建翻金币场景" aria-hidden="true">#</a> 4.6创建翻金币场景</h2><p>点击关卡按钮后，会进入游戏的核心场景，也就是翻金币的场景，首先先创建出该场景的.h和.cpp文件</p><p>创建PlayScene</p><p><img src="/by-jj/QtCoin/image-20220329192952885.png" alt="image-20220329192952885"></p><p>点击选择关卡按钮后会跳入到该场景</p><p>建立点击按钮，跳转场景的信号槽连接</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>在ChooseLevelScene<span class="token punctuation">.</span>h 中声明
PlayScene <span class="token operator">*</span>pScene <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//监听选择关卡按钮的信号槽</span>
        <span class="token function">connect</span><span class="token punctuation">(</span>menuBtn<span class="token punctuation">,</span><span class="token operator">&amp;</span>MyPushButton<span class="token operator">::</span>clicked<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token comment">// qDebug() &lt;&lt; &quot;select: &quot; &lt;&lt; i;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>pScene <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>  <span class="token comment">//游戏场景最好不用复用，直接移除掉创建新的场景</span>
            <span class="token punctuation">{</span>
                this<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                pScene <span class="token operator">=</span> new <span class="token function">PlayScene</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将选择的关卡号 传入给PlayerScene</span>
                pScene<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>这里pScene = new PlayScene(i+1); 将用户所选的关卡号发送给pScene，也就是翻金币场景，当然PlayScene 要提供重载的有参构造版本，来接受这个参数</p><h1 id="_5-翻金币场景" tabindex="-1"><a class="header-anchor" href="#_5-翻金币场景" aria-hidden="true">#</a> 5.翻金币场景</h1><h2 id="_5-1-场景基本设置" tabindex="-1"><a class="header-anchor" href="#_5-1-场景基本设置" aria-hidden="true">#</a> 5.1 场景基本设置</h2><p>PlayScene.h中 声明成员变量，用于记录当前用户选择的关卡</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//成员变量 记录关卡索引</span>
<span class="token keyword">int</span> levalIndex<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>PlayScene.cpp中 初始化该场景配置</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>PlayScene<span class="token operator">::</span><span class="token function">PlayScene</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//qDebug() &lt;&lt; &quot;当前关卡为&quot;&lt;&lt; index;</span>
    this<span class="token operator">-&gt;</span>levalIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>
    <span class="token comment">//设置窗口固定大小</span>
    this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span><span class="token number">320</span><span class="token punctuation">,</span><span class="token number">588</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置图标</span>
    this<span class="token operator">-&gt;</span><span class="token function">setWindowIcon</span><span class="token punctuation">(</span><span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Coin0001.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置标题</span>
    this<span class="token operator">-&gt;</span><span class="token function">setWindowTitle</span><span class="token punctuation">(</span><span class="token string">&quot;翻金币&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//创建菜单栏</span>
    QMenuBar <span class="token operator">*</span> bar <span class="token operator">=</span> this<span class="token operator">-&gt;</span><span class="token function">menuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    this<span class="token operator">-&gt;</span><span class="token function">setMenuBar</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//创建开始菜单</span>
    QMenu <span class="token operator">*</span> startMenu <span class="token operator">=</span> bar<span class="token operator">-&gt;</span><span class="token function">addMenu</span><span class="token punctuation">(</span><span class="token string">&quot;开始&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//创建按钮菜单项</span>
    QAction <span class="token operator">*</span> quitAction <span class="token operator">=</span> startMenu<span class="token operator">-&gt;</span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">&quot;退出&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//点击退出 退出游戏</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>quitAction<span class="token punctuation">,</span><span class="token operator">&amp;</span>QAction<span class="token operator">::</span>triggered<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>this<span class="token operator">-&gt;</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="_5-2背景设置" tabindex="-1"><a class="header-anchor" href="#_5-2背景设置" aria-hidden="true">#</a> 5.2背景设置</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> PlayScene<span class="token operator">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//加载背景</span>
    QPainter <span class="token function">painter</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    QPixmap pix<span class="token punctuation">;</span>
    pix<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/PlayLevelSceneBg.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//加载标题</span>
    pix<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Title.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pix <span class="token operator">=</span> pix<span class="token punctuation">.</span><span class="token function">scaled</span><span class="token punctuation">(</span>pix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">drawPixmap</span><span class="token punctuation">(</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pix<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_5-3返回按钮" tabindex="-1"><a class="header-anchor" href="#_5-3返回按钮" aria-hidden="true">#</a> 5.3返回按钮</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>  <span class="token comment">//返回按钮</span>
    MyPushButton <span class="token operator">*</span> closeBtn <span class="token operator">=</span> new <span class="token function">MyPushButton</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/BackButton.png&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;:/res/BackButtonSelected.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    closeBtn<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    closeBtn<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>closeBtn<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>closeBtn<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//返回按钮功能实现</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>closeBtn<span class="token punctuation">,</span><span class="token operator">&amp;</span>MyPushButton<span class="token operator">::</span>clicked<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        QTimer<span class="token operator">::</span><span class="token function">singleShot</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> this<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            this<span class="token operator">-&gt;</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//触发自定义信号，关闭自身，该信号写到 signals下做声明</span>
            emit this<span class="token operator">-&gt;</span><span class="token function">chooseSceneBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_5-4在choosescene选择关卡场景中-监听playscene的返回信号" tabindex="-1"><a class="header-anchor" href="#_5-4在choosescene选择关卡场景中-监听playscene的返回信号" aria-hidden="true">#</a> 5.4在ChooseScene选择关卡场景中，监听PlayScene的返回信号</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token function">connect</span><span class="token punctuation">(</span>pScene<span class="token punctuation">,</span><span class="token operator">&amp;</span>PlayScene<span class="token operator">::</span>chooseSceneBack<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    this<span class="token operator">-&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    delete pScene<span class="token punctuation">;</span>
                    pScene <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="/by-jj/QtCoin/image-20220329193006780.png" alt="image-20220329193006780"></p><h2 id="_5-5-显示当前关卡" tabindex="-1"><a class="header-anchor" href="#_5-5-显示当前关卡" aria-hidden="true">#</a> 5.5 显示当前关卡</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//当前关卡标题</span>
    QLabel <span class="token operator">*</span> label <span class="token operator">=</span> new QLabel<span class="token punctuation">;</span>
    label<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    QFont font<span class="token punctuation">;</span>
    font<span class="token punctuation">.</span><span class="token function">setFamily</span><span class="token punctuation">(</span><span class="token string">&quot;华文新魏&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    font<span class="token punctuation">.</span><span class="token function">setPointSize</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    label<span class="token operator">-&gt;</span><span class="token function">setFont</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span>
    QString str <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">&quot;Leavel: %1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>levalIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
label<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	label<span class="token operator">-&gt;</span><span class="token function">setGeometry</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span>this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">50</span><span class="token punctuation">,</span> this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">50</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        label<span class="token operator">-&gt;</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>WA_TransparentForMouseEvents<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>假设我们选择了第15关卡，运行效果如果：</p><p><img src="/by-jj/QtCoin/image-20220329193014966.png" alt="image-20220329193014966"></p><h2 id="_5-6创建金币背景图片" tabindex="-1"><a class="header-anchor" href="#_5-6创建金币背景图片" aria-hidden="true">#</a> 5.6创建金币背景图片</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code> <span class="token comment">//创建金币的背景图片</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
           <span class="token comment">//绘制背景图片</span>
            QLabel<span class="token operator">*</span> label <span class="token operator">=</span> new QLabel<span class="token punctuation">;</span>
            label<span class="token operator">-&gt;</span><span class="token function">setGeometry</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            label<span class="token operator">-&gt;</span><span class="token function">setPixmap</span><span class="token punctuation">(</span><span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/BoardNode.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            label<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
            label<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">57</span> <span class="token operator">+</span> i<span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token operator">+</span>j<span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>运行效果如图：</p><p><img src="/by-jj/QtCoin/image-20220329193023966.png" alt="image-20220329193023966"></p><h2 id="_5-7-创建金币类" tabindex="-1"><a class="header-anchor" href="#_5-7-创建金币类" aria-hidden="true">#</a> 5.7 创建金币类</h2><p>金币是本游戏的核心对象，并且在游戏中可以利用二维数组进行维护，拥有支持点击，翻转特效等特殊性，因此不妨将金币单独封装到一个类中，完成金币所需的所有功能。</p><h3 id="_5-7-1-创建金币类mycoin" tabindex="-1"><a class="header-anchor" href="#_5-7-1-创建金币类mycoin" aria-hidden="true">#</a> 5.7.1 创建金币类MyCoin</h3><p><img src="/by-jj/QtCoin/image-20220329193031908.png" alt="image-20220329193031908"></p><p>并修改MyCoin的基类为QPushButton</p><h3 id="_5-7-2-构造函数" tabindex="-1"><a class="header-anchor" href="#_5-7-2-构造函数" aria-hidden="true">#</a> 5.7.2 构造函数</h3><p>在资源图片中，我们可以看到，金币翻转的效果原理是多张图片切换而形成的，而以下八张图片中，第一张与最后一张比较特殊，因此我们在给用户看的时候，无非是金币Coin0001或者是银币 Coin0008这两种图。</p><p>​ 因此我们在创建一个金币对象时候，应该提供一个参数，代表着传入的是金币资源路径还是银币资源路径，根据路径我们创建不同样式的图案。</p><p><img src="/by-jj/QtCoin/image-20220329193038470.png" alt="image-20220329193038470"></p><p>在MyCoin.h中声明：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token function">MyCoin</span><span class="token punctuation">(</span>QString butImg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//代表图片路径</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在MyCoin.cpp中进行实现</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>MyCoin<span class="token operator">::</span><span class="token function">MyCoin</span><span class="token punctuation">(</span>QString butImg<span class="token punctuation">)</span>
<span class="token punctuation">{</span>

    QPixmap pixmap<span class="token punctuation">;</span>
    bool ret <span class="token operator">=</span> pixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>butImg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ret<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> butImg <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;加载图片失败!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span> pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    this<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span><span class="token string">&quot;QPushButton{border:0px;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    this<span class="token operator">-&gt;</span><span class="token function">setIcon</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    this<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_5-7-3测试" tabindex="-1"><a class="header-anchor" href="#_5-7-3测试" aria-hidden="true">#</a> 5.7.3测试</h3><p>在翻金币场景 PlayScene中，我们测试下封装的金币类是否可用，可以在创建好的金币背景代码后，添加如下代码：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//金币对象</span>
            MyCoin <span class="token operator">*</span> coin <span class="token operator">=</span> new <span class="token function">MyCoin</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Coin0001.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            coin<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
            coin<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">59</span> <span class="token operator">+</span> i<span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">204</span><span class="token operator">+</span>j<span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>运行效果如图</p><p><img src="/by-jj/QtCoin/image-20220329193048482.png" alt="image-20220329193048482"></p><h2 id="_5-8引入关卡数据" tabindex="-1"><a class="header-anchor" href="#_5-8引入关卡数据" aria-hidden="true">#</a> 5.8引入关卡数据</h2><p>上述的测试只是为了让我们知道提供的对外接口可行，但是每个关卡的初始化界面并非如此，因此需要我们引用一个现有的关卡文件，文件中记录了各个关卡的金币排列清空，也就是二维数组的数值。</p><h3 id="_5-8-1-添加现有的文件dataconfig" tabindex="-1"><a class="header-anchor" href="#_5-8-1-添加现有的文件dataconfig" aria-hidden="true">#</a> 5.8.1 添加现有的文件dataConfig</h3><p>首先先将dataConfig.h 和 dataConfig.cpp文件放入到当前项目下：</p><p><img src="/by-jj/QtCoin/image-20220329193057694.png" alt="image-20220329193057694"></p><h3 id="_5-8-2添加现有文件" tabindex="-1"><a class="header-anchor" href="#_5-8-2添加现有文件" aria-hidden="true">#</a> 5.8.2添加现有文件</h3><p>其次在Qt_Creator项目右键，点击添加现有文件</p><p><img src="/by-jj/QtCoin/image-20220329193103452.png" alt="image-20220329193103452"></p><h3 id="_5-8-3-完成添加" tabindex="-1"><a class="header-anchor" href="#_5-8-3-完成添加" aria-hidden="true">#</a> 5.8.3 完成添加</h3><p>选择当前项目下的文件，并进行添加</p><p><img src="/by-jj/QtCoin/image-20220329193108611.png" alt="image-20220329193108611"></p><h3 id="_5-8-4-数据分析" tabindex="-1"><a class="header-anchor" href="#_5-8-4-数据分析" aria-hidden="true">#</a> 5.8.4 数据分析</h3><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>可以看到，其实dataConfig<span class="token punctuation">.</span>h中只有一个数据是对外提供的，如下：
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>QMap<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>QVector<span class="token operator">&lt;</span> QVector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span> <span class="token operator">&gt;</span>mData<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>在上面，QMap<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>QVector<span class="token operator">&lt;</span>QVector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>mData<span class="token punctuation">;</span>都记录着每个关卡中的数据。

其中，<span class="token keyword">int</span>代表对应的关卡 ，也就是QMap中的key值，而value值就是对应的二维数组，我们利用的是 QVector<span class="token operator">&lt;</span>QVector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span>来记录着其中的二维数组。
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_5-8-5-测试关卡数据" tabindex="-1"><a class="header-anchor" href="#_5-8-5-测试关卡数据" aria-hidden="true">#</a> 5.8.5 测试关卡数据</h3><p>在Main函数可以测试第一关的数据，添加如下代码：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>dataConfig config<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">//打印第一关所有信息</span>
           <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> config<span class="token punctuation">.</span>mData<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
        <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>输出结果如下图：</p><p><img src="/by-jj/QtCoin/image-20220329193122520.png" alt="image-20220329193122520"></p><p>对应着dataConfig.cpp中第一关数据来看，与之匹配成功，以后我们就可以用dataConfig中的数据来对关卡进行初始化了</p><p><img src="/by-jj/QtCoin/image-20220329193148495.png" alt="image-20220329193148495"></p><h2 id="_5-9-初始化各个关卡" tabindex="-1"><a class="header-anchor" href="#_5-9-初始化各个关卡" aria-hidden="true">#</a> 5.9 初始化各个关卡</h2><p>首先，可以在playScene中声明一个成员变量，用户记录当前关卡的二维数组</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> gameArray<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//二维数组数据</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>之后，在.cpp文件中，初始化这个二维数组</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//初始化二维数组</span>
    dataConfig config<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            gameArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> config<span class="token punctuation">.</span>mData<span class="token punctuation">[</span>this<span class="token operator">-&gt;</span>levalIndex<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>初始化成功后，在金币类 也就是MyCoin类中，扩展属性 posX，posY，以及flag</p><p>这三个属性分别代表了，该金币在二维数组中 x的坐标，y的坐标，以及当前的正反标志。</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> posX<span class="token punctuation">;</span> <span class="token comment">//x坐标</span>
<span class="token keyword">int</span> posY<span class="token punctuation">;</span> <span class="token comment">//y坐标</span>
bool flag<span class="token punctuation">;</span> <span class="token comment">//正反标志</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>然后完成金币初始化，代码如下：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//金币对象</span>
            QString img<span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>gameArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
              img <span class="token operator">=</span> <span class="token string">&quot;:/res/Coin0001.png&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
              img <span class="token operator">=</span> <span class="token string">&quot;:/res/Coin0008.png&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            MyCoin <span class="token operator">*</span> coin <span class="token operator">=</span> new <span class="token function">MyCoin</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
            coin<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
            coin<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">59</span> <span class="token operator">+</span> i<span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">204</span><span class="token operator">+</span>j<span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            coin<span class="token operator">-&gt;</span>posX <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token comment">//记录x坐标</span>
            coin<span class="token operator">-&gt;</span>posY <span class="token operator">=</span> j<span class="token punctuation">;</span> <span class="token comment">//记录y坐标</span>
            coin<span class="token operator">-&gt;</span>flag <span class="token operator">=</span>gameArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//记录正反标志</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>运行测试各个关卡初始化，例如第一关效果如图：</p><p><img src="/by-jj/QtCoin/image-20220329193223163.png" alt="image-20220329193223163"></p><h1 id="_6-翻金币特效" tabindex="-1"><a class="header-anchor" href="#_6-翻金币特效" aria-hidden="true">#</a> 6.翻金币特效</h1><h2 id="_6-1-mycoin类扩展属性和行为" tabindex="-1"><a class="header-anchor" href="#_6-1-mycoin类扩展属性和行为" aria-hidden="true">#</a> 6.1 MyCoin类扩展属性和行为</h2><p>关卡的初始化完成后，下面就应该点击金币，进行翻转的效果了，那么首先我们先在MyCoin类中创建出该方法。</p><p>在MyCoin.h中声明：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">changeFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//改变标志,执行翻转效果</span>
    QTimer <span class="token operator">*</span>timer1<span class="token punctuation">;</span> <span class="token comment">//正面翻反面 定时器</span>
    QTimer <span class="token operator">*</span>timer2<span class="token punctuation">;</span> <span class="token comment">//反面翻正面 定时器</span>
    <span class="token keyword">int</span> min <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//最小图片</span>
    <span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//最大图片</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>MyCoin.cpp中做实现</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> MyCoin<span class="token operator">::</span><span class="token function">changeFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>flag<span class="token punctuation">)</span> <span class="token comment">//如果是正面，执行下列代码</span>
    <span class="token punctuation">{</span>
        timer1<span class="token operator">-&gt;</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span>flag <span class="token operator">=</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token comment">//反面执行下列代码</span>
    <span class="token punctuation">{</span>
        timer2<span class="token operator">-&gt;</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span>flag <span class="token operator">=</span> true<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>当然在构造函数中，记得创建出两个定时器</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//初始化定时器</span>
    timer1 <span class="token operator">=</span> new <span class="token function">QTimer</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    timer2 <span class="token operator">=</span> new <span class="token function">QTimer</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_6-2创建特效" tabindex="-1"><a class="header-anchor" href="#_6-2创建特效" aria-hidden="true">#</a> 6.2创建特效</h2><p>当我们分别启动两个定时器时，需要在构造函数中做监听操作，并且做出响应，翻转金币，然后再结束定时器。</p><p>构造函数中 进行下列监听代码：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//监听正面翻转的信号槽</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>timer1<span class="token punctuation">,</span><span class="token operator">&amp;</span>QTimer<span class="token operator">::</span>timeout<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        QPixmap pixmap<span class="token punctuation">;</span>
        QString str <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Coin000%1.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>min<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span><span class="token string">&quot;QPushButton{border:0px;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIcon</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>min <span class="token operator">&gt;</span> this<span class="token operator">-&gt;</span>max<span class="token punctuation">)</span> <span class="token comment">//如果大于最大值，重置最小值，并停止定时器</span>
        <span class="token punctuation">{</span>
            this<span class="token operator">-&gt;</span>min <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            timer1<span class="token operator">-&gt;</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">connect</span><span class="token punctuation">(</span>timer2<span class="token punctuation">,</span><span class="token operator">&amp;</span>QTimer<span class="token operator">::</span>timeout<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        QPixmap pixmap<span class="token punctuation">;</span>
        QString str <span class="token operator">=</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/Coin000%1.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>max<span class="token punctuation">)</span><span class="token operator">--</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        pixmap<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setFixedSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setStyleSheet</span><span class="token punctuation">(</span><span class="token string">&quot;QPushButton{border:0px;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIcon</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        this<span class="token operator">-&gt;</span><span class="token function">setIconSize</span><span class="token punctuation">(</span><span class="token function">QSize</span><span class="token punctuation">(</span>pixmap<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pixmap<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>max <span class="token operator">&lt;</span> this<span class="token operator">-&gt;</span>min<span class="token punctuation">)</span> <span class="token comment">//如果小于最小值，重置最大值，并停止定时器</span>
        <span class="token punctuation">{</span>
            this<span class="token operator">-&gt;</span>max <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
            timer2<span class="token operator">-&gt;</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="_6-3-测试" tabindex="-1"><a class="header-anchor" href="#_6-3-测试" aria-hidden="true">#</a> 6.3 测试</h2><p>监听每个按钮的点击效果，并翻转金币</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token function">connect</span><span class="token punctuation">(</span>coin<span class="token punctuation">,</span><span class="token operator">&amp;</span>MyCoin<span class="token operator">::</span>clicked<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">//qDebug() &lt;&lt; &quot;点击的位置： x = &quot; &lt;&lt;  coin-&gt;posX &lt;&lt; &quot; y = &quot; &lt;&lt; coin-&gt;posY ;</span>
                coin<span class="token operator">-&gt;</span><span class="token function">changeFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                gameArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> gameArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//数组内部记录的标志同步修改</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="/by-jj/QtCoin/image-20220329193236230.png" alt="image-20220329193236230"></p><h2 id="_6-4-禁用按钮" tabindex="-1"><a class="header-anchor" href="#_6-4-禁用按钮" aria-hidden="true">#</a> 6.4 禁用按钮</h2><p>此时，确实已经可以执行翻转金币代码了，但是如果快速点击，会在金币还没有执行一个完整动作之后 ，又继续开始新的动画，我们应该在金币做动画期间，禁止再次点击，并在完成动画后，开启点击。</p><p>在MyCoin类中加入一个标志 isAnimation 代表是否正在做翻转动画，默认isAnimation值为false。</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>bool isAnimation  <span class="token operator">=</span> false<span class="token punctuation">;</span> <span class="token comment">//做翻转动画的标志</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在MyCoin做动画期间加入</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>this<span class="token operator">-&gt;</span>isAnimation  <span class="token operator">=</span> true<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>也就是changeFlag函数中将标志设为true</p><p>加入位置如下：</p><p><img src="/by-jj/QtCoin/image-20220329193243231.png" alt="image-20220329193243231"></p><p>并且在做完动画时，将标志改为false</p><p><img src="/by-jj/QtCoin/image-20220329193249859.png" alt="image-20220329193249859"></p><p>重写按钮的按下事件，判断如果正在执行动画，那么直接return掉，不要执行后续代码。</p><p>代码如下：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> MyCoin<span class="token operator">::</span><span class="token function">mousePressEvent</span><span class="token punctuation">(</span>QMouseEvent <span class="token operator">*</span>e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>isAnimation <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> QPushButton<span class="token operator">::</span><span class="token function">mousePressEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h1 id="_7-翻周围金币" tabindex="-1"><a class="header-anchor" href="#_7-翻周围金币" aria-hidden="true">#</a> 7.翻周围金币</h1><p>将用户点击的周围 上下左右4个金币也进行延时翻转，代码写到监听点击金币下。</p><p>此时我们发现还需要记录住每个按钮的内容，所以我们将所有金币按钮也放到一个二维数组中，在.h中声明</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>MyCoin <span class="token operator">*</span> coinBtn<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//金币按钮数组</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>并且记录每个按钮的位置</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>coinBtn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> coin<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/by-jj/QtCoin/image-20220329193258101.png" alt="image-20220329193258101"></p><p>延时翻动其他周围金币</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>QTimer<span class="token operator">::</span><span class="token function">singleShot</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> this<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&lt;=</span><span class="token number">3</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                      coinBtn<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">changeFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span> <span class="token operator">=</span> gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span><span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">-</span><span class="token number">1</span><span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                      coinBtn<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">changeFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span> <span class="token operator">=</span> gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span><span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>coin<span class="token operator">-&gt;</span>posY<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;=</span><span class="token number">3</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                     coinBtn<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">changeFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span><span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>coin<span class="token operator">-&gt;</span>posY<span class="token operator">-</span><span class="token number">1</span><span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                     coinBtn<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token function">changeFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> gameArray<span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posX<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>coin<span class="token operator">-&gt;</span>posY<span class="token punctuation">]</span><span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="_7-1-判断是否胜利" tabindex="-1"><a class="header-anchor" href="#_7-1-判断是否胜利" aria-hidden="true">#</a> 7.1 判断是否胜利</h2><p>在PlayScene.h中加入 isWin标志，代表是否胜利。</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>bool isWin <span class="token operator">=</span> true<span class="token punctuation">;</span> <span class="token comment">//是否胜利</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>默认设置为true，只要有一个反面的金币，就将该值改为false，视为未成功。</p><p>代码写到延时翻金币后 进行判断</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//判断是否胜利</span>
                this<span class="token operator">-&gt;</span>isWin <span class="token operator">=</span> true<span class="token punctuation">;</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                        <span class="token comment">//qDebug() &lt;&lt; coinBtn[i][j]-&gt;flag ;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span> coinBtn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-&gt;</span>flag <span class="token operator">==</span> false<span class="token punctuation">)</span>
                        <span class="token punctuation">{</span>
                            this<span class="token operator">-&gt;</span>isWin <span class="token operator">=</span> false<span class="token punctuation">;</span>
                            <span class="token keyword">break</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>如果isWin依然是true，代表胜利了！</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">if</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>isWin<span class="token punctuation">)</span>
       <span class="token punctuation">{</span>
              <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;胜利&quot;</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_7-2-胜利图片显示" tabindex="-1"><a class="header-anchor" href="#_7-2-胜利图片显示" aria-hidden="true">#</a> 7.2 胜利图片显示</h2><p>将胜利的图片提前创建好，如果胜利触发了，将图片弹下来即可</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code> QLabel<span class="token operator">*</span> winLabel <span class="token operator">=</span> new QLabel<span class="token punctuation">;</span>
    QPixmap tmpPix<span class="token punctuation">;</span>
    tmpPix<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/LevelCompletedDialogBg.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    winLabel<span class="token operator">-&gt;</span><span class="token function">setGeometry</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>tmpPix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>tmpPix<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    winLabel<span class="token operator">-&gt;</span><span class="token function">setPixmap</span><span class="token punctuation">(</span>tmpPix<span class="token punctuation">)</span><span class="token punctuation">;</span>
    winLabel<span class="token operator">-&gt;</span><span class="token function">setParent</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    winLabel<span class="token operator">-&gt;</span><span class="token function">move</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> tmpPix<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span> <span class="token punctuation">,</span> <span class="token operator">-</span>tmpPix<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>如果胜利了，将上面的图片移动下来</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">if</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>isWin<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
       <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;胜利&quot;</span><span class="token punctuation">;</span>
       QPropertyAnimation <span class="token operator">*</span> animation1 <span class="token operator">=</span>  new <span class="token function">QPropertyAnimation</span><span class="token punctuation">(</span>winLabel<span class="token punctuation">,</span><span class="token string">&quot;geometry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       animation1<span class="token operator">-&gt;</span><span class="token function">setDuration</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       animation1<span class="token operator">-&gt;</span><span class="token function">setStartValue</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span>winLabel<span class="token operator">-&gt;</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>winLabel<span class="token operator">-&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>winLabel<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>winLabel<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       animation1<span class="token operator">-&gt;</span><span class="token function">setEndValue</span><span class="token punctuation">(</span><span class="token function">QRect</span><span class="token punctuation">(</span>winLabel<span class="token operator">-&gt;</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>winLabel<span class="token operator">-&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">114</span><span class="token punctuation">,</span>winLabel<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>winLabel<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       animation1<span class="token operator">-&gt;</span><span class="token function">setEasingCurve</span><span class="token punctuation">(</span>QEasingCurve<span class="token operator">::</span>OutBounce<span class="token punctuation">)</span><span class="token punctuation">;</span>
       animation1<span class="token operator">-&gt;</span><span class="token function">start</span><span class="token punctuation">(</span>QAbstractAnimation<span class="token operator">::</span>DeleteWhenStopped<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_7-3胜利后禁用按钮" tabindex="-1"><a class="header-anchor" href="#_7-3胜利后禁用按钮" aria-hidden="true">#</a> 7.3胜利后禁用按钮</h2><p>当胜利后，应该禁用所有按钮的点击状态，可以在每个按钮中加入标志位 isWin，如果isWin为true，MousePressEvent直接return掉即可</p><p>MyCoin中.h里添加：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>bool isWin <span class="token operator">=</span> false<span class="token punctuation">;</span><span class="token comment">//胜利标志</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在鼠标按下事件中修改为</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">void</span> MyCoin<span class="token operator">::</span><span class="token function">mousePressEvent</span><span class="token punctuation">(</span>QMouseEvent <span class="token operator">*</span>e<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span>isAnimation<span class="token operator">||</span> isWin <span class="token operator">==</span> true <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> QPushButton<span class="token operator">::</span><span class="token function">mousePressEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//禁用所有按钮点击事件</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
      <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
          coinBtn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-&gt;</span>isWin <span class="token operator">=</span> true<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>测试，胜利后不可以点击任何的金币。</p><h1 id="_8-添加音效" tabindex="-1"><a class="header-anchor" href="#_8-添加音效" aria-hidden="true">#</a> 8.添加音效</h1><p><strong>此处需注意，并不适用于6.0及6.0版本以上的Qt使用</strong></p><h2 id="_8-1开始音效" tabindex="-1"><a class="header-anchor" href="#_8-1开始音效" aria-hidden="true">#</a> 8.1开始音效</h2><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>QSound <span class="token operator">*</span>startSound <span class="token operator">=</span> new <span class="token function">QSound</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/TapButtonSound.wav&quot;</span><span class="token punctuation">,</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>点击开始按钮，播放音效</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>startSound<span class="token operator">-&gt;</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//开始音效</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_8-2-选择关卡音效" tabindex="-1"><a class="header-anchor" href="#_8-2-选择关卡音效" aria-hidden="true">#</a> 8.2 选择关卡音效</h2><p>在选择关卡场景中添加音效</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//选择关卡按钮音效</span>
QSound <span class="token operator">*</span>chooseSound <span class="token operator">=</span> new <span class="token function">QSound</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/TapButtonSound.wav&quot;</span><span class="token punctuation">,</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>选中关卡后，播放音效</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>chooseSound<span class="token operator">-&gt;</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_8-3-返回按钮音效" tabindex="-1"><a class="header-anchor" href="#_8-3-返回按钮音效" aria-hidden="true">#</a> 8.3 返回按钮音效</h2><p>在选择关卡场景与翻金币游戏场景中，分别添加返回按钮音效如下：</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//返回按钮音效</span>
QSound <span class="token operator">*</span>backSound <span class="token operator">=</span> new <span class="token function">QSound</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/BackButtonSound.wav&quot;</span><span class="token punctuation">,</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>分别在点击返回按钮后，播放该音效</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>backSound<span class="token operator">-&gt;</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_8-4-翻金币与胜利音效" tabindex="-1"><a class="header-anchor" href="#_8-4-翻金币与胜利音效" aria-hidden="true">#</a> 8.4 翻金币与胜利音效</h2><p>在PlayScene中添加，翻金币的音效以及 胜利的音效</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//翻金币音效</span>
    QSound <span class="token operator">*</span>flipSound <span class="token operator">=</span> new <span class="token function">QSound</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/ConFlipSound.wav&quot;</span><span class="token punctuation">,</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//胜利按钮音效</span>
    QSound <span class="token operator">*</span>winSound <span class="token operator">=</span> new <span class="token function">QSound</span><span class="token punctuation">(</span><span class="token string">&quot;:/res/LevelWinSound.wav&quot;</span><span class="token punctuation">,</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在翻金币时播放 翻金币音效</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>flipSound<span class="token operator">-&gt;</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>胜利时，播放胜利音效</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>winSound<span class="token operator">-&gt;</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>测试音效，使音效正常播放。</p><h1 id="_9-优化项目" tabindex="-1"><a class="header-anchor" href="#_9-优化项目" aria-hidden="true">#</a> 9.优化项目</h1><p>当我们移动场景后，如果进入下一个场景，发现场景还在中心位置，如果想设置场景的位置，需要添加如下下图中的代码：</p><p>MainScene中添加：</p><p><img src="/by-jj/QtCoin/image-20220329193317334.png" alt="image-20220329193317334"></p><p>ChooseScene中添加：</p><p><img src="/by-jj/QtCoin/image-20220329193322786.png" alt="image-20220329193322786"></p><p>测试切换三个场景的进入与返回都在同一个位置下，优化成功。</p><p>至此，本案例全部制作完成，（可自行扩展）</p><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/by-jj/assets/app.f5f78651.js" defer></script>
  </body>
</html>
